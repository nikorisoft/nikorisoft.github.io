var wg=Object.defineProperty;var bg=(g,k,M)=>k in g?wg(g,k,{enumerable:!0,configurable:!0,writable:!0,value:M}):g[k]=M;var Ul=(g,k,M)=>(bg(g,typeof k!="symbol"?k+"":k,M),M);(function(){const k=document.createElement("link").relList;if(k&&k.supports&&k.supports("modulepreload"))return;for(const N of document.querySelectorAll('link[rel="modulepreload"]'))D(N);new MutationObserver(N=>{for(const G of N)if(G.type==="childList")for(const et of G.addedNodes)et.tagName==="LINK"&&et.rel==="modulepreload"&&D(et)}).observe(document,{childList:!0,subtree:!0});function M(N){const G={};return N.integrity&&(G.integrity=N.integrity),N.referrerpolicy&&(G.referrerPolicy=N.referrerpolicy),N.crossorigin==="use-credentials"?G.credentials="include":N.crossorigin==="anonymous"?G.credentials="omit":G.credentials="same-origin",G}function D(N){if(N.ep)return;N.ep=!0;const G=M(N);fetch(N.href,G)}})();function op(g,k){const M=Object.create(null),D=g.split(",");for(let N=0;N<D.length;N++)M[D[N]]=!0;return k?N=>!!M[N.toLowerCase()]:N=>!!M[N]}function ap(g){if(Ai(g)){const k={};for(let M=0;M<g.length;M++){const D=g[M],N=Ns(D)?Sg(D):ap(D);if(N)for(const G in N)k[G]=N[G]}return k}else{if(Ns(g))return g;if(Jn(g))return g}}const kg=/;(?![^(]*\))/g,Tg=/:([^]+)/,Cg=/\/\*.*?\*\//gs;function Sg(g){const k={};return g.replace(Cg,"").split(kg).forEach(M=>{if(M){const D=M.split(Tg);D.length>1&&(k[D[0].trim()]=D[1].trim())}}),k}function lp(g){let k="";if(Ns(g))k=g;else if(Ai(g))for(let M=0;M<g.length;M++){const D=lp(g[M]);D&&(k+=D+" ")}else if(Jn(g))for(const M in g)g[M]&&(k+=M+" ");return k.trim()}const Eg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ig=op(Eg);function jf(g){return!!g||g===""}const Ag=g=>Ns(g)?g:g==null?"":Ai(g)||Jn(g)&&(g.toString===Gf||!Bi(g.toString))?JSON.stringify(g,qf,2):String(g),qf=(g,k)=>k&&k.__v_isRef?qf(g,k.value):Uh(k)?{[`Map(${k.size})`]:[...k.entries()].reduce((M,[D,N])=>(M[`${D} =>`]=N,M),{})}:Zf(k)?{[`Set(${k.size})`]:[...k.values()]}:Jn(k)&&!Ai(k)&&!Wf(k)?String(k):k,Nn={},Nh=[],Ia=()=>{},Mg=()=>!1,Pg=/^on[^a-z]/,ld=g=>Pg.test(g),cp=g=>g.startsWith("onUpdate:"),dr=Object.assign,hp=(g,k)=>{const M=g.indexOf(k);M>-1&&g.splice(M,1)},zg=Object.prototype.hasOwnProperty,Yi=(g,k)=>zg.call(g,k),Ai=Array.isArray,Uh=g=>cd(g)==="[object Map]",Zf=g=>cd(g)==="[object Set]",Bi=g=>typeof g=="function",Ns=g=>typeof g=="string",up=g=>typeof g=="symbol",Jn=g=>g!==null&&typeof g=="object",Hf=g=>Jn(g)&&Bi(g.then)&&Bi(g.catch),Gf=Object.prototype.toString,cd=g=>Gf.call(g),Lg=g=>cd(g).slice(8,-1),Wf=g=>cd(g)==="[object Object]",dp=g=>Ns(g)&&g!=="NaN"&&g[0]!=="-"&&""+parseInt(g,10)===g,Qu=op(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),hd=g=>{const k=Object.create(null);return M=>k[M]||(k[M]=g(M))},$g=/-(\w)/g,qh=hd(g=>g.replace($g,(k,M)=>M?M.toUpperCase():"")),Dg=/\B([A-Z])/g,Gh=hd(g=>g.replace(Dg,"-$1").toLowerCase()),Xf=hd(g=>g.charAt(0).toUpperCase()+g.slice(1)),Bd=hd(g=>g?`on${Xf(g)}`:""),Au=(g,k)=>!Object.is(g,k),Rd=(g,k)=>{for(let M=0;M<g.length;M++)g[M](k)},sd=(g,k,M)=>{Object.defineProperty(g,k,{configurable:!0,enumerable:!1,value:M})},Kf=g=>{const k=parseFloat(g);return isNaN(k)?g:k};let df;const Bg=()=>df||(df=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Ja;class Rg{constructor(k=!1){this.detached=k,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Ja,!k&&Ja&&(this.index=(Ja.scopes||(Ja.scopes=[])).push(this)-1)}run(k){if(this.active){const M=Ja;try{return Ja=this,k()}finally{Ja=M}}}on(){Ja=this}off(){Ja=this.parent}stop(k){if(this.active){let M,D;for(M=0,D=this.effects.length;M<D;M++)this.effects[M].stop();for(M=0,D=this.cleanups.length;M<D;M++)this.cleanups[M]();if(this.scopes)for(M=0,D=this.scopes.length;M<D;M++)this.scopes[M].stop(!0);if(!this.detached&&this.parent&&!k){const N=this.parent.scopes.pop();N&&N!==this&&(this.parent.scopes[this.index]=N,N.index=this.index)}this.parent=void 0,this.active=!1}}}function Fg(g,k=Ja){k&&k.active&&k.effects.push(g)}const pp=g=>{const k=new Set(g);return k.w=0,k.n=0,k},Yf=g=>(g.w&Ac)>0,Jf=g=>(g.n&Ac)>0,Og=({deps:g})=>{if(g.length)for(let k=0;k<g.length;k++)g[k].w|=Ac},Ng=g=>{const{deps:k}=g;if(k.length){let M=0;for(let D=0;D<k.length;D++){const N=k[D];Yf(N)&&!Jf(N)?N.delete(g):k[M++]=N,N.w&=~Ac,N.n&=~Ac}k.length=M}},Zd=new WeakMap;let Su=0,Ac=1;const Hd=30;let Ca;const yh=Symbol(""),Gd=Symbol("");class fp{constructor(k,M=null,D){this.fn=k,this.scheduler=M,this.active=!0,this.deps=[],this.parent=void 0,Fg(this,D)}run(){if(!this.active)return this.fn();let k=Ca,M=Sc;for(;k;){if(k===this)return;k=k.parent}try{return this.parent=Ca,Ca=this,Sc=!0,Ac=1<<++Su,Su<=Hd?Og(this):pf(this),this.fn()}finally{Su<=Hd&&Ng(this),Ac=1<<--Su,Ca=this.parent,Sc=M,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ca===this?this.deferStop=!0:this.active&&(pf(this),this.onStop&&this.onStop(),this.active=!1)}}function pf(g){const{deps:k}=g;if(k.length){for(let M=0;M<k.length;M++)k[M].delete(g);k.length=0}}let Sc=!0;const Qf=[];function Wh(){Qf.push(Sc),Sc=!1}function Xh(){const g=Qf.pop();Sc=g===void 0?!0:g}function Io(g,k,M){if(Sc&&Ca){let D=Zd.get(g);D||Zd.set(g,D=new Map);let N=D.get(M);N||D.set(M,N=pp()),tm(N)}}function tm(g,k){let M=!1;Su<=Hd?Jf(g)||(g.n|=Ac,M=!Yf(g)):M=!g.has(Ca),M&&(g.add(Ca),Ca.deps.push(g))}function Zl(g,k,M,D,N,G){const et=Zd.get(g);if(!et)return;let h=[];if(k==="clear")h=[...et.values()];else if(M==="length"&&Ai(g)){const ut=Kf(D);et.forEach((St,Bt)=>{(Bt==="length"||Bt>=ut)&&h.push(St)})}else switch(M!==void 0&&h.push(et.get(M)),k){case"add":Ai(g)?dp(M)&&h.push(et.get("length")):(h.push(et.get(yh)),Uh(g)&&h.push(et.get(Gd)));break;case"delete":Ai(g)||(h.push(et.get(yh)),Uh(g)&&h.push(et.get(Gd)));break;case"set":Uh(g)&&h.push(et.get(yh));break}if(h.length===1)h[0]&&Wd(h[0]);else{const ut=[];for(const St of h)St&&ut.push(...St);Wd(pp(ut))}}function Wd(g,k){const M=Ai(g)?g:[...g];for(const D of M)D.computed&&ff(D);for(const D of M)D.computed||ff(D)}function ff(g,k){(g!==Ca||g.allowRecurse)&&(g.scheduler?g.scheduler():g.run())}const Ug=op("__proto__,__v_isRef,__isVue"),em=new Set(Object.getOwnPropertyNames(Symbol).filter(g=>g!=="arguments"&&g!=="caller").map(g=>Symbol[g]).filter(up)),Vg=mp(),jg=mp(!1,!0),qg=mp(!0),mf=Zg();function Zg(){const g={};return["includes","indexOf","lastIndexOf"].forEach(k=>{g[k]=function(...M){const D=cn(this);for(let G=0,et=this.length;G<et;G++)Io(D,"get",G+"");const N=D[k](...M);return N===-1||N===!1?D[k](...M.map(cn)):N}}),["push","pop","shift","unshift","splice"].forEach(k=>{g[k]=function(...M){Wh();const D=cn(this)[k].apply(this,M);return Xh(),D}}),g}function mp(g=!1,k=!1){return function(D,N,G){if(N==="__v_isReactive")return!g;if(N==="__v_isReadonly")return g;if(N==="__v_isShallow")return k;if(N==="__v_raw"&&G===(g?k?a0:om:k?rm:sm).get(D))return D;const et=Ai(D);if(!g&&et&&Yi(mf,N))return Reflect.get(mf,N,G);const h=Reflect.get(D,N,G);return(up(N)?em.has(N):Ug(N))||(g||Io(D,"get",N),k)?h:ur(h)?et&&dp(N)?h:h.value:Jn(h)?g?am(h):_p(h):h}}const Hg=im(),Gg=im(!0);function im(g=!1){return function(M,D,N,G){let et=M[D];if(Zh(et)&&ur(et)&&!ur(N))return!1;if(!g&&(!rd(N)&&!Zh(N)&&(et=cn(et),N=cn(N)),!Ai(M)&&ur(et)&&!ur(N)))return et.value=N,!0;const h=Ai(M)&&dp(D)?Number(D)<M.length:Yi(M,D),ut=Reflect.set(M,D,N,G);return M===cn(G)&&(h?Au(N,et)&&Zl(M,"set",D,N):Zl(M,"add",D,N)),ut}}function Wg(g,k){const M=Yi(g,k);g[k];const D=Reflect.deleteProperty(g,k);return D&&M&&Zl(g,"delete",k,void 0),D}function Xg(g,k){const M=Reflect.has(g,k);return(!up(k)||!em.has(k))&&Io(g,"has",k),M}function Kg(g){return Io(g,"iterate",Ai(g)?"length":yh),Reflect.ownKeys(g)}const nm={get:Vg,set:Hg,deleteProperty:Wg,has:Xg,ownKeys:Kg},Yg={get:qg,set(g,k){return!0},deleteProperty(g,k){return!0}},Jg=dr({},nm,{get:jg,set:Gg}),gp=g=>g,ud=g=>Reflect.getPrototypeOf(g);function Hu(g,k,M=!1,D=!1){g=g.__v_raw;const N=cn(g),G=cn(k);M||(k!==G&&Io(N,"get",k),Io(N,"get",G));const{has:et}=ud(N),h=D?gp:M?vp:Mu;if(et.call(N,k))return h(g.get(k));if(et.call(N,G))return h(g.get(G));g!==N&&g.get(k)}function Gu(g,k=!1){const M=this.__v_raw,D=cn(M),N=cn(g);return k||(g!==N&&Io(D,"has",g),Io(D,"has",N)),g===N?M.has(g):M.has(g)||M.has(N)}function Wu(g,k=!1){return g=g.__v_raw,!k&&Io(cn(g),"iterate",yh),Reflect.get(g,"size",g)}function gf(g){g=cn(g);const k=cn(this);return ud(k).has.call(k,g)||(k.add(g),Zl(k,"add",g,g)),this}function yf(g,k){k=cn(k);const M=cn(this),{has:D,get:N}=ud(M);let G=D.call(M,g);G||(g=cn(g),G=D.call(M,g));const et=N.call(M,g);return M.set(g,k),G?Au(k,et)&&Zl(M,"set",g,k):Zl(M,"add",g,k),this}function _f(g){const k=cn(this),{has:M,get:D}=ud(k);let N=M.call(k,g);N||(g=cn(g),N=M.call(k,g)),D&&D.call(k,g);const G=k.delete(g);return N&&Zl(k,"delete",g,void 0),G}function xf(){const g=cn(this),k=g.size!==0,M=g.clear();return k&&Zl(g,"clear",void 0,void 0),M}function Xu(g,k){return function(D,N){const G=this,et=G.__v_raw,h=cn(et),ut=k?gp:g?vp:Mu;return!g&&Io(h,"iterate",yh),et.forEach((St,Bt)=>D.call(N,ut(St),ut(Bt),G))}}function Ku(g,k,M){return function(...D){const N=this.__v_raw,G=cn(N),et=Uh(G),h=g==="entries"||g===Symbol.iterator&&et,ut=g==="keys"&&et,St=N[g](...D),Bt=M?gp:k?vp:Mu;return!k&&Io(G,"iterate",ut?Gd:yh),{next(){const{value:Lt,done:lt}=St.next();return lt?{value:Lt,done:lt}:{value:h?[Bt(Lt[0]),Bt(Lt[1])]:Bt(Lt),done:lt}},[Symbol.iterator](){return this}}}}function Tc(g){return function(...k){return g==="delete"?!1:this}}function Qg(){const g={get(G){return Hu(this,G)},get size(){return Wu(this)},has:Gu,add:gf,set:yf,delete:_f,clear:xf,forEach:Xu(!1,!1)},k={get(G){return Hu(this,G,!1,!0)},get size(){return Wu(this)},has:Gu,add:gf,set:yf,delete:_f,clear:xf,forEach:Xu(!1,!0)},M={get(G){return Hu(this,G,!0)},get size(){return Wu(this,!0)},has(G){return Gu.call(this,G,!0)},add:Tc("add"),set:Tc("set"),delete:Tc("delete"),clear:Tc("clear"),forEach:Xu(!0,!1)},D={get(G){return Hu(this,G,!0,!0)},get size(){return Wu(this,!0)},has(G){return Gu.call(this,G,!0)},add:Tc("add"),set:Tc("set"),delete:Tc("delete"),clear:Tc("clear"),forEach:Xu(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(G=>{g[G]=Ku(G,!1,!1),M[G]=Ku(G,!0,!1),k[G]=Ku(G,!1,!0),D[G]=Ku(G,!0,!0)}),[g,M,k,D]}const[t0,e0,i0,n0]=Qg();function yp(g,k){const M=k?g?n0:i0:g?e0:t0;return(D,N,G)=>N==="__v_isReactive"?!g:N==="__v_isReadonly"?g:N==="__v_raw"?D:Reflect.get(Yi(M,N)&&N in D?M:D,N,G)}const s0={get:yp(!1,!1)},r0={get:yp(!1,!0)},o0={get:yp(!0,!1)},sm=new WeakMap,rm=new WeakMap,om=new WeakMap,a0=new WeakMap;function l0(g){switch(g){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function c0(g){return g.__v_skip||!Object.isExtensible(g)?0:l0(Lg(g))}function _p(g){return Zh(g)?g:xp(g,!1,nm,s0,sm)}function h0(g){return xp(g,!1,Jg,r0,rm)}function am(g){return xp(g,!0,Yg,o0,om)}function xp(g,k,M,D,N){if(!Jn(g)||g.__v_raw&&!(k&&g.__v_isReactive))return g;const G=N.get(g);if(G)return G;const et=c0(g);if(et===0)return g;const h=new Proxy(g,et===2?D:M);return N.set(g,h),h}function Vh(g){return Zh(g)?Vh(g.__v_raw):!!(g&&g.__v_isReactive)}function Zh(g){return!!(g&&g.__v_isReadonly)}function rd(g){return!!(g&&g.__v_isShallow)}function lm(g){return Vh(g)||Zh(g)}function cn(g){const k=g&&g.__v_raw;return k?cn(k):g}function cm(g){return sd(g,"__v_skip",!0),g}const Mu=g=>Jn(g)?_p(g):g,vp=g=>Jn(g)?am(g):g;function hm(g){Sc&&Ca&&(g=cn(g),tm(g.dep||(g.dep=pp())))}function um(g,k){g=cn(g),g.dep&&Wd(g.dep)}function ur(g){return!!(g&&g.__v_isRef===!0)}function u0(g){return d0(g,!1)}function d0(g,k){return ur(g)?g:new p0(g,k)}class p0{constructor(k,M){this.__v_isShallow=M,this.dep=void 0,this.__v_isRef=!0,this._rawValue=M?k:cn(k),this._value=M?k:Mu(k)}get value(){return hm(this),this._value}set value(k){const M=this.__v_isShallow||rd(k)||Zh(k);k=M?k:cn(k),Au(k,this._rawValue)&&(this._rawValue=k,this._value=M?k:Mu(k),um(this))}}function dm(g){return ur(g)?g.value:g}const f0={get:(g,k,M)=>dm(Reflect.get(g,k,M)),set:(g,k,M,D)=>{const N=g[k];return ur(N)&&!ur(M)?(N.value=M,!0):Reflect.set(g,k,M,D)}};function pm(g){return Vh(g)?g:new Proxy(g,f0)}var fm;class m0{constructor(k,M,D,N){this._setter=M,this.dep=void 0,this.__v_isRef=!0,this[fm]=!1,this._dirty=!0,this.effect=new fp(k,()=>{this._dirty||(this._dirty=!0,um(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!N,this.__v_isReadonly=D}get value(){const k=cn(this);return hm(k),(k._dirty||!k._cacheable)&&(k._dirty=!1,k._value=k.effect.run()),k._value}set value(k){this._setter(k)}}fm="__v_isReadonly";function g0(g,k,M=!1){let D,N;const G=Bi(g);return G?(D=g,N=Ia):(D=g.get,N=g.set),new m0(D,N,G||!N,M)}function Ec(g,k,M,D){let N;try{N=D?g(...D):g()}catch(G){dd(G,k,M)}return N}function Qo(g,k,M,D){if(Bi(g)){const G=Ec(g,k,M,D);return G&&Hf(G)&&G.catch(et=>{dd(et,k,M)}),G}const N=[];for(let G=0;G<g.length;G++)N.push(Qo(g[G],k,M,D));return N}function dd(g,k,M,D=!0){const N=k?k.vnode:null;if(k){let G=k.parent;const et=k.proxy,h=M;for(;G;){const St=G.ec;if(St){for(let Bt=0;Bt<St.length;Bt++)if(St[Bt](g,et,h)===!1)return}G=G.parent}const ut=k.appContext.config.errorHandler;if(ut){Ec(ut,null,10,[g,et,h]);return}}y0(g,M,N,D)}function y0(g,k,M,D=!0){console.error(g)}let Pu=!1,Xd=!1;const hr=[];let el=0;const jh=[];let Vl=null,fh=0;const mm=Promise.resolve();let wp=null;function _0(g){const k=wp||mm;return g?k.then(this?g.bind(this):g):k}function x0(g){let k=el+1,M=hr.length;for(;k<M;){const D=k+M>>>1;zu(hr[D])<g?k=D+1:M=D}return k}function bp(g){(!hr.length||!hr.includes(g,Pu&&g.allowRecurse?el+1:el))&&(g.id==null?hr.push(g):hr.splice(x0(g.id),0,g),gm())}function gm(){!Pu&&!Xd&&(Xd=!0,wp=mm.then(_m))}function v0(g){const k=hr.indexOf(g);k>el&&hr.splice(k,1)}function w0(g){Ai(g)?jh.push(...g):(!Vl||!Vl.includes(g,g.allowRecurse?fh+1:fh))&&jh.push(g),gm()}function vf(g,k=Pu?el+1:0){for(;k<hr.length;k++){const M=hr[k];M&&M.pre&&(hr.splice(k,1),k--,M())}}function ym(g){if(jh.length){const k=[...new Set(jh)];if(jh.length=0,Vl){Vl.push(...k);return}for(Vl=k,Vl.sort((M,D)=>zu(M)-zu(D)),fh=0;fh<Vl.length;fh++)Vl[fh]();Vl=null,fh=0}}const zu=g=>g.id==null?1/0:g.id,b0=(g,k)=>{const M=zu(g)-zu(k);if(M===0){if(g.pre&&!k.pre)return-1;if(k.pre&&!g.pre)return 1}return M};function _m(g){Xd=!1,Pu=!0,hr.sort(b0);const k=Ia;try{for(el=0;el<hr.length;el++){const M=hr[el];M&&M.active!==!1&&Ec(M,null,14)}}finally{el=0,hr.length=0,ym(),Pu=!1,wp=null,(hr.length||jh.length)&&_m()}}function k0(g,k,...M){if(g.isUnmounted)return;const D=g.vnode.props||Nn;let N=M;const G=k.startsWith("update:"),et=G&&k.slice(7);if(et&&et in D){const Bt=`${et==="modelValue"?"model":et}Modifiers`,{number:Lt,trim:lt}=D[Bt]||Nn;lt&&(N=M.map(kt=>Ns(kt)?kt.trim():kt)),Lt&&(N=M.map(Kf))}let h,ut=D[h=Bd(k)]||D[h=Bd(qh(k))];!ut&&G&&(ut=D[h=Bd(Gh(k))]),ut&&Qo(ut,g,6,N);const St=D[h+"Once"];if(St){if(!g.emitted)g.emitted={};else if(g.emitted[h])return;g.emitted[h]=!0,Qo(St,g,6,N)}}function xm(g,k,M=!1){const D=k.emitsCache,N=D.get(g);if(N!==void 0)return N;const G=g.emits;let et={},h=!1;if(!Bi(g)){const ut=St=>{const Bt=xm(St,k,!0);Bt&&(h=!0,dr(et,Bt))};!M&&k.mixins.length&&k.mixins.forEach(ut),g.extends&&ut(g.extends),g.mixins&&g.mixins.forEach(ut)}return!G&&!h?(Jn(g)&&D.set(g,null),null):(Ai(G)?G.forEach(ut=>et[ut]=null):dr(et,G),Jn(g)&&D.set(g,et),et)}function pd(g,k){return!g||!ld(k)?!1:(k=k.slice(2).replace(/Once$/,""),Yi(g,k[0].toLowerCase()+k.slice(1))||Yi(g,Gh(k))||Yi(g,k))}let Sa=null,vm=null;function od(g){const k=Sa;return Sa=g,vm=g&&g.type.__scopeId||null,k}function T0(g,k=Sa,M){if(!k||g._n)return g;const D=(...N)=>{D._d&&Af(-1);const G=od(k);let et;try{et=g(...N)}finally{od(G),D._d&&Af(1)}return et};return D._n=!0,D._c=!0,D._d=!0,D}function Fd(g){const{type:k,vnode:M,proxy:D,withProxy:N,props:G,propsOptions:[et],slots:h,attrs:ut,emit:St,render:Bt,renderCache:Lt,data:lt,setupState:kt,ctx:Te,inheritAttrs:Xt}=g;let Pi,Ye;const li=od(g);try{if(M.shapeFlag&4){const ti=N||D;Pi=tl(Bt.call(ti,ti,Lt,G,kt,lt,Te)),Ye=ut}else{const ti=k;Pi=tl(ti.length>1?ti(G,{attrs:ut,slots:h,emit:St}):ti(G,null)),Ye=k.props?ut:C0(ut)}}catch(ti){Iu.length=0,dd(ti,g,1),Pi=Ic(ql)}let Ce=Pi;if(Ye&&Xt!==!1){const ti=Object.keys(Ye),{shapeFlag:ii}=Ce;ti.length&&ii&7&&(et&&ti.some(cp)&&(Ye=S0(Ye,et)),Ce=Mc(Ce,Ye))}return M.dirs&&(Ce=Mc(Ce),Ce.dirs=Ce.dirs?Ce.dirs.concat(M.dirs):M.dirs),M.transition&&(Ce.transition=M.transition),Pi=Ce,od(li),Pi}const C0=g=>{let k;for(const M in g)(M==="class"||M==="style"||ld(M))&&((k||(k={}))[M]=g[M]);return k},S0=(g,k)=>{const M={};for(const D in g)(!cp(D)||!(D.slice(9)in k))&&(M[D]=g[D]);return M};function E0(g,k,M){const{props:D,children:N,component:G}=g,{props:et,children:h,patchFlag:ut}=k,St=G.emitsOptions;if(k.dirs||k.transition)return!0;if(M&&ut>=0){if(ut&1024)return!0;if(ut&16)return D?wf(D,et,St):!!et;if(ut&8){const Bt=k.dynamicProps;for(let Lt=0;Lt<Bt.length;Lt++){const lt=Bt[Lt];if(et[lt]!==D[lt]&&!pd(St,lt))return!0}}}else return(N||h)&&(!h||!h.$stable)?!0:D===et?!1:D?et?wf(D,et,St):!0:!!et;return!1}function wf(g,k,M){const D=Object.keys(k);if(D.length!==Object.keys(g).length)return!0;for(let N=0;N<D.length;N++){const G=D[N];if(k[G]!==g[G]&&!pd(M,G))return!0}return!1}function I0({vnode:g,parent:k},M){for(;k&&k.subTree===g;)(g=k.vnode).el=M,k=k.parent}const A0=g=>g.__isSuspense;function M0(g,k){k&&k.pendingBranch?Ai(g)?k.effects.push(...g):k.effects.push(g):w0(g)}function P0(g,k){if(Qs){let M=Qs.provides;const D=Qs.parent&&Qs.parent.provides;D===M&&(M=Qs.provides=Object.create(D)),M[g]=k}}function td(g,k,M=!1){const D=Qs||Sa;if(D){const N=D.parent==null?D.vnode.appContext&&D.vnode.appContext.provides:D.parent.provides;if(N&&g in N)return N[g];if(arguments.length>1)return M&&Bi(k)?k.call(D.proxy):k}}const Yu={};function ed(g,k,M){return wm(g,k,M)}function wm(g,k,{immediate:M,deep:D,flush:N,onTrack:G,onTrigger:et}=Nn){const h=Qs;let ut,St=!1,Bt=!1;if(ur(g)?(ut=()=>g.value,St=rd(g)):Vh(g)?(ut=()=>g,D=!0):Ai(g)?(Bt=!0,St=g.some(Ce=>Vh(Ce)||rd(Ce)),ut=()=>g.map(Ce=>{if(ur(Ce))return Ce.value;if(Vh(Ce))return Oh(Ce);if(Bi(Ce))return Ec(Ce,h,2)})):Bi(g)?k?ut=()=>Ec(g,h,2):ut=()=>{if(!(h&&h.isUnmounted))return Lt&&Lt(),Qo(g,h,3,[lt])}:ut=Ia,k&&D){const Ce=ut;ut=()=>Oh(Ce())}let Lt,lt=Ce=>{Lt=Ye.onStop=()=>{Ec(Ce,h,4)}},kt;if($u)if(lt=Ia,k?M&&Qo(k,h,3,[ut(),Bt?[]:void 0,lt]):ut(),N==="sync"){const Ce=E1();kt=Ce.__watcherHandles||(Ce.__watcherHandles=[])}else return Ia;let Te=Bt?new Array(g.length).fill(Yu):Yu;const Xt=()=>{if(Ye.active)if(k){const Ce=Ye.run();(D||St||(Bt?Ce.some((ti,ii)=>Au(ti,Te[ii])):Au(Ce,Te)))&&(Lt&&Lt(),Qo(k,h,3,[Ce,Te===Yu?void 0:Bt&&Te[0]===Yu?[]:Te,lt]),Te=Ce)}else Ye.run()};Xt.allowRecurse=!!k;let Pi;N==="sync"?Pi=Xt:N==="post"?Pi=()=>Xr(Xt,h&&h.suspense):(Xt.pre=!0,h&&(Xt.id=h.uid),Pi=()=>bp(Xt));const Ye=new fp(ut,Pi);k?M?Xt():Te=Ye.run():N==="post"?Xr(Ye.run.bind(Ye),h&&h.suspense):Ye.run();const li=()=>{Ye.stop(),h&&h.scope&&hp(h.scope.effects,Ye)};return kt&&kt.push(li),li}function z0(g,k,M){const D=this.proxy,N=Ns(g)?g.includes(".")?bm(D,g):()=>D[g]:g.bind(D,D);let G;Bi(k)?G=k:(G=k.handler,M=k);const et=Qs;Hh(this);const h=wm(N,G.bind(D),M);return et?Hh(et):_h(),h}function bm(g,k){const M=k.split(".");return()=>{let D=g;for(let N=0;N<M.length&&D;N++)D=D[M[N]];return D}}function Oh(g,k){if(!Jn(g)||g.__v_skip||(k=k||new Set,k.has(g)))return g;if(k.add(g),ur(g))Oh(g.value,k);else if(Ai(g))for(let M=0;M<g.length;M++)Oh(g[M],k);else if(Zf(g)||Uh(g))g.forEach(M=>{Oh(M,k)});else if(Wf(g))for(const M in g)Oh(g[M],k);return g}function L0(){const g={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return kp(()=>{g.isMounted=!0}),Em(()=>{g.isUnmounting=!0}),g}const Jo=[Function,Array],$0={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Jo,onEnter:Jo,onAfterEnter:Jo,onEnterCancelled:Jo,onBeforeLeave:Jo,onLeave:Jo,onAfterLeave:Jo,onLeaveCancelled:Jo,onBeforeAppear:Jo,onAppear:Jo,onAfterAppear:Jo,onAppearCancelled:Jo},setup(g,{slots:k}){const M=v1(),D=L0();let N;return()=>{const G=k.default&&Tm(k.default(),!0);if(!G||!G.length)return;let et=G[0];if(G.length>1){for(const Xt of G)if(Xt.type!==ql){et=Xt;break}}const h=cn(g),{mode:ut}=h;if(D.isLeaving)return Od(et);const St=bf(et);if(!St)return Od(et);const Bt=Kd(St,h,D,M);Yd(St,Bt);const Lt=M.subTree,lt=Lt&&bf(Lt);let kt=!1;const{getTransitionKey:Te}=St.type;if(Te){const Xt=Te();N===void 0?N=Xt:Xt!==N&&(N=Xt,kt=!0)}if(lt&&lt.type!==ql&&(!mh(St,lt)||kt)){const Xt=Kd(lt,h,D,M);if(Yd(lt,Xt),ut==="out-in")return D.isLeaving=!0,Xt.afterLeave=()=>{D.isLeaving=!1,M.update.active!==!1&&M.update()},Od(et);ut==="in-out"&&St.type!==ql&&(Xt.delayLeave=(Pi,Ye,li)=>{const Ce=km(D,lt);Ce[String(lt.key)]=lt,Pi._leaveCb=()=>{Ye(),Pi._leaveCb=void 0,delete Bt.delayedLeave},Bt.delayedLeave=li})}return et}}},D0=$0;function km(g,k){const{leavingVNodes:M}=g;let D=M.get(k.type);return D||(D=Object.create(null),M.set(k.type,D)),D}function Kd(g,k,M,D){const{appear:N,mode:G,persisted:et=!1,onBeforeEnter:h,onEnter:ut,onAfterEnter:St,onEnterCancelled:Bt,onBeforeLeave:Lt,onLeave:lt,onAfterLeave:kt,onLeaveCancelled:Te,onBeforeAppear:Xt,onAppear:Pi,onAfterAppear:Ye,onAppearCancelled:li}=k,Ce=String(g.key),ti=km(M,g),ii=(Ne,Xi)=>{Ne&&Qo(Ne,D,9,Xi)},dn=(Ne,Xi)=>{const xi=Xi[1];ii(Ne,Xi),Ai(Ne)?Ne.every(Me=>Me.length<=1)&&xi():Ne.length<=1&&xi()},wn={mode:G,persisted:et,beforeEnter(Ne){let Xi=h;if(!M.isMounted)if(N)Xi=Xt||h;else return;Ne._leaveCb&&Ne._leaveCb(!0);const xi=ti[Ce];xi&&mh(g,xi)&&xi.el._leaveCb&&xi.el._leaveCb(),ii(Xi,[Ne])},enter(Ne){let Xi=ut,xi=St,Me=Bt;if(!M.isMounted)if(N)Xi=Pi||ut,xi=Ye||St,Me=li||Bt;else return;let Ui=!1;const Hi=Ne._enterCb=gn=>{Ui||(Ui=!0,gn?ii(Me,[Ne]):ii(xi,[Ne]),wn.delayedLeave&&wn.delayedLeave(),Ne._enterCb=void 0)};Xi?dn(Xi,[Ne,Hi]):Hi()},leave(Ne,Xi){const xi=String(g.key);if(Ne._enterCb&&Ne._enterCb(!0),M.isUnmounting)return Xi();ii(Lt,[Ne]);let Me=!1;const Ui=Ne._leaveCb=Hi=>{Me||(Me=!0,Xi(),Hi?ii(Te,[Ne]):ii(kt,[Ne]),Ne._leaveCb=void 0,ti[xi]===g&&delete ti[xi])};ti[xi]=g,lt?dn(lt,[Ne,Ui]):Ui()},clone(Ne){return Kd(Ne,k,M,D)}};return wn}function Od(g){if(fd(g))return g=Mc(g),g.children=null,g}function bf(g){return fd(g)?g.children?g.children[0]:void 0:g}function Yd(g,k){g.shapeFlag&6&&g.component?Yd(g.component.subTree,k):g.shapeFlag&128?(g.ssContent.transition=k.clone(g.ssContent),g.ssFallback.transition=k.clone(g.ssFallback)):g.transition=k}function Tm(g,k=!1,M){let D=[],N=0;for(let G=0;G<g.length;G++){let et=g[G];const h=M==null?et.key:String(M)+String(et.key!=null?et.key:G);et.type===Qa?(et.patchFlag&128&&N++,D=D.concat(Tm(et.children,k,h))):(k||et.type!==ql)&&D.push(h!=null?Mc(et,{key:h}):et)}if(N>1)for(let G=0;G<D.length;G++)D[G].patchFlag=-2;return D}function Cm(g){return Bi(g)?{setup:g,name:g.name}:g}const id=g=>!!g.type.__asyncLoader,fd=g=>g.type.__isKeepAlive;function B0(g,k){Sm(g,"a",k)}function R0(g,k){Sm(g,"da",k)}function Sm(g,k,M=Qs){const D=g.__wdc||(g.__wdc=()=>{let N=M;for(;N;){if(N.isDeactivated)return;N=N.parent}return g()});if(md(k,D,M),M){let N=M.parent;for(;N&&N.parent;)fd(N.parent.vnode)&&F0(D,k,M,N),N=N.parent}}function F0(g,k,M,D){const N=md(k,g,D,!0);Im(()=>{hp(D[k],N)},M)}function md(g,k,M=Qs,D=!1){if(M){const N=M[g]||(M[g]=[]),G=k.__weh||(k.__weh=(...et)=>{if(M.isUnmounted)return;Wh(),Hh(M);const h=Qo(k,M,g,et);return _h(),Xh(),h});return D?N.unshift(G):N.push(G),G}}const Hl=g=>(k,M=Qs)=>(!$u||g==="sp")&&md(g,(...D)=>k(...D),M),O0=Hl("bm"),kp=Hl("m"),N0=Hl("bu"),U0=Hl("u"),Em=Hl("bum"),Im=Hl("um"),V0=Hl("sp"),j0=Hl("rtg"),q0=Hl("rtc");function Z0(g,k=Qs){md("ec",g,k)}function uh(g,k,M,D){const N=g.dirs,G=k&&k.dirs;for(let et=0;et<N.length;et++){const h=N[et];G&&(h.oldValue=G[et].value);let ut=h.dir[D];ut&&(Wh(),Qo(ut,M,8,[g.el,h,g,k]),Xh())}}const H0=Symbol(),Jd=g=>g?Nm(g)?Ep(g)||g.proxy:Jd(g.parent):null,Eu=dr(Object.create(null),{$:g=>g,$el:g=>g.vnode.el,$data:g=>g.data,$props:g=>g.props,$attrs:g=>g.attrs,$slots:g=>g.slots,$refs:g=>g.refs,$parent:g=>Jd(g.parent),$root:g=>Jd(g.root),$emit:g=>g.emit,$options:g=>Tp(g),$forceUpdate:g=>g.f||(g.f=()=>bp(g.update)),$nextTick:g=>g.n||(g.n=_0.bind(g.proxy)),$watch:g=>z0.bind(g)}),Nd=(g,k)=>g!==Nn&&!g.__isScriptSetup&&Yi(g,k),G0={get({_:g},k){const{ctx:M,setupState:D,data:N,props:G,accessCache:et,type:h,appContext:ut}=g;let St;if(k[0]!=="$"){const kt=et[k];if(kt!==void 0)switch(kt){case 1:return D[k];case 2:return N[k];case 4:return M[k];case 3:return G[k]}else{if(Nd(D,k))return et[k]=1,D[k];if(N!==Nn&&Yi(N,k))return et[k]=2,N[k];if((St=g.propsOptions[0])&&Yi(St,k))return et[k]=3,G[k];if(M!==Nn&&Yi(M,k))return et[k]=4,M[k];Qd&&(et[k]=0)}}const Bt=Eu[k];let Lt,lt;if(Bt)return k==="$attrs"&&Io(g,"get",k),Bt(g);if((Lt=h.__cssModules)&&(Lt=Lt[k]))return Lt;if(M!==Nn&&Yi(M,k))return et[k]=4,M[k];if(lt=ut.config.globalProperties,Yi(lt,k))return lt[k]},set({_:g},k,M){const{data:D,setupState:N,ctx:G}=g;return Nd(N,k)?(N[k]=M,!0):D!==Nn&&Yi(D,k)?(D[k]=M,!0):Yi(g.props,k)||k[0]==="$"&&k.slice(1)in g?!1:(G[k]=M,!0)},has({_:{data:g,setupState:k,accessCache:M,ctx:D,appContext:N,propsOptions:G}},et){let h;return!!M[et]||g!==Nn&&Yi(g,et)||Nd(k,et)||(h=G[0])&&Yi(h,et)||Yi(D,et)||Yi(Eu,et)||Yi(N.config.globalProperties,et)},defineProperty(g,k,M){return M.get!=null?g._.accessCache[k]=0:Yi(M,"value")&&this.set(g,k,M.value,null),Reflect.defineProperty(g,k,M)}};let Qd=!0;function W0(g){const k=Tp(g),M=g.proxy,D=g.ctx;Qd=!1,k.beforeCreate&&kf(k.beforeCreate,g,"bc");const{data:N,computed:G,methods:et,watch:h,provide:ut,inject:St,created:Bt,beforeMount:Lt,mounted:lt,beforeUpdate:kt,updated:Te,activated:Xt,deactivated:Pi,beforeDestroy:Ye,beforeUnmount:li,destroyed:Ce,unmounted:ti,render:ii,renderTracked:dn,renderTriggered:wn,errorCaptured:Ne,serverPrefetch:Xi,expose:xi,inheritAttrs:Me,components:Ui,directives:Hi,filters:gn}=k;if(St&&X0(St,D,null,g.appContext.config.unwrapInjectedRef),et)for(const ri in et){const Ht=et[ri];Bi(Ht)&&(D[ri]=Ht.bind(M))}if(N){const ri=N.call(M,M);Jn(ri)&&(g.data=_p(ri))}if(Qd=!0,G)for(const ri in G){const Ht=G[ri],je=Bi(Ht)?Ht.bind(M,M):Bi(Ht.get)?Ht.get.bind(M,M):Ia,ne=!Bi(Ht)&&Bi(Ht.set)?Ht.set.bind(M):Ia,Ji=Vm({get:je,set:ne});Object.defineProperty(D,ri,{enumerable:!0,configurable:!0,get:()=>Ji.value,set:Qi=>Ji.value=Qi})}if(h)for(const ri in h)Am(h[ri],D,M,ri);if(ut){const ri=Bi(ut)?ut.call(M):ut;Reflect.ownKeys(ri).forEach(Ht=>{P0(Ht,ri[Ht])})}Bt&&kf(Bt,g,"c");function ve(ri,Ht){Ai(Ht)?Ht.forEach(je=>ri(je.bind(M))):Ht&&ri(Ht.bind(M))}if(ve(O0,Lt),ve(kp,lt),ve(N0,kt),ve(U0,Te),ve(B0,Xt),ve(R0,Pi),ve(Z0,Ne),ve(q0,dn),ve(j0,wn),ve(Em,li),ve(Im,ti),ve(V0,Xi),Ai(xi))if(xi.length){const ri=g.exposed||(g.exposed={});xi.forEach(Ht=>{Object.defineProperty(ri,Ht,{get:()=>M[Ht],set:je=>M[Ht]=je})})}else g.exposed||(g.exposed={});ii&&g.render===Ia&&(g.render=ii),Me!=null&&(g.inheritAttrs=Me),Ui&&(g.components=Ui),Hi&&(g.directives=Hi)}function X0(g,k,M=Ia,D=!1){Ai(g)&&(g=tp(g));for(const N in g){const G=g[N];let et;Jn(G)?"default"in G?et=td(G.from||N,G.default,!0):et=td(G.from||N):et=td(G),ur(et)&&D?Object.defineProperty(k,N,{enumerable:!0,configurable:!0,get:()=>et.value,set:h=>et.value=h}):k[N]=et}}function kf(g,k,M){Qo(Ai(g)?g.map(D=>D.bind(k.proxy)):g.bind(k.proxy),k,M)}function Am(g,k,M,D){const N=D.includes(".")?bm(M,D):()=>M[D];if(Ns(g)){const G=k[g];Bi(G)&&ed(N,G)}else if(Bi(g))ed(N,g.bind(M));else if(Jn(g))if(Ai(g))g.forEach(G=>Am(G,k,M,D));else{const G=Bi(g.handler)?g.handler.bind(M):k[g.handler];Bi(G)&&ed(N,G,g)}}function Tp(g){const k=g.type,{mixins:M,extends:D}=k,{mixins:N,optionsCache:G,config:{optionMergeStrategies:et}}=g.appContext,h=G.get(k);let ut;return h?ut=h:!N.length&&!M&&!D?ut=k:(ut={},N.length&&N.forEach(St=>ad(ut,St,et,!0)),ad(ut,k,et)),Jn(k)&&G.set(k,ut),ut}function ad(g,k,M,D=!1){const{mixins:N,extends:G}=k;G&&ad(g,G,M,!0),N&&N.forEach(et=>ad(g,et,M,!0));for(const et in k)if(!(D&&et==="expose")){const h=K0[et]||M&&M[et];g[et]=h?h(g[et],k[et]):k[et]}return g}const K0={data:Tf,props:ph,emits:ph,methods:ph,computed:ph,beforeCreate:Mr,created:Mr,beforeMount:Mr,mounted:Mr,beforeUpdate:Mr,updated:Mr,beforeDestroy:Mr,beforeUnmount:Mr,destroyed:Mr,unmounted:Mr,activated:Mr,deactivated:Mr,errorCaptured:Mr,serverPrefetch:Mr,components:ph,directives:ph,watch:J0,provide:Tf,inject:Y0};function Tf(g,k){return k?g?function(){return dr(Bi(g)?g.call(this,this):g,Bi(k)?k.call(this,this):k)}:k:g}function Y0(g,k){return ph(tp(g),tp(k))}function tp(g){if(Ai(g)){const k={};for(let M=0;M<g.length;M++)k[g[M]]=g[M];return k}return g}function Mr(g,k){return g?[...new Set([].concat(g,k))]:k}function ph(g,k){return g?dr(dr(Object.create(null),g),k):k}function J0(g,k){if(!g)return k;if(!k)return g;const M=dr(Object.create(null),g);for(const D in k)M[D]=Mr(g[D],k[D]);return M}function Q0(g,k,M,D=!1){const N={},G={};sd(G,yd,1),g.propsDefaults=Object.create(null),Mm(g,k,N,G);for(const et in g.propsOptions[0])et in N||(N[et]=void 0);M?g.props=D?N:h0(N):g.type.props?g.props=N:g.props=G,g.attrs=G}function t1(g,k,M,D){const{props:N,attrs:G,vnode:{patchFlag:et}}=g,h=cn(N),[ut]=g.propsOptions;let St=!1;if((D||et>0)&&!(et&16)){if(et&8){const Bt=g.vnode.dynamicProps;for(let Lt=0;Lt<Bt.length;Lt++){let lt=Bt[Lt];if(pd(g.emitsOptions,lt))continue;const kt=k[lt];if(ut)if(Yi(G,lt))kt!==G[lt]&&(G[lt]=kt,St=!0);else{const Te=qh(lt);N[Te]=ep(ut,h,Te,kt,g,!1)}else kt!==G[lt]&&(G[lt]=kt,St=!0)}}}else{Mm(g,k,N,G)&&(St=!0);let Bt;for(const Lt in h)(!k||!Yi(k,Lt)&&((Bt=Gh(Lt))===Lt||!Yi(k,Bt)))&&(ut?M&&(M[Lt]!==void 0||M[Bt]!==void 0)&&(N[Lt]=ep(ut,h,Lt,void 0,g,!0)):delete N[Lt]);if(G!==h)for(const Lt in G)(!k||!Yi(k,Lt))&&(delete G[Lt],St=!0)}St&&Zl(g,"set","$attrs")}function Mm(g,k,M,D){const[N,G]=g.propsOptions;let et=!1,h;if(k)for(let ut in k){if(Qu(ut))continue;const St=k[ut];let Bt;N&&Yi(N,Bt=qh(ut))?!G||!G.includes(Bt)?M[Bt]=St:(h||(h={}))[Bt]=St:pd(g.emitsOptions,ut)||(!(ut in D)||St!==D[ut])&&(D[ut]=St,et=!0)}if(G){const ut=cn(M),St=h||Nn;for(let Bt=0;Bt<G.length;Bt++){const Lt=G[Bt];M[Lt]=ep(N,ut,Lt,St[Lt],g,!Yi(St,Lt))}}return et}function ep(g,k,M,D,N,G){const et=g[M];if(et!=null){const h=Yi(et,"default");if(h&&D===void 0){const ut=et.default;if(et.type!==Function&&Bi(ut)){const{propsDefaults:St}=N;M in St?D=St[M]:(Hh(N),D=St[M]=ut.call(null,k),_h())}else D=ut}et[0]&&(G&&!h?D=!1:et[1]&&(D===""||D===Gh(M))&&(D=!0))}return D}function Pm(g,k,M=!1){const D=k.propsCache,N=D.get(g);if(N)return N;const G=g.props,et={},h=[];let ut=!1;if(!Bi(g)){const Bt=Lt=>{ut=!0;const[lt,kt]=Pm(Lt,k,!0);dr(et,lt),kt&&h.push(...kt)};!M&&k.mixins.length&&k.mixins.forEach(Bt),g.extends&&Bt(g.extends),g.mixins&&g.mixins.forEach(Bt)}if(!G&&!ut)return Jn(g)&&D.set(g,Nh),Nh;if(Ai(G))for(let Bt=0;Bt<G.length;Bt++){const Lt=qh(G[Bt]);Cf(Lt)&&(et[Lt]=Nn)}else if(G)for(const Bt in G){const Lt=qh(Bt);if(Cf(Lt)){const lt=G[Bt],kt=et[Lt]=Ai(lt)||Bi(lt)?{type:lt}:Object.assign({},lt);if(kt){const Te=If(Boolean,kt.type),Xt=If(String,kt.type);kt[0]=Te>-1,kt[1]=Xt<0||Te<Xt,(Te>-1||Yi(kt,"default"))&&h.push(Lt)}}}const St=[et,h];return Jn(g)&&D.set(g,St),St}function Cf(g){return g[0]!=="$"}function Sf(g){const k=g&&g.toString().match(/^\s*function (\w+)/);return k?k[1]:g===null?"null":""}function Ef(g,k){return Sf(g)===Sf(k)}function If(g,k){return Ai(k)?k.findIndex(M=>Ef(M,g)):Bi(k)&&Ef(k,g)?0:-1}const zm=g=>g[0]==="_"||g==="$stable",Cp=g=>Ai(g)?g.map(tl):[tl(g)],e1=(g,k,M)=>{if(k._n)return k;const D=T0((...N)=>Cp(k(...N)),M);return D._c=!1,D},Lm=(g,k,M)=>{const D=g._ctx;for(const N in g){if(zm(N))continue;const G=g[N];if(Bi(G))k[N]=e1(N,G,D);else if(G!=null){const et=Cp(G);k[N]=()=>et}}},$m=(g,k)=>{const M=Cp(k);g.slots.default=()=>M},i1=(g,k)=>{if(g.vnode.shapeFlag&32){const M=k._;M?(g.slots=cn(k),sd(k,"_",M)):Lm(k,g.slots={})}else g.slots={},k&&$m(g,k);sd(g.slots,yd,1)},n1=(g,k,M)=>{const{vnode:D,slots:N}=g;let G=!0,et=Nn;if(D.shapeFlag&32){const h=k._;h?M&&h===1?G=!1:(dr(N,k),!M&&h===1&&delete N._):(G=!k.$stable,Lm(k,N)),et=k}else k&&($m(g,k),et={default:1});if(G)for(const h in N)!zm(h)&&!(h in et)&&delete N[h]};function Dm(){return{app:null,config:{isNativeTag:Mg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let s1=0;function r1(g,k){return function(D,N=null){Bi(D)||(D=Object.assign({},D)),N!=null&&!Jn(N)&&(N=null);const G=Dm(),et=new Set;let h=!1;const ut=G.app={_uid:s1++,_component:D,_props:N,_container:null,_context:G,_instance:null,version:I1,get config(){return G.config},set config(St){},use(St,...Bt){return et.has(St)||(St&&Bi(St.install)?(et.add(St),St.install(ut,...Bt)):Bi(St)&&(et.add(St),St(ut,...Bt))),ut},mixin(St){return G.mixins.includes(St)||G.mixins.push(St),ut},component(St,Bt){return Bt?(G.components[St]=Bt,ut):G.components[St]},directive(St,Bt){return Bt?(G.directives[St]=Bt,ut):G.directives[St]},mount(St,Bt,Lt){if(!h){const lt=Ic(D,N);return lt.appContext=G,Bt&&k?k(lt,St):g(lt,St,Lt),h=!0,ut._container=St,St.__vue_app__=ut,Ep(lt.component)||lt.component.proxy}},unmount(){h&&(g(null,ut._container),delete ut._container.__vue_app__)},provide(St,Bt){return G.provides[St]=Bt,ut}};return ut}}function ip(g,k,M,D,N=!1){if(Ai(g)){g.forEach((lt,kt)=>ip(lt,k&&(Ai(k)?k[kt]:k),M,D,N));return}if(id(D)&&!N)return;const G=D.shapeFlag&4?Ep(D.component)||D.component.proxy:D.el,et=N?null:G,{i:h,r:ut}=g,St=k&&k.r,Bt=h.refs===Nn?h.refs={}:h.refs,Lt=h.setupState;if(St!=null&&St!==ut&&(Ns(St)?(Bt[St]=null,Yi(Lt,St)&&(Lt[St]=null)):ur(St)&&(St.value=null)),Bi(ut))Ec(ut,h,12,[et,Bt]);else{const lt=Ns(ut),kt=ur(ut);if(lt||kt){const Te=()=>{if(g.f){const Xt=lt?Yi(Lt,ut)?Lt[ut]:Bt[ut]:ut.value;N?Ai(Xt)&&hp(Xt,G):Ai(Xt)?Xt.includes(G)||Xt.push(G):lt?(Bt[ut]=[G],Yi(Lt,ut)&&(Lt[ut]=Bt[ut])):(ut.value=[G],g.k&&(Bt[g.k]=ut.value))}else lt?(Bt[ut]=et,Yi(Lt,ut)&&(Lt[ut]=et)):kt&&(ut.value=et,g.k&&(Bt[g.k]=et))};et?(Te.id=-1,Xr(Te,M)):Te()}}}const Xr=M0;function o1(g){return a1(g)}function a1(g,k){const M=Bg();M.__VUE__=!0;const{insert:D,remove:N,patchProp:G,createElement:et,createText:h,createComment:ut,setText:St,setElementText:Bt,parentNode:Lt,nextSibling:lt,setScopeId:kt=Ia,insertStaticContent:Te}=g,Xt=(at,ft,Rt,Gt=null,qt=null,Yt=null,Qt=!1,Ft=null,bt=!!ft.dynamicChildren)=>{if(at===ft)return;at&&!mh(at,ft)&&(Gt=tn(at),Qi(at,qt,Yt,!0),at=null),ft.patchFlag===-2&&(bt=!1,ft.dynamicChildren=null);const{type:jt,ref:Se,shapeFlag:ie}=ft;switch(jt){case gd:Pi(at,ft,Rt,Gt);break;case ql:Ye(at,ft,Rt,Gt);break;case Ud:at==null&&li(ft,Rt,Gt,Qt);break;case Qa:Ui(at,ft,Rt,Gt,qt,Yt,Qt,Ft,bt);break;default:ie&1?ii(at,ft,Rt,Gt,qt,Yt,Qt,Ft,bt):ie&6?Hi(at,ft,Rt,Gt,qt,Yt,Qt,Ft,bt):(ie&64||ie&128)&&jt.process(at,ft,Rt,Gt,qt,Yt,Qt,Ft,bt,Qe)}Se!=null&&qt&&ip(Se,at&&at.ref,Yt,ft||at,!ft)},Pi=(at,ft,Rt,Gt)=>{if(at==null)D(ft.el=h(ft.children),Rt,Gt);else{const qt=ft.el=at.el;ft.children!==at.children&&St(qt,ft.children)}},Ye=(at,ft,Rt,Gt)=>{at==null?D(ft.el=ut(ft.children||""),Rt,Gt):ft.el=at.el},li=(at,ft,Rt,Gt)=>{[at.el,at.anchor]=Te(at.children,ft,Rt,Gt,at.el,at.anchor)},Ce=({el:at,anchor:ft},Rt,Gt)=>{let qt;for(;at&&at!==ft;)qt=lt(at),D(at,Rt,Gt),at=qt;D(ft,Rt,Gt)},ti=({el:at,anchor:ft})=>{let Rt;for(;at&&at!==ft;)Rt=lt(at),N(at),at=Rt;N(ft)},ii=(at,ft,Rt,Gt,qt,Yt,Qt,Ft,bt)=>{Qt=Qt||ft.type==="svg",at==null?dn(ft,Rt,Gt,qt,Yt,Qt,Ft,bt):Xi(at,ft,qt,Yt,Qt,Ft,bt)},dn=(at,ft,Rt,Gt,qt,Yt,Qt,Ft)=>{let bt,jt;const{type:Se,props:ie,shapeFlag:Be,transition:Ve,dirs:pe}=at;if(bt=at.el=et(at.type,Yt,ie&&ie.is,ie),Be&8?Bt(bt,at.children):Be&16&&Ne(at.children,bt,null,Gt,qt,Yt&&Se!=="foreignObject",Qt,Ft),pe&&uh(at,null,Gt,"created"),ie){for(const vt in ie)vt!=="value"&&!Qu(vt)&&G(bt,vt,null,ie[vt],Yt,at.children,Gt,qt,hn);"value"in ie&&G(bt,"value",null,ie.value),(jt=ie.onVnodeBeforeMount)&&Ya(jt,Gt,at)}wn(bt,at,at.scopeId,Qt,Gt),pe&&uh(at,null,Gt,"beforeMount");const ci=(!qt||qt&&!qt.pendingBranch)&&Ve&&!Ve.persisted;ci&&Ve.beforeEnter(bt),D(bt,ft,Rt),((jt=ie&&ie.onVnodeMounted)||ci||pe)&&Xr(()=>{jt&&Ya(jt,Gt,at),ci&&Ve.enter(bt),pe&&uh(at,null,Gt,"mounted")},qt)},wn=(at,ft,Rt,Gt,qt)=>{if(Rt&&kt(at,Rt),Gt)for(let Yt=0;Yt<Gt.length;Yt++)kt(at,Gt[Yt]);if(qt){let Yt=qt.subTree;if(ft===Yt){const Qt=qt.vnode;wn(at,Qt,Qt.scopeId,Qt.slotScopeIds,qt.parent)}}},Ne=(at,ft,Rt,Gt,qt,Yt,Qt,Ft,bt=0)=>{for(let jt=bt;jt<at.length;jt++){const Se=at[jt]=Ft?Cc(at[jt]):tl(at[jt]);Xt(null,Se,ft,Rt,Gt,qt,Yt,Qt,Ft)}},Xi=(at,ft,Rt,Gt,qt,Yt,Qt)=>{const Ft=ft.el=at.el;let{patchFlag:bt,dynamicChildren:jt,dirs:Se}=ft;bt|=at.patchFlag&16;const ie=at.props||Nn,Be=ft.props||Nn;let Ve;Rt&&dh(Rt,!1),(Ve=Be.onVnodeBeforeUpdate)&&Ya(Ve,Rt,ft,at),Se&&uh(ft,at,Rt,"beforeUpdate"),Rt&&dh(Rt,!0);const pe=qt&&ft.type!=="foreignObject";if(jt?xi(at.dynamicChildren,jt,Ft,Rt,Gt,pe,Yt):Qt||Ht(at,ft,Ft,null,Rt,Gt,pe,Yt,!1),bt>0){if(bt&16)Me(Ft,ft,ie,Be,Rt,Gt,qt);else if(bt&2&&ie.class!==Be.class&&G(Ft,"class",null,Be.class,qt),bt&4&&G(Ft,"style",ie.style,Be.style,qt),bt&8){const ci=ft.dynamicProps;for(let vt=0;vt<ci.length;vt++){const Zt=ci[vt],en=ie[Zt],we=Be[Zt];(we!==en||Zt==="value")&&G(Ft,Zt,en,we,qt,at.children,Rt,Gt,hn)}}bt&1&&at.children!==ft.children&&Bt(Ft,ft.children)}else!Qt&&jt==null&&Me(Ft,ft,ie,Be,Rt,Gt,qt);((Ve=Be.onVnodeUpdated)||Se)&&Xr(()=>{Ve&&Ya(Ve,Rt,ft,at),Se&&uh(ft,at,Rt,"updated")},Gt)},xi=(at,ft,Rt,Gt,qt,Yt,Qt)=>{for(let Ft=0;Ft<ft.length;Ft++){const bt=at[Ft],jt=ft[Ft],Se=bt.el&&(bt.type===Qa||!mh(bt,jt)||bt.shapeFlag&70)?Lt(bt.el):Rt;Xt(bt,jt,Se,null,Gt,qt,Yt,Qt,!0)}},Me=(at,ft,Rt,Gt,qt,Yt,Qt)=>{if(Rt!==Gt){if(Rt!==Nn)for(const Ft in Rt)!Qu(Ft)&&!(Ft in Gt)&&G(at,Ft,Rt[Ft],null,Qt,ft.children,qt,Yt,hn);for(const Ft in Gt){if(Qu(Ft))continue;const bt=Gt[Ft],jt=Rt[Ft];bt!==jt&&Ft!=="value"&&G(at,Ft,jt,bt,Qt,ft.children,qt,Yt,hn)}"value"in Gt&&G(at,"value",Rt.value,Gt.value)}},Ui=(at,ft,Rt,Gt,qt,Yt,Qt,Ft,bt)=>{const jt=ft.el=at?at.el:h(""),Se=ft.anchor=at?at.anchor:h("");let{patchFlag:ie,dynamicChildren:Be,slotScopeIds:Ve}=ft;Ve&&(Ft=Ft?Ft.concat(Ve):Ve),at==null?(D(jt,Rt,Gt),D(Se,Rt,Gt),Ne(ft.children,Rt,Se,qt,Yt,Qt,Ft,bt)):ie>0&&ie&64&&Be&&at.dynamicChildren?(xi(at.dynamicChildren,Be,Rt,qt,Yt,Qt,Ft),(ft.key!=null||qt&&ft===qt.subTree)&&Bm(at,ft,!0)):Ht(at,ft,Rt,Se,qt,Yt,Qt,Ft,bt)},Hi=(at,ft,Rt,Gt,qt,Yt,Qt,Ft,bt)=>{ft.slotScopeIds=Ft,at==null?ft.shapeFlag&512?qt.ctx.activate(ft,Rt,Gt,Qt,bt):gn(ft,Rt,Gt,qt,Yt,Qt,bt):oi(at,ft,bt)},gn=(at,ft,Rt,Gt,qt,Yt,Qt)=>{const Ft=at.component=x1(at,Gt,qt);if(fd(at)&&(Ft.ctx.renderer=Qe),w1(Ft),Ft.asyncDep){if(qt&&qt.registerDep(Ft,ve),!at.el){const bt=Ft.subTree=Ic(ql);Ye(null,bt,ft,Rt)}return}ve(Ft,at,ft,Rt,qt,Yt,Qt)},oi=(at,ft,Rt)=>{const Gt=ft.component=at.component;if(E0(at,ft,Rt))if(Gt.asyncDep&&!Gt.asyncResolved){ri(Gt,ft,Rt);return}else Gt.next=ft,v0(Gt.update),Gt.update();else ft.el=at.el,Gt.vnode=ft},ve=(at,ft,Rt,Gt,qt,Yt,Qt)=>{const Ft=()=>{if(at.isMounted){let{next:Se,bu:ie,u:Be,parent:Ve,vnode:pe}=at,ci=Se,vt;dh(at,!1),Se?(Se.el=pe.el,ri(at,Se,Qt)):Se=pe,ie&&Rd(ie),(vt=Se.props&&Se.props.onVnodeBeforeUpdate)&&Ya(vt,Ve,Se,pe),dh(at,!0);const Zt=Fd(at),en=at.subTree;at.subTree=Zt,Xt(en,Zt,Lt(en.el),tn(en),at,qt,Yt),Se.el=Zt.el,ci===null&&I0(at,Zt.el),Be&&Xr(Be,qt),(vt=Se.props&&Se.props.onVnodeUpdated)&&Xr(()=>Ya(vt,Ve,Se,pe),qt)}else{let Se;const{el:ie,props:Be}=ft,{bm:Ve,m:pe,parent:ci}=at,vt=id(ft);if(dh(at,!1),Ve&&Rd(Ve),!vt&&(Se=Be&&Be.onVnodeBeforeMount)&&Ya(Se,ci,ft),dh(at,!0),ie&&xs){const Zt=()=>{at.subTree=Fd(at),xs(ie,at.subTree,at,qt,null)};vt?ft.type.__asyncLoader().then(()=>!at.isUnmounted&&Zt()):Zt()}else{const Zt=at.subTree=Fd(at);Xt(null,Zt,Rt,Gt,at,qt,Yt),ft.el=Zt.el}if(pe&&Xr(pe,qt),!vt&&(Se=Be&&Be.onVnodeMounted)){const Zt=ft;Xr(()=>Ya(Se,ci,Zt),qt)}(ft.shapeFlag&256||ci&&id(ci.vnode)&&ci.vnode.shapeFlag&256)&&at.a&&Xr(at.a,qt),at.isMounted=!0,ft=Rt=Gt=null}},bt=at.effect=new fp(Ft,()=>bp(jt),at.scope),jt=at.update=()=>bt.run();jt.id=at.uid,dh(at,!0),jt()},ri=(at,ft,Rt)=>{ft.component=at;const Gt=at.vnode.props;at.vnode=ft,at.next=null,t1(at,ft.props,Gt,Rt),n1(at,ft.children,Rt),Wh(),vf(),Xh()},Ht=(at,ft,Rt,Gt,qt,Yt,Qt,Ft,bt=!1)=>{const jt=at&&at.children,Se=at?at.shapeFlag:0,ie=ft.children,{patchFlag:Be,shapeFlag:Ve}=ft;if(Be>0){if(Be&128){ne(jt,ie,Rt,Gt,qt,Yt,Qt,Ft,bt);return}else if(Be&256){je(jt,ie,Rt,Gt,qt,Yt,Qt,Ft,bt);return}}Ve&8?(Se&16&&hn(jt,qt,Yt),ie!==jt&&Bt(Rt,ie)):Se&16?Ve&16?ne(jt,ie,Rt,Gt,qt,Yt,Qt,Ft,bt):hn(jt,qt,Yt,!0):(Se&8&&Bt(Rt,""),Ve&16&&Ne(ie,Rt,Gt,qt,Yt,Qt,Ft,bt))},je=(at,ft,Rt,Gt,qt,Yt,Qt,Ft,bt)=>{at=at||Nh,ft=ft||Nh;const jt=at.length,Se=ft.length,ie=Math.min(jt,Se);let Be;for(Be=0;Be<ie;Be++){const Ve=ft[Be]=bt?Cc(ft[Be]):tl(ft[Be]);Xt(at[Be],Ve,Rt,null,qt,Yt,Qt,Ft,bt)}jt>Se?hn(at,qt,Yt,!0,!1,ie):Ne(ft,Rt,Gt,qt,Yt,Qt,Ft,bt,ie)},ne=(at,ft,Rt,Gt,qt,Yt,Qt,Ft,bt)=>{let jt=0;const Se=ft.length;let ie=at.length-1,Be=Se-1;for(;jt<=ie&&jt<=Be;){const Ve=at[jt],pe=ft[jt]=bt?Cc(ft[jt]):tl(ft[jt]);if(mh(Ve,pe))Xt(Ve,pe,Rt,null,qt,Yt,Qt,Ft,bt);else break;jt++}for(;jt<=ie&&jt<=Be;){const Ve=at[ie],pe=ft[Be]=bt?Cc(ft[Be]):tl(ft[Be]);if(mh(Ve,pe))Xt(Ve,pe,Rt,null,qt,Yt,Qt,Ft,bt);else break;ie--,Be--}if(jt>ie){if(jt<=Be){const Ve=Be+1,pe=Ve<Se?ft[Ve].el:Gt;for(;jt<=Be;)Xt(null,ft[jt]=bt?Cc(ft[jt]):tl(ft[jt]),Rt,pe,qt,Yt,Qt,Ft,bt),jt++}}else if(jt>Be)for(;jt<=ie;)Qi(at[jt],qt,Yt,!0),jt++;else{const Ve=jt,pe=jt,ci=new Map;for(jt=pe;jt<=Be;jt++){const oe=ft[jt]=bt?Cc(ft[jt]):tl(ft[jt]);oe.key!=null&&ci.set(oe.key,jt)}let vt,Zt=0;const en=Be-pe+1;let we=!1,ai=0;const Oe=new Array(en);for(jt=0;jt<en;jt++)Oe[jt]=0;for(jt=Ve;jt<=ie;jt++){const oe=at[jt];if(Zt>=en){Qi(oe,qt,Yt,!0);continue}let Zi;if(oe.key!=null)Zi=ci.get(oe.key);else for(vt=pe;vt<=Be;vt++)if(Oe[vt-pe]===0&&mh(oe,ft[vt])){Zi=vt;break}Zi===void 0?Qi(oe,qt,Yt,!0):(Oe[Zi-pe]=jt+1,Zi>=ai?ai=Zi:we=!0,Xt(oe,ft[Zi],Rt,null,qt,Yt,Qt,Ft,bt),Zt++)}const fi=we?l1(Oe):Nh;for(vt=fi.length-1,jt=en-1;jt>=0;jt--){const oe=pe+jt,Zi=ft[oe],Pt=oe+1<Se?ft[oe+1].el:Gt;Oe[jt]===0?Xt(null,Zi,Rt,Pt,qt,Yt,Qt,Ft,bt):we&&(vt<0||jt!==fi[vt]?Ji(Zi,Rt,Pt,2):vt--)}}},Ji=(at,ft,Rt,Gt,qt=null)=>{const{el:Yt,type:Qt,transition:Ft,children:bt,shapeFlag:jt}=at;if(jt&6){Ji(at.component.subTree,ft,Rt,Gt);return}if(jt&128){at.suspense.move(ft,Rt,Gt);return}if(jt&64){Qt.move(at,ft,Rt,Qe);return}if(Qt===Qa){D(Yt,ft,Rt);for(let ie=0;ie<bt.length;ie++)Ji(bt[ie],ft,Rt,Gt);D(at.anchor,ft,Rt);return}if(Qt===Ud){Ce(at,ft,Rt);return}if(Gt!==2&&jt&1&&Ft)if(Gt===0)Ft.beforeEnter(Yt),D(Yt,ft,Rt),Xr(()=>Ft.enter(Yt),qt);else{const{leave:ie,delayLeave:Be,afterLeave:Ve}=Ft,pe=()=>D(Yt,ft,Rt),ci=()=>{ie(Yt,()=>{pe(),Ve&&Ve()})};Be?Be(Yt,pe,ci):ci()}else D(Yt,ft,Rt)},Qi=(at,ft,Rt,Gt=!1,qt=!1)=>{const{type:Yt,props:Qt,ref:Ft,children:bt,dynamicChildren:jt,shapeFlag:Se,patchFlag:ie,dirs:Be}=at;if(Ft!=null&&ip(Ft,null,Rt,at,!0),Se&256){ft.ctx.deactivate(at);return}const Ve=Se&1&&Be,pe=!id(at);let ci;if(pe&&(ci=Qt&&Qt.onVnodeBeforeUnmount)&&Ya(ci,ft,at),Se&6)Gi(at.component,Rt,Gt);else{if(Se&128){at.suspense.unmount(Rt,Gt);return}Ve&&uh(at,null,ft,"beforeUnmount"),Se&64?at.type.remove(at,ft,Rt,qt,Qe,Gt):jt&&(Yt!==Qa||ie>0&&ie&64)?hn(jt,ft,Rt,!1,!0):(Yt===Qa&&ie&384||!qt&&Se&16)&&hn(bt,ft,Rt),Gt&&ys(at)}(pe&&(ci=Qt&&Qt.onVnodeUnmounted)||Ve)&&Xr(()=>{ci&&Ya(ci,ft,at),Ve&&uh(at,null,ft,"unmounted")},Rt)},ys=at=>{const{type:ft,el:Rt,anchor:Gt,transition:qt}=at;if(ft===Qa){zn(Rt,Gt);return}if(ft===Ud){ti(at);return}const Yt=()=>{N(Rt),qt&&!qt.persisted&&qt.afterLeave&&qt.afterLeave()};if(at.shapeFlag&1&&qt&&!qt.persisted){const{leave:Qt,delayLeave:Ft}=qt,bt=()=>Qt(Rt,Yt);Ft?Ft(at.el,Yt,bt):bt()}else Yt()},zn=(at,ft)=>{let Rt;for(;at!==ft;)Rt=lt(at),N(at),at=Rt;N(ft)},Gi=(at,ft,Rt)=>{const{bum:Gt,scope:qt,update:Yt,subTree:Qt,um:Ft}=at;Gt&&Rd(Gt),qt.stop(),Yt&&(Yt.active=!1,Qi(Qt,at,ft,Rt)),Ft&&Xr(Ft,ft),Xr(()=>{at.isUnmounted=!0},ft),ft&&ft.pendingBranch&&!ft.isUnmounted&&at.asyncDep&&!at.asyncResolved&&at.suspenseId===ft.pendingId&&(ft.deps--,ft.deps===0&&ft.resolve())},hn=(at,ft,Rt,Gt=!1,qt=!1,Yt=0)=>{for(let Qt=Yt;Qt<at.length;Qt++)Qi(at[Qt],ft,Rt,Gt,qt)},tn=at=>at.shapeFlag&6?tn(at.component.subTree):at.shapeFlag&128?at.suspense.next():lt(at.anchor||at.el),_s=(at,ft,Rt)=>{at==null?ft._vnode&&Qi(ft._vnode,null,null,!0):Xt(ft._vnode||null,at,ft,null,null,null,Rt),vf(),ym(),ft._vnode=at},Qe={p:Xt,um:Qi,m:Ji,r:ys,mt:gn,mc:Ne,pc:Ht,pbc:xi,n:tn,o:g};let $e,xs;return k&&([$e,xs]=k(Qe)),{render:_s,hydrate:$e,createApp:r1(_s,$e)}}function dh({effect:g,update:k},M){g.allowRecurse=k.allowRecurse=M}function Bm(g,k,M=!1){const D=g.children,N=k.children;if(Ai(D)&&Ai(N))for(let G=0;G<D.length;G++){const et=D[G];let h=N[G];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=N[G]=Cc(N[G]),h.el=et.el),M||Bm(et,h)),h.type===gd&&(h.el=et.el)}}function l1(g){const k=g.slice(),M=[0];let D,N,G,et,h;const ut=g.length;for(D=0;D<ut;D++){const St=g[D];if(St!==0){if(N=M[M.length-1],g[N]<St){k[D]=N,M.push(D);continue}for(G=0,et=M.length-1;G<et;)h=G+et>>1,g[M[h]]<St?G=h+1:et=h;St<g[M[G]]&&(G>0&&(k[D]=M[G-1]),M[G]=D)}}for(G=M.length,et=M[G-1];G-- >0;)M[G]=et,et=k[et];return M}const c1=g=>g.__isTeleport,Qa=Symbol(void 0),gd=Symbol(void 0),ql=Symbol(void 0),Ud=Symbol(void 0),Iu=[];let Ea=null;function Rm(g=!1){Iu.push(Ea=g?null:[])}function h1(){Iu.pop(),Ea=Iu[Iu.length-1]||null}let Lu=1;function Af(g){Lu+=g}function u1(g){return g.dynamicChildren=Lu>0?Ea||Nh:null,h1(),Lu>0&&Ea&&Ea.push(g),g}function Fm(g,k,M,D,N,G){return u1(jl(g,k,M,D,N,G,!0))}function d1(g){return g?g.__v_isVNode===!0:!1}function mh(g,k){return g.type===k.type&&g.key===k.key}const yd="__vInternal",Om=({key:g})=>g??null,nd=({ref:g,ref_key:k,ref_for:M})=>g!=null?Ns(g)||ur(g)||Bi(g)?{i:Sa,r:g,k,f:!!M}:g:null;function jl(g,k=null,M=null,D=0,N=null,G=g===Qa?0:1,et=!1,h=!1){const ut={__v_isVNode:!0,__v_skip:!0,type:g,props:k,key:k&&Om(k),ref:k&&nd(k),scopeId:vm,slotScopeIds:null,children:M,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:G,patchFlag:D,dynamicProps:N,dynamicChildren:null,appContext:null,ctx:Sa};return h?(Sp(ut,M),G&128&&g.normalize(ut)):M&&(ut.shapeFlag|=Ns(M)?8:16),Lu>0&&!et&&Ea&&(ut.patchFlag>0||G&6)&&ut.patchFlag!==32&&Ea.push(ut),ut}const Ic=p1;function p1(g,k=null,M=null,D=0,N=null,G=!1){if((!g||g===H0)&&(g=ql),d1(g)){const h=Mc(g,k,!0);return M&&Sp(h,M),Lu>0&&!G&&Ea&&(h.shapeFlag&6?Ea[Ea.indexOf(g)]=h:Ea.push(h)),h.patchFlag|=-2,h}if(C1(g)&&(g=g.__vccOpts),k){k=f1(k);let{class:h,style:ut}=k;h&&!Ns(h)&&(k.class=lp(h)),Jn(ut)&&(lm(ut)&&!Ai(ut)&&(ut=dr({},ut)),k.style=ap(ut))}const et=Ns(g)?1:A0(g)?128:c1(g)?64:Jn(g)?4:Bi(g)?2:0;return jl(g,k,M,D,N,et,G,!0)}function f1(g){return g?lm(g)||yd in g?dr({},g):g:null}function Mc(g,k,M=!1){const{props:D,ref:N,patchFlag:G,children:et}=g,h=k?g1(D||{},k):D;return{__v_isVNode:!0,__v_skip:!0,type:g.type,props:h,key:h&&Om(h),ref:k&&k.ref?M&&N?Ai(N)?N.concat(nd(k)):[N,nd(k)]:nd(k):N,scopeId:g.scopeId,slotScopeIds:g.slotScopeIds,children:et,target:g.target,targetAnchor:g.targetAnchor,staticCount:g.staticCount,shapeFlag:g.shapeFlag,patchFlag:k&&g.type!==Qa?G===-1?16:G|16:G,dynamicProps:g.dynamicProps,dynamicChildren:g.dynamicChildren,appContext:g.appContext,dirs:g.dirs,transition:g.transition,component:g.component,suspense:g.suspense,ssContent:g.ssContent&&Mc(g.ssContent),ssFallback:g.ssFallback&&Mc(g.ssFallback),el:g.el,anchor:g.anchor,ctx:g.ctx}}function m1(g=" ",k=0){return Ic(gd,null,g,k)}function tl(g){return g==null||typeof g=="boolean"?Ic(ql):Ai(g)?Ic(Qa,null,g.slice()):typeof g=="object"?Cc(g):Ic(gd,null,String(g))}function Cc(g){return g.el===null&&g.patchFlag!==-1||g.memo?g:Mc(g)}function Sp(g,k){let M=0;const{shapeFlag:D}=g;if(k==null)k=null;else if(Ai(k))M=16;else if(typeof k=="object")if(D&65){const N=k.default;N&&(N._c&&(N._d=!1),Sp(g,N()),N._c&&(N._d=!0));return}else{M=32;const N=k._;!N&&!(yd in k)?k._ctx=Sa:N===3&&Sa&&(Sa.slots._===1?k._=1:(k._=2,g.patchFlag|=1024))}else Bi(k)?(k={default:k,_ctx:Sa},M=32):(k=String(k),D&64?(M=16,k=[m1(k)]):M=8);g.children=k,g.shapeFlag|=M}function g1(...g){const k={};for(let M=0;M<g.length;M++){const D=g[M];for(const N in D)if(N==="class")k.class!==D.class&&(k.class=lp([k.class,D.class]));else if(N==="style")k.style=ap([k.style,D.style]);else if(ld(N)){const G=k[N],et=D[N];et&&G!==et&&!(Ai(G)&&G.includes(et))&&(k[N]=G?[].concat(G,et):et)}else N!==""&&(k[N]=D[N])}return k}function Ya(g,k,M,D=null){Qo(g,k,7,[M,D])}const y1=Dm();let _1=0;function x1(g,k,M){const D=g.type,N=(k?k.appContext:g.appContext)||y1,G={uid:_1++,vnode:g,type:D,parent:k,appContext:N,root:null,next:null,subTree:null,effect:null,update:null,scope:new Rg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:k?k.provides:Object.create(N.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Pm(D,N),emitsOptions:xm(D,N),emit:null,emitted:null,propsDefaults:Nn,inheritAttrs:D.inheritAttrs,ctx:Nn,data:Nn,props:Nn,attrs:Nn,slots:Nn,refs:Nn,setupState:Nn,setupContext:null,suspense:M,suspenseId:M?M.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return G.ctx={_:G},G.root=k?k.root:G,G.emit=k0.bind(null,G),g.ce&&g.ce(G),G}let Qs=null;const v1=()=>Qs||Sa,Hh=g=>{Qs=g,g.scope.on()},_h=()=>{Qs&&Qs.scope.off(),Qs=null};function Nm(g){return g.vnode.shapeFlag&4}let $u=!1;function w1(g,k=!1){$u=k;const{props:M,children:D}=g.vnode,N=Nm(g);Q0(g,M,N,k),i1(g,D);const G=N?b1(g,k):void 0;return $u=!1,G}function b1(g,k){const M=g.type;g.accessCache=Object.create(null),g.proxy=cm(new Proxy(g.ctx,G0));const{setup:D}=M;if(D){const N=g.setupContext=D.length>1?T1(g):null;Hh(g),Wh();const G=Ec(D,g,0,[g.props,N]);if(Xh(),_h(),Hf(G)){if(G.then(_h,_h),k)return G.then(et=>{Mf(g,et,k)}).catch(et=>{dd(et,g,0)});g.asyncDep=G}else Mf(g,G,k)}else Um(g,k)}function Mf(g,k,M){Bi(k)?g.type.__ssrInlineRender?g.ssrRender=k:g.render=k:Jn(k)&&(g.setupState=pm(k)),Um(g,M)}let Pf;function Um(g,k,M){const D=g.type;if(!g.render){if(!k&&Pf&&!D.render){const N=D.template||Tp(g).template;if(N){const{isCustomElement:G,compilerOptions:et}=g.appContext.config,{delimiters:h,compilerOptions:ut}=D,St=dr(dr({isCustomElement:G,delimiters:h},et),ut);D.render=Pf(N,St)}}g.render=D.render||Ia}Hh(g),Wh(),W0(g),Xh(),_h()}function k1(g){return new Proxy(g.attrs,{get(k,M){return Io(g,"get","$attrs"),k[M]}})}function T1(g){const k=D=>{g.exposed=D||{}};let M;return{get attrs(){return M||(M=k1(g))},slots:g.slots,emit:g.emit,expose:k}}function Ep(g){if(g.exposed)return g.exposeProxy||(g.exposeProxy=new Proxy(pm(cm(g.exposed)),{get(k,M){if(M in k)return k[M];if(M in Eu)return Eu[M](g)},has(k,M){return M in k||M in Eu}}))}function C1(g){return Bi(g)&&"__vccOpts"in g}const Vm=(g,k)=>g0(g,k,$u),S1=Symbol(""),E1=()=>td(S1),I1="3.2.45",A1="http://www.w3.org/2000/svg",gh=typeof document<"u"?document:null,zf=gh&&gh.createElement("template"),M1={insert:(g,k,M)=>{k.insertBefore(g,M||null)},remove:g=>{const k=g.parentNode;k&&k.removeChild(g)},createElement:(g,k,M,D)=>{const N=k?gh.createElementNS(A1,g):gh.createElement(g,M?{is:M}:void 0);return g==="select"&&D&&D.multiple!=null&&N.setAttribute("multiple",D.multiple),N},createText:g=>gh.createTextNode(g),createComment:g=>gh.createComment(g),setText:(g,k)=>{g.nodeValue=k},setElementText:(g,k)=>{g.textContent=k},parentNode:g=>g.parentNode,nextSibling:g=>g.nextSibling,querySelector:g=>gh.querySelector(g),setScopeId(g,k){g.setAttribute(k,"")},insertStaticContent(g,k,M,D,N,G){const et=M?M.previousSibling:k.lastChild;if(N&&(N===G||N.nextSibling))for(;k.insertBefore(N.cloneNode(!0),M),!(N===G||!(N=N.nextSibling)););else{zf.innerHTML=D?`<svg>${g}</svg>`:g;const h=zf.content;if(D){const ut=h.firstChild;for(;ut.firstChild;)h.appendChild(ut.firstChild);h.removeChild(ut)}k.insertBefore(h,M)}return[et?et.nextSibling:k.firstChild,M?M.previousSibling:k.lastChild]}};function P1(g,k,M){const D=g._vtc;D&&(k=(k?[k,...D]:[...D]).join(" ")),k==null?g.removeAttribute("class"):M?g.setAttribute("class",k):g.className=k}function z1(g,k,M){const D=g.style,N=Ns(M);if(M&&!N){for(const G in M)np(D,G,M[G]);if(k&&!Ns(k))for(const G in k)M[G]==null&&np(D,G,"")}else{const G=D.display;N?k!==M&&(D.cssText=M):k&&g.removeAttribute("style"),"_vod"in g&&(D.display=G)}}const Lf=/\s*!important$/;function np(g,k,M){if(Ai(M))M.forEach(D=>np(g,k,D));else if(M==null&&(M=""),k.startsWith("--"))g.setProperty(k,M);else{const D=L1(g,k);Lf.test(M)?g.setProperty(Gh(D),M.replace(Lf,""),"important"):g[D]=M}}const $f=["Webkit","Moz","ms"],Vd={};function L1(g,k){const M=Vd[k];if(M)return M;let D=qh(k);if(D!=="filter"&&D in g)return Vd[k]=D;D=Xf(D);for(let N=0;N<$f.length;N++){const G=$f[N]+D;if(G in g)return Vd[k]=G}return k}const Df="http://www.w3.org/1999/xlink";function $1(g,k,M,D,N){if(D&&k.startsWith("xlink:"))M==null?g.removeAttributeNS(Df,k.slice(6,k.length)):g.setAttributeNS(Df,k,M);else{const G=Ig(k);M==null||G&&!jf(M)?g.removeAttribute(k):g.setAttribute(k,G?"":M)}}function D1(g,k,M,D,N,G,et){if(k==="innerHTML"||k==="textContent"){D&&et(D,N,G),g[k]=M??"";return}if(k==="value"&&g.tagName!=="PROGRESS"&&!g.tagName.includes("-")){g._value=M;const ut=M??"";(g.value!==ut||g.tagName==="OPTION")&&(g.value=ut),M==null&&g.removeAttribute(k);return}let h=!1;if(M===""||M==null){const ut=typeof g[k];ut==="boolean"?M=jf(M):M==null&&ut==="string"?(M="",h=!0):ut==="number"&&(M=0,h=!0)}try{g[k]=M}catch{}h&&g.removeAttribute(k)}function B1(g,k,M,D){g.addEventListener(k,M,D)}function R1(g,k,M,D){g.removeEventListener(k,M,D)}function F1(g,k,M,D,N=null){const G=g._vei||(g._vei={}),et=G[k];if(D&&et)et.value=D;else{const[h,ut]=O1(k);if(D){const St=G[k]=V1(D,N);B1(g,h,St,ut)}else et&&(R1(g,h,et,ut),G[k]=void 0)}}const Bf=/(?:Once|Passive|Capture)$/;function O1(g){let k;if(Bf.test(g)){k={};let D;for(;D=g.match(Bf);)g=g.slice(0,g.length-D[0].length),k[D[0].toLowerCase()]=!0}return[g[2]===":"?g.slice(3):Gh(g.slice(2)),k]}let jd=0;const N1=Promise.resolve(),U1=()=>jd||(N1.then(()=>jd=0),jd=Date.now());function V1(g,k){const M=D=>{if(!D._vts)D._vts=Date.now();else if(D._vts<=M.attached)return;Qo(j1(D,M.value),k,5,[D])};return M.value=g,M.attached=U1(),M}function j1(g,k){if(Ai(k)){const M=g.stopImmediatePropagation;return g.stopImmediatePropagation=()=>{M.call(g),g._stopped=!0},k.map(D=>N=>!N._stopped&&D&&D(N))}else return k}const Rf=/^on[a-z]/,q1=(g,k,M,D,N=!1,G,et,h,ut)=>{k==="class"?P1(g,D,N):k==="style"?z1(g,M,D):ld(k)?cp(k)||F1(g,k,M,D,et):(k[0]==="."?(k=k.slice(1),!0):k[0]==="^"?(k=k.slice(1),!1):Z1(g,k,D,N))?D1(g,k,D,G,et,h,ut):(k==="true-value"?g._trueValue=D:k==="false-value"&&(g._falseValue=D),$1(g,k,D,N))};function Z1(g,k,M,D){return D?!!(k==="innerHTML"||k==="textContent"||k in g&&Rf.test(k)&&Bi(M)):k==="spellcheck"||k==="draggable"||k==="translate"||k==="form"||k==="list"&&g.tagName==="INPUT"||k==="type"&&g.tagName==="TEXTAREA"||Rf.test(k)&&Ns(M)?!1:k in g}const H1={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};D0.props;const G1=dr({patchProp:q1},M1);let Ff;function W1(){return Ff||(Ff=o1(G1))}const X1=(...g)=>{const k=W1().createApp(...g),{mount:M}=k;return k.mount=D=>{const N=K1(D);if(!N)return;const G=k._component;!Bi(G)&&!G.render&&!G.template&&(G.template=N.innerHTML),N.innerHTML="";const et=M(N,!1,N instanceof SVGElement);return N instanceof Element&&(N.removeAttribute("v-cloak"),N.setAttribute("data-v-app","")),et},k};function K1(g){return Ns(g)?document.querySelector(g):g}var _d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sp={},Y1={get exports(){return sp},set exports(g){sp=g}};/*! UIkit 3.15.22 | https://www.getuikit.com | (c) 2014 - 2023 YOOtheme | MIT License */(function(g,k){(function(M,D){g.exports=D()})(_d,function(){const{hasOwnProperty:M,toString:D}=Object.prototype;function N(t,s){return M.call(t,s)}const G=/\B([A-Z])/g,et=Qt(t=>t.replace(G,"-$1").toLowerCase()),h=/-(\w)/g,ut=Qt(t=>t.replace(h,Bt)),St=Qt(t=>t.length?Bt(null,t.charAt(0))+t.slice(1):"");function Bt(t,s){return s?s.toUpperCase():""}function Lt(t,s){return t==null||t.startsWith==null?void 0:t.startsWith(s)}function lt(t,s){return t==null||t.endsWith==null?void 0:t.endsWith(s)}function kt(t,s){return t==null||t.includes==null?void 0:t.includes(s)}function Te(t,s){return t==null||t.findIndex==null?void 0:t.findIndex(s)}const{isArray:Xt,from:Pi}=Array,{assign:Ye}=Object;function li(t){return typeof t=="function"}function Ce(t){return t!==null&&typeof t=="object"}function ti(t){return D.call(t)==="[object Object]"}function ii(t){return Ce(t)&&t===t.window}function dn(t){return Xi(t)===9}function wn(t){return Xi(t)>=1}function Ne(t){return Xi(t)===1}function Xi(t){return!ii(t)&&Ce(t)&&t.nodeType}function xi(t){return typeof t=="boolean"}function Me(t){return typeof t=="string"}function Ui(t){return typeof t=="number"}function Hi(t){return Ui(t)||Me(t)&&!isNaN(t-parseFloat(t))}function gn(t){return!(Xt(t)?t.length:Ce(t)&&Object.keys(t).length)}function oi(t){return t===void 0}function ve(t){return xi(t)?t:t==="true"||t==="1"||t===""?!0:t==="false"||t==="0"?!1:t}function ri(t){const s=Number(t);return isNaN(s)?!1:s}function Ht(t){return parseFloat(t)||0}function je(t){return ne(t)[0]}function ne(t){return t&&(wn(t)?[t]:Array.from(t).filter(wn))||[]}function Ji(t){var s;if(ii(t))return t;t=je(t);const a=dn(t)?t:(s=t)==null?void 0:s.ownerDocument;return(a==null?void 0:a.defaultView)||window}function Qi(t,s){return t===s||Ce(t)&&Ce(s)&&Object.keys(t).length===Object.keys(s).length&&Gi(t,(a,u)=>a===s[u])}function ys(t,s,a){return t.replace(new RegExp(`${s}|${a}`,"g"),u=>u===s?a:s)}function zn(t){return t[t.length-1]}function Gi(t,s){for(const a in t)if(s(t[a],a)===!1)return!1;return!0}function hn(t,s){return t.slice().sort(({[s]:a=0},{[s]:u=0})=>a>u?1:u>a?-1:0)}function tn(t,s){return t.reduce((a,u)=>a+Ht(li(s)?s(u):u[s]),0)}function _s(t,s){const a=new Set;return t.filter(({[s]:u})=>a.has(u)?!1:a.add(u))}function Qe(t,s=0,a=1){return Math.min(Math.max(ri(t)||0,s),a)}function $e(){}function xs(...t){return[["bottom","top"],["right","left"]].every(([s,a])=>Math.min(...t.map(({[s]:u})=>u))-Math.max(...t.map(({[a]:u})=>u))>0)}function at(t,s){return t.x<=s.right&&t.x>=s.left&&t.y<=s.bottom&&t.y>=s.top}function ft(t,s,a){const u=s==="width"?"height":"width";return{[u]:t[s]?Math.round(a*t[u]/t[s]):t[u],[s]:a}}function Rt(t,s){t={...t};for(const a in t)t=t[a]>s[a]?ft(t,a,s[a]):t;return t}function Gt(t,s){t=Rt(t,s);for(const a in t)t=t[a]<s[a]?ft(t,a,s[a]):t;return t}const qt={ratio:ft,contain:Rt,cover:Gt};function Yt(t,s,a=0,u=!1){s=ne(s);const{length:y}=s;return y?(t=Hi(t)?ri(t):t==="next"?a+1:t==="previous"?a-1:s.indexOf(je(t)),u?Qe(t,0,y-1):(t%=y,t<0?t+y:t)):-1}function Qt(t){const s=Object.create(null);return a=>s[a]||(s[a]=t(a))}class Ft{constructor(){this.promise=new Promise((s,a)=>{this.reject=a,this.resolve=s})}}function bt(t,s,a){if(Ce(s)){for(const y in s)bt(t,y,s[y]);return}if(oi(a)){var u;return(u=je(t))==null?void 0:u.getAttribute(s)}else for(const y of ne(t))li(a)&&(a=a.call(y,bt(y,s))),a===null?Se(y,s):y.setAttribute(s,a)}function jt(t,s){return ne(t).some(a=>a.hasAttribute(s))}function Se(t,s){ne(t).forEach(a=>a.removeAttribute(s))}function ie(t,s){for(const a of[s,`data-${s}`])if(jt(t,a))return bt(t,a)}const Be={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};function Ve(t){return ne(t).some(s=>Be[s.tagName.toLowerCase()])}function pe(t){return ne(t).some(s=>s.offsetWidth||s.offsetHeight||s.getClientRects().length)}const ci="input,select,textarea,button";function vt(t){return ne(t).some(s=>Oe(s,ci))}const Zt=`${ci},a[href],[tabindex]`;function en(t){return Oe(t,Zt)}function we(t){var s;return(s=je(t))==null?void 0:s.parentElement}function ai(t,s){return ne(t).filter(a=>Oe(a,s))}function Oe(t,s){return ne(t).some(a=>a.matches(s))}function fi(t,s){return Ne(t)?t.closest(Lt(s,">")?s.slice(1):s):ne(t).map(a=>fi(a,s)).filter(Boolean)}function oe(t,s){return Me(s)?!!fi(t,s):je(s).contains(je(t))}function Zi(t,s){const a=[];for(;t=we(t);)(!s||Oe(t,s))&&a.push(t);return a}function Pt(t,s){t=je(t);const a=t?ne(t.children):[];return s?ai(a,s):a}function Xe(t,s){return s?ne(t).indexOf(je(s)):Pt(we(t)).indexOf(t)}function Pe(t,s){return Ss(t,Pr(t,s))}function nn(t,s){return qe(t,Pr(t,s))}function Ss(t,s){return je(Ri(t,je(s),"querySelector"))}function qe(t,s){return ne(Ri(t,je(s),"querySelectorAll"))}const pr=/(^|[^\\],)\s*[!>+~-]/,Tn=Qt(t=>t.match(pr));function Pr(t,s=document){return Me(t)&&Tn(t)||dn(s)?s:s.ownerDocument}const Cn=/([!>+~-])(?=\s+[!>+~-]|\s*$)/g,Qn=Qt(t=>t.replace(Cn,"$1 *"));function Ri(t,s=document,a){if(!t||!Me(t))return t;if(t=Qn(t),Tn(t)){const u=tr(t);t="";for(let y of u){let v=s;if(y[0]==="!"){const T=y.substr(1).trim().split(" ");if(v=fi(we(s),T[0]),y=T.slice(1).join(" ").trim(),!y.length&&u.length===1)return v}if(y[0]==="-"){const T=y.substr(1).trim().split(" "),z=(v||s).previousElementSibling;v=Oe(z,y.substr(1))?z:null,y=T.slice(1).join(" ")}v&&(t+=`${t?",":""}${Kr(v)} ${y}`)}s=document}try{return s[a](t)}catch{return null}}const Ao=/.*?[^\\](?:,|$)/g,tr=Qt(t=>t.match(Ao).map(s=>s.replace(/,$/,"").trim()));function Kr(t){const s=[];for(;t.parentNode;){const a=bt(t,"id");if(a){s.unshift(`#${Us(a)}`);break}else{let{tagName:u}=t;u!=="HTML"&&(u+=`:nth-child(${Xe(t)+1})`),s.unshift(u),t=t.parentNode}}return s.join(" > ")}function Us(t){return Me(t)?CSS.escape(t):""}function _e(...t){let[s,a,u,y,v=!1]=W(t);y.length>1&&(y=rt(y)),v!=null&&v.self&&(y=dt(y)),u&&(y=K(u,y));for(const T of a)for(const z of s)z.addEventListener(T,y,v);return()=>In(s,a,y,v)}function In(...t){let[s,a,,u,y=!1]=W(t);for(const v of a)for(const T of s)T.removeEventListener(v,u,y)}function Z(...t){const[s,a,u,y,v=!1,T]=W(t),z=_e(s,a,u,F=>{const X=!T||T(F);X&&(z(),y(F,X))},v);return z}function I(t,s,a){return pt(t).every(u=>u.dispatchEvent(R(s,!0,!0,a)))}function R(t,s=!0,a=!1,u){return Me(t)&&(t=new CustomEvent(t,{bubbles:s,cancelable:a,detail:u})),t}function W(t){return t[0]=pt(t[0]),Me(t[1])&&(t[1]=t[1].split(" ")),li(t[2])&&t.splice(2,0,!1),t}function K(t,s){return a=>{const u=t[0]===">"?qe(t,a.currentTarget).reverse().filter(y=>oe(a.target,y))[0]:fi(a.target,t);u&&(a.current=u,s.call(this,a))}}function rt(t){return s=>Xt(s.detail)?t(s,...s.detail):t(s)}function dt(t){return function(s){if(s.target===s.currentTarget||s.target===s.current)return t.call(null,s)}}function ct(t){return t&&"addEventListener"in t}function ot(t){return ct(t)?t:je(t)}function pt(t){return Xt(t)?t.map(ot).filter(Boolean):Me(t)?qe(t):ct(t)?[t]:ne(t)}function Tt(t){return t.pointerType==="touch"||!!t.touches}function Ot(t){var s,a;const{clientX:u,clientY:y}=((s=t.touches)==null?void 0:s[0])||((a=t.changedTouches)==null?void 0:a[0])||t;return{x:u,y}}function Mt(t,s){const a={data:null,method:"GET",headers:{},xhr:new XMLHttpRequest,beforeSend:$e,responseType:"",...s};return Promise.resolve().then(()=>a.beforeSend(a)).then(()=>Ee(t,a))}function Ee(t,s){return new Promise((a,u)=>{const{xhr:y}=s;for(const v in s)if(v in y)try{y[v]=s[v]}catch{}y.open(s.method.toUpperCase(),t);for(const v in s.headers)y.setRequestHeader(v,s.headers[v]);_e(y,"load",()=>{y.status===0||y.status>=200&&y.status<300||y.status===304?a(y):u(Ye(Error(y.statusText),{xhr:y,status:y.status}))}),_e(y,"error",()=>u(Ye(Error("Network Error"),{xhr:y}))),_e(y,"timeout",()=>u(Ye(Error("Network Timeout"),{xhr:y}))),y.send(s.data)})}function Ie(t,s,a){return new Promise((u,y)=>{const v=new Image;v.onerror=T=>{y(T)},v.onload=()=>{u(v)},a&&(v.sizes=a),s&&(v.srcset=s),v.src=t})}const ue={"animation-iteration-count":!0,"column-count":!0,"fill-opacity":!0,"flex-grow":!0,"flex-shrink":!0,"font-weight":!0,"line-height":!0,opacity:!0,order:!0,orphans:!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,widows:!0,"z-index":!0,zoom:!0};function U(t,s,a,u=""){const y=ne(t);for(const v of y)if(Me(s)){if(s=Ze(s),oi(a))return getComputedStyle(v).getPropertyValue(s);v.style.setProperty(s,Hi(a)&&!ue[s]?`${a}px`:a||Ui(a)?a:"",u)}else if(Xt(s)){const T={};for(const z of s)T[z]=U(v,z);return T}else Ce(s)&&(u=a,Gi(s,(T,z)=>U(v,z,T,u)));return y[0]}const Ze=Qt(t=>Ti(t));function Ti(t){if(Lt(t,"--"))return t;t=et(t);const{style:s}=document.documentElement;if(t in s)return t;for(const a of["webkit","moz"]){const u=`-${a}-${t}`;if(u in s)return u}}function Nt(t,...s){Ln(t,s,"add")}function te(t,...s){Ln(t,s,"remove")}function yi(t,s){bt(t,"class",a=>(a||"").replace(new RegExp(`\\b${s}\\b\\s?`,"g"),""))}function zi(t,...s){s[0]&&te(t,s[0]),s[1]&&Nt(t,s[1])}function Ae(t,s){return[s]=er(s),!!s&&ne(t).some(a=>a.classList.contains(s))}function Re(t,s,a){const u=er(s);oi(a)||(a=!!a);for(const y of ne(t))for(const v of u)y.classList.toggle(v,a)}function Ln(t,s,a){s=s.reduce((u,y)=>u.concat(er(y)),[]);for(const u of ne(t))u.classList[a](...s)}function er(t){return String(t).split(/\s|,/).filter(Boolean)}function ta(t,s,a=400,u="linear"){return a=Math.round(a),Promise.all(ne(t).map(y=>new Promise((v,T)=>{for(const F in s){const X=U(y,F);X===""&&U(y,F,X)}const z=setTimeout(()=>I(y,"transitionend"),a);Z(y,"transitionend transitioncanceled",({type:F})=>{clearTimeout(z),te(y,"uk-transition"),U(y,{transitionProperty:"",transitionDuration:"",transitionTimingFunction:""}),F==="transitioncanceled"?T():v(y)},{self:!0}),Nt(y,"uk-transition"),U(y,{transitionProperty:Object.keys(s).map(Ze).join(","),transitionDuration:`${a}ms`,transitionTimingFunction:u,...s})})))}const ee={start:ta,async stop(t){I(t,"transitionend"),await Promise.resolve()},async cancel(t){I(t,"transitioncanceled"),await Promise.resolve()},inProgress(t){return Ae(t,"uk-transition")}},Vs="uk-animation-";function ea(t,s,a=200,u,y){return Promise.all(ne(t).map(v=>new Promise((T,z)=>{I(v,"animationcanceled");const F=setTimeout(()=>I(v,"animationend"),a);Z(v,"animationend animationcanceled",({type:X})=>{clearTimeout(F),X==="animationcanceled"?z():T(v),U(v,"animationDuration",""),yi(v,`${Vs}\\S*`)},{self:!0}),U(v,"animationDuration",`${a}ms`),Nt(v,s,Vs+(y?"leave":"enter")),Lt(s,Vs)&&(u&&Nt(v,`uk-transform-origin-${u}`),y&&Nt(v,`${Vs}reverse`))})))}const Gl=new RegExp(`${Vs}(enter|leave)`),yn={in:ea,out(t,s,a,u){return ea(t,s,a,u,!0)},inProgress(t){return Gl.test(bt(t,"class"))},cancel(t){I(t,"animationcanceled")}};function il(t){if(document.readyState!=="loading"){t();return}Z(document,"DOMContentLoaded",t)}function pn(t,...s){return s.some(a=>{var u;return(t==null||(u=t.tagName)==null?void 0:u.toLowerCase())===a.toLowerCase()})}function Mo(t){return t=ae(t),t.innerHTML="",t}function Un(t,s){return oi(s)?ae(t).innerHTML:mi(Mo(t),s)}const Wl=js("prepend"),mi=js("append"),zr=js("before"),vs=js("after");function js(t){return function(s,a){var u;const y=ne(Me(a)?Vn(a):a);return(u=ae(s))==null||u[t](...y),Ki(y)}}function Vi(t){ne(t).forEach(s=>s.remove())}function ir(t,s){for(s=je(zr(t,s));s.firstChild;)s=s.firstChild;return mi(s,t),s}function Lr(t,s){return ne(ne(t).map(a=>a.hasChildNodes()?ir(ne(a.childNodes),s):mi(a,s)))}function ls(t){ne(t).map(we).filter((s,a,u)=>u.indexOf(s)===a).forEach(s=>s.replaceWith(...s.childNodes))}const nl=/^\s*<(\w+|!)[^>]*>/,Aa=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;function Vn(t){const s=Aa.exec(t);if(s)return document.createElement(s[1]);const a=document.createElement("div");return nl.test(t)?a.insertAdjacentHTML("beforeend",t.trim()):a.textContent=t,Ki(a.childNodes)}function Ki(t){return t.length>1?t:t[0]}function fn(t,s){if(Ne(t))for(s(t),t=t.firstElementChild;t;){const a=t.nextElementSibling;fn(t,s),t=a}}function ae(t,s){return ia(t)?je(Vn(t)):Ss(t,s)}function ei(t,s){return ia(t)?ne(Vn(t)):qe(t,s)}function ia(t){return Me(t)&&Lt(t.trim(),"<")}const Zn={width:["left","right"],height:["top","bottom"]};function le(t){const s=Ne(t)?je(t).getBoundingClientRect():{height:Oi(t),width:qs(t),top:0,left:0};return{height:s.height,width:s.width,top:s.top,left:s.left,bottom:s.top+s.height,right:s.left+s.width}}function He(t,s){const a=le(t);if(t){const{scrollY:y,scrollX:v}=Ji(t),T={height:y,width:v};for(const z in Zn)for(const F of Zn[z])a[F]+=T[z]}if(!s)return a;const u=U(t,"position");Gi(U(t,["left","top"]),(y,v)=>U(t,v,s[v]-a[v]+Ht(u==="absolute"&&y==="auto"?Yr(t)[v]:y)))}function Yr(t){let{top:s,left:a}=He(t);const{ownerDocument:{body:u,documentElement:y},offsetParent:v}=je(t);let T=v||y;for(;T&&(T===u||T===y)&&U(T,"position")==="static";)T=T.parentNode;if(Ne(T)){const z=He(T);s-=z.top+Ht(U(T,"borderTopWidth")),a-=z.left+Ht(U(T,"borderLeftWidth"))}return{top:s-Ht(U(t,"marginTop")),left:a-Ht(U(t,"marginLeft"))}}function ts(t){t=je(t);const s=[t.offsetTop,t.offsetLeft];for(;t=t.offsetParent;)if(s[0]+=t.offsetTop+Ht(U(t,"borderTopWidth")),s[1]+=t.offsetLeft+Ht(U(t,"borderLeftWidth")),U(t,"position")==="fixed"){const a=Ji(t);return s[0]+=a.scrollY,s[1]+=a.scrollX,s}return s}const Oi=na("height"),qs=na("width");function na(t){const s=St(t);return(a,u)=>{if(oi(u)){if(ii(a))return a[`inner${s}`];if(dn(a)){const y=a.documentElement;return Math.max(y[`offset${s}`],y[`scroll${s}`])}return a=je(a),u=U(a,t),u=u==="auto"?a[`offset${s}`]:Ht(u)||0,u-hi(a,t)}else return U(a,t,!u&&u!==0?"":+u+hi(a,t)+"px")}}function hi(t,s,a="border-box"){return U(t,"boxSizing")===a?tn(Zn[s].map(St),u=>Ht(U(t,`padding${u}`))+Ht(U(t,`border${u}Width`))):0}function $r(t){for(const s in Zn)for(const a in Zn[s])if(Zn[s][a]===t)return Zn[s][1-a];return t}function sn(t,s="width",a=window,u=!1){return Me(t)?tn(ra(t),y=>{const v=ws(y);return v?sl(v==="vh"?rl():v==="vw"?qs(Ji(a)):u?a[`offset${St(s)}`]:le(a)[s],y):y}):Ht(t)}const sa=/-?\d+(?:\.\d+)?(?:v[wh]|%|px)?/g,ra=Qt(t=>t.toString().replace(/\s/g,"").match(sa)||[]),Xl=/(?:v[hw]|%)$/,ws=Qt(t=>(t.match(Xl)||[])[0]);function sl(t,s){return t*Ht(s)/100}let Zs,cs;function rl(){return Zs||(cs||(cs=ae("<div>"),U(cs,{height:"100vh",position:"fixed"}),_e(window,"resize",()=>Zs=null)),mi(document.body,cs),Zs=cs.clientHeight,Vi(cs),Zs)}const es=typeof window<"u",Ci=es&&document.dir==="rtl",is=es&&"ontouchstart"in window,bs=es&&window.PointerEvent,un=bs?"pointerdown":is?"touchstart":"mousedown",Dr=bs?"pointermove":is?"touchmove":"mousemove",Hn=bs?"pointerup":is?"touchend":"mouseup",$n=bs?"pointerenter":is?"":"mouseenter",Hs=bs?"pointerleave":is?"":"mouseleave",Jr=bs?"pointercancel":"touchcancel",Li={reads:[],writes:[],read(t){return this.reads.push(t),aa(),t},write(t){return this.writes.push(t),aa(),t},clear(t){Po(this.reads,t),Po(this.writes,t)},flush:oa};function oa(t){la(Li.reads),la(Li.writes.splice(0)),Li.scheduled=!1,(Li.reads.length||Li.writes.length)&&aa(t+1)}const Pc=4;function aa(t){Li.scheduled||(Li.scheduled=!0,t&&t<Pc?Promise.resolve().then(()=>oa(t)):requestAnimationFrame(()=>oa(1)))}function la(t){let s;for(;s=t.shift();)try{s()}catch(a){console.error(a)}}function Po(t,s){const a=t.indexOf(s);return~a&&t.splice(a,1)}function Qr(){}Qr.prototype={positions:[],init(){this.positions=[];let t;this.unbind=_e(document,"mousemove",s=>t=Ot(s)),this.interval=setInterval(()=>{t&&(this.positions.push(t),this.positions.length>5&&this.positions.shift())},50)},cancel(){var t;(t=this.unbind)==null||t.call(this),this.interval&&clearInterval(this.interval)},movesTo(t){if(this.positions.length<2)return!1;const s=t.getBoundingClientRect(),{left:a,right:u,top:y,bottom:v}=s,[T]=this.positions,z=zn(this.positions),F=[T,z];return at(z,s)?!1:[[{x:a,y},{x:u,y:v}],[{x:a,y:v},{x:u,y}]].some(Y=>{const yt=ol(F,Y);return yt&&at(yt,s)})}};function ol([{x:t,y:s},{x:a,y:u}],[{x:y,y:v},{x:T,y:z}]){const F=(z-v)*(a-t)-(T-y)*(u-s);if(F===0)return!1;const X=((T-y)*(s-v)-(z-v)*(t-y))/F;return X<0?!1:{x:t+X*(a-t),y:s+X*(u-s)}}function Gn(t,s,a,u=!0){const y=new IntersectionObserver(u?(v,T)=>{v.some(z=>z.isIntersecting)&&s(v,T)}:s,a);for(const v of ne(t))y.observe(v);return y}const Kl=es&&window.ResizeObserver;function nr(t,s,a={box:"border-box"}){return Kl?Br(ResizeObserver,t,s,a):(to(),Es.add(s),{disconnect(){Es.delete(s)}})}let Es;function to(){if(Es)return;Es=new Set;let t;const s=()=>{if(!t){t=!0,requestAnimationFrame(()=>t=!1);for(const a of Es)a()}};_e(window,"load resize",s),_e(document,"loadedmetadata load",s,!0)}function Ma(t,s,a){return Br(MutationObserver,t,s,a)}function Br(t,s,a,u){const y=new t(a);for(const v of ne(s))y.observe(v,u);return y}const We={};We.events=We.created=We.beforeConnect=We.connected=We.beforeDisconnect=We.disconnected=We.destroy=ui,We.args=function(t,s){return s!==!1&&ui(s||t)},We.update=function(t,s){return hn(ui(t,li(s)?{read:s}:s),"order")},We.props=function(t,s){if(Xt(s)){const a={};for(const u of s)a[u]=String;s=a}return We.methods(t,s)},We.computed=We.methods=function(t,s){return s?t?{...t,...s}:s:t},We.data=function(t,s,a){return a?Pa(t,s,a):s?t?function(u){return Pa(t,s,u)}:s:t};function Pa(t,s,a){return We.computed(li(t)?t.call(a,a):t,li(s)?s.call(a,a):s)}function ui(t,s){return t=t&&!Xt(t)?[t]:t,s?t?t.concat(s):Xt(s)?s:[s]:t}function $i(t,s){return oi(s)?t:s}function bi(t,s,a){const u={};if(li(s)&&(s=s.options),s.extends&&(t=bi(t,s.extends,a)),s.mixins)for(const v of s.mixins)t=bi(t,v,a);for(const v in t)y(v);for(const v in s)N(t,v)||y(v);function y(v){u[v]=(We[v]||$i)(t[v],s[v],a)}return u}function Di(t,s=[]){try{return t?Lt(t,"{")?JSON.parse(t):s.length&&!kt(t,":")?{[s[0]]:t}:t.split(";").reduce((a,u)=>{const[y,v]=u.split(/:(.*)/);return y&&!oi(v)&&(a[y.trim()]=v.trim()),a},{}):{}}catch{return{}}}function eo(t){if(io(t)&&fr(t,{func:"playVideo",method:"play"}),Fr(t))try{t.play().catch($e)}catch{}}function Rr(t){io(t)&&fr(t,{func:"pauseVideo",method:"pause"}),Fr(t)&&t.pause()}function al(t){io(t)&&fr(t,{func:"mute",method:"setVolume",value:0}),Fr(t)&&(t.muted=!0)}function ll(t){return Fr(t)||io(t)}function Fr(t){return pn(t,"video")}function io(t){return pn(t,"iframe")&&(zo(t)||no(t))}function zo(t){return!!t.src.match(/\/\/.*?youtube(-nocookie)?\.[a-z]+\/(watch\?v=[^&\s]+|embed)|youtu\.be\/.*/)}function no(t){return!!t.src.match(/vimeo\.com\/video\/.*/)}async function fr(t,s){await za(t),so(t,s)}function so(t,s){try{t.contentWindow.postMessage(JSON.stringify({event:"command",...s}),"*")}catch{}}const ro="_ukPlayer";let Yl=0;function za(t){if(t[ro])return t[ro];const s=zo(t),a=no(t),u=++Yl;let y;return t[ro]=new Promise(v=>{s&&Z(t,"load",()=>{const T=()=>so(t,{event:"listening",id:u});y=setInterval(T,100),T()}),Z(window,"message",v,!1,({data:T})=>{try{return T=JSON.parse(T),T&&(s&&T.id===u&&T.event==="onReady"||a&&Number(T.player_id)===u)}catch{}}),t.src=`${t.src}${kt(t.src,"?")?"&":"?"}${s?"enablejsapi=1":`api=1&player_id=${u}`}`}).then(()=>clearInterval(y))}function Or(t,s=0,a=0){return pe(t)?xs(...Is(t).map(u=>{const{top:y,left:v,bottom:T,right:z}=Ni(u);return{top:y-s,left:v-a,bottom:T+s,right:z+a}}).concat(He(t))):!1}function ks(t,{offset:s=0}={}){const a=pe(t)?rn(t,!1,["hidden"]):[];return a.reduce((T,z,F)=>{const{scrollTop:X,scrollHeight:Y,offsetHeight:yt}=z,It=Ni(z),Kt=Y-It.height,{height:ke,top:si}=a[F-1]?Ni(a[F-1]):He(t);let Je=Math.ceil(si-It.top-s+X);return s>0&&yt<ke+s?Je+=s:s=0,Je>Kt?(s-=Je-Kt,Je=Kt):Je<0&&(s-=Je,Je=0),()=>u(z,Je-X).then(T)},()=>Promise.resolve())();function u(T,z){return new Promise(F=>{const X=T.scrollTop,Y=y(Math.abs(z)),yt=Date.now();(function It(){const Kt=v(Qe((Date.now()-yt)/Y));T.scrollTop=X+z*Kt,Kt===1?F():requestAnimationFrame(It)})()})}function y(T){return 40*Math.pow(T,.375)}function v(T){return .5*(1-Math.cos(Math.PI*T))}}function Lo(t,s=0,a=0){if(!pe(t))return 0;const[u]=rn(t,!0),{scrollHeight:y,scrollTop:v}=u,{height:T}=Ni(u),z=y-T,F=ts(t)[0]-ts(u)[0],X=Math.max(0,F-T+s),Y=Math.min(z,F+t.offsetHeight-a);return Qe((v-X)/(Y-X))}function rn(t,s=!1,a=[]){const u=oo(t);let y=Zi(t).reverse();y=y.slice(y.indexOf(u)+1);const v=Te(y,T=>U(T,"position")==="fixed");return~v&&(y=y.slice(v)),[u].concat(y.filter(T=>kt(["auto","scroll",...a],U(T,"overflow"))&&(!s||T.scrollHeight>Ni(T).height))).reverse()}function Is(t){return rn(t,!1,["hidden","clip"])}function Ni(t){const s=Ji(t),{document:{documentElement:a}}=s;let u=t===oo(t)?s:t;const{visualViewport:y}=s;if(ii(u)&&y){let{height:T,width:z,scale:F,pageTop:X,pageLeft:Y}=y;return T=Math.round(T*F),z=Math.round(z*F),{height:T,width:z,top:X,left:Y,bottom:X+T,right:Y+z}}let v=He(u);if(U(u,"display")==="inline")return v;for(let[T,z,F,X]of[["width","x","left","right"],["height","y","top","bottom"]])ii(u)?u=a:v[F]+=Ht(U(u,`border-${F}-width`)),v[T]=v[z]=u[`client${St(T)}`],v[X]=v[T]+v[F];return v}function oo(t){return Ji(t).document.scrollingElement}const ji=[["width","x","left","right"],["height","y","top","bottom"]];function cl(t,s,a){a={attach:{element:["left","top"],target:["left","top"],...a.attach},offset:[0,0],placement:[],...a},Xt(s)||(s=[s,s]),He(t,$o(t,s,a))}function $o(t,s,a){const u=La(t,s,a),{boundary:y,viewportOffset:v=0,placement:T}=a;let z=u;for(const[F,[X,,Y,yt]]of Object.entries(ji)){const It=hl(t,s[F],v,y,F);if(Gs(u,It,F))continue;let Kt=0;if(T[F]==="flip"){const ke=a.attach.target[F];if(ke===yt&&u[yt]<=It[yt]||ke===Y&&u[Y]>=It[Y])continue;Kt=Jl(t,s,a,F)[Y]-u[Y];const si=$a(t,s[F],v,F);if(!Gs(Do(u,Kt,F),si,F)){if(Gs(u,si,F))continue;if(a.recursion)return!1;const Je=ca(t,s,a);if(Je&&Gs(Je,si,1-F))return Je;continue}}else if(T[F]==="shift"){const ke=He(s[F]),{offset:si}=a;Kt=Qe(Qe(u[Y],It[Y],It[yt]-u[X]),ke[Y]-u[X]+si[F],ke[yt]-si[F])-u[Y]}z=Do(z,Kt,F)}return z}function La(t,s,a){let{attach:u,offset:y}={attach:{element:["left","top"],target:["left","top"],...a.attach},offset:[0,0],...a},v=He(t);for(const[T,[z,,F,X]]of Object.entries(ji)){const Y=u.target[T]===u.element[T]?Ni(s[T]):He(s[T]);v=Do(v,Y[F]-v[F]+ao(u.target[T],X,Y[z])-ao(u.element[T],X,v[z])+ +y[T],T)}return v}function Do(t,s,a){const[,u,y,v]=ji[a],T={...t};return T[y]=t[u]=t[y]+s,T[v]+=s,T}function ao(t,s,a){return t==="center"?a/2:t===s?a:0}function hl(t,s,a,u,y){let v=Nr(...lo(t,s).map(Ni));return a&&(v[ji[y][2]]+=a,v[ji[y][3]]-=a),u&&(v=Nr(v,He(Xt(u)?u[y]:u))),v}function $a(t,s,a,u){const[y,v,T,z]=ji[u],[F]=lo(t,s),X=Ni(F);return["auto","scroll"].includes(U(F,`overflow-${v}`))&&(X[T]-=F[`scroll${St(T)}`],X[z]=X[T]+F[`scroll${St(y)}`]),X[T]+=a,X[z]-=a,X}function lo(t,s){return Is(s).filter(a=>oe(t,a))}function Nr(...t){let s={};for(const a of t)for(const[,,u,y]of ji)s[u]=Math.max(s[u]||0,a[u]),s[y]=Math.min(...[s[y],a[y]].filter(Boolean));return s}function Gs(t,s,a){const[,,u,y]=ji[a];return t[u]>=s[u]&&t[y]<=s[y]}function Jl(t,s,{offset:a,attach:u},y){return La(t,s,{attach:{element:Da(u.element,y),target:Da(u.target,y)},offset:Ql(a,y)})}function ca(t,s,a){return $o(t,s,{...a,attach:{element:a.attach.element.map(Ba).reverse(),target:a.attach.target.map(Ba).reverse()},offset:a.offset.reverse(),placement:a.placement.reverse(),recursion:!0})}function Da(t,s){const a=[...t],u=ji[s].indexOf(t[s]);return~u&&(a[s]=ji[s][1-u%2+2]),a}function Ba(t){for(let s=0;s<ji.length;s++){const a=ji[s].indexOf(t);if(~a)return ji[1-s][a%2+2]}}function Ql(t,s){return t=[...t],t[s]*=-1,t}var Bo=Object.freeze({__proto__:null,$:ae,$$:ei,Animation:yn,Deferred:Ft,Dimensions:qt,MouseTracker:Qr,Transition:ee,addClass:Nt,after:vs,ajax:Mt,append:mi,apply:fn,assign:Ye,attr:bt,before:zr,boxModelAdjust:hi,camelize:ut,children:Pt,clamp:Qe,closest:fi,createEvent:R,css:U,data:ie,dimensions:le,each:Gi,empty:Mo,endsWith:lt,escape:Us,fastdom:Li,filter:ai,find:Ss,findAll:qe,findIndex:Te,flipPosition:$r,fragment:Vn,getEventPos:Ot,getImage:Ie,getIndex:Yt,hasAttr:jt,hasClass:Ae,hasOwn:N,hasTouch:is,height:Oi,html:Un,hyphenate:et,inBrowser:es,includes:kt,index:Xe,intersectRect:xs,isArray:Xt,isBoolean:xi,isDocument:dn,isElement:Ne,isEmpty:gn,isEqual:Qi,isFocusable:en,isFunction:li,isInView:Or,isInput:vt,isNode:wn,isNumber:Ui,isNumeric:Hi,isObject:Ce,isPlainObject:ti,isRtl:Ci,isString:Me,isTag:pn,isTouch:Tt,isUndefined:oi,isVideo:ll,isVisible:pe,isVoidElement:Ve,isWindow:ii,last:zn,matches:Oe,memoize:Qt,mergeOptions:bi,mute:al,noop:$e,observeIntersection:Gn,observeMutation:Ma,observeResize:nr,off:In,offset:He,offsetPosition:ts,offsetViewport:Ni,on:_e,once:Z,overflowParents:Is,parent:we,parents:Zi,parseOptions:Di,pause:Rr,play:eo,pointInRect:at,pointerCancel:Jr,pointerDown:un,pointerEnter:$n,pointerLeave:Hs,pointerMove:Dr,pointerUp:Hn,position:Yr,positionAt:cl,prepend:Wl,propName:Ze,query:Pe,queryAll:nn,ready:il,remove:Vi,removeAttr:Se,removeClass:te,removeClasses:yi,replaceClass:zi,scrollIntoView:ks,scrollParents:rn,scrolledOver:Lo,selFocusable:Zt,selInput:ci,sortBy:hn,startsWith:Lt,sumBy:tn,swap:ys,toArray:Pi,toBoolean:ve,toEventTargets:pt,toFloat:Ht,toNode:je,toNodes:ne,toNumber:ri,toPx:sn,toWindow:Ji,toggleClass:Re,trigger:I,ucfirst:St,uniqueBy:_s,unwrap:ls,width:qs,within:oe,wrapAll:ir,wrapInner:Lr});function tc(t){const s=t.data;t.use=function(y){if(!y.installed)return y.call(null,this),y.installed=!0,this},t.mixin=function(y,v){v=(Me(v)?t.component(v):v)||this,v.options=bi(v.options,y)},t.extend=function(y){y=y||{};const v=this,T=function(F){this._init(F)};return T.prototype=Object.create(v.prototype),T.prototype.constructor=T,T.options=bi(v.options,y),T.super=v,T.extend=v.extend,T},t.update=function(y,v){y=y?je(y):document.body;for(const T of Zi(y).reverse())u(T[s],v);fn(y,T=>u(T[s],v))};let a;Object.defineProperty(t,"container",{get(){return a||document.body},set(y){a=ae(y)}});function u(y,v){if(y)for(const T in y)y[T]._connected&&y[T]._callUpdate(v)}}function ha(t){t.prototype._callHook=function(u){var y;(y=this.$options[u])==null||y.forEach(v=>v.call(this))},t.prototype._callConnected=function(){this._connected||(this._data={},this._computed={},this._initProps(),this._callHook("beforeConnect"),this._connected=!0,this._initEvents(),this._initObservers(),this._callHook("connected"),this._callUpdate())},t.prototype._callDisconnected=function(){this._connected&&(this._callHook("beforeDisconnect"),this._disconnectObservers(),this._unbindEvents(),this._callHook("disconnected"),this._connected=!1,delete this._watch)},t.prototype._callUpdate=function(u="update"){this._connected&&((u==="update"||u==="resize")&&this._callWatches(),this.$options.update&&(this._updates||(this._updates=new Set,Li.read(()=>{this._connected&&s.call(this,this._updates),delete this._updates})),this._updates.add(u.type||u)))},t.prototype._callWatches=function(){if(this._watch)return;const u=!N(this,"_watch");this._watch=Li.read(()=>{this._connected&&a.call(this,u),this._watch=null})};function s(u){for(const{read:y,write:v,events:T=[]}of this.$options.update){if(!u.has("update")&&!T.some(F=>u.has(F)))continue;let z;y&&(z=y.call(this,this._data,u),z&&ti(z)&&Ye(this._data,z)),v&&z!==!1&&Li.write(()=>{this._connected&&v.call(this,this._data,u)})}}function a(u){const{$options:{computed:y}}=this,v={...this._computed};this._computed={};for(const T in y){const{watch:z,immediate:F}=y[T];z&&(u&&F||N(v,T)&&!Qi(v[T],this[T]))&&z.call(this,this[T],v[T])}}}function ua(t){let s=0;t.prototype._init=function(a){a=a||{},a.data=mr(a,this.constructor.options),this.$options=bi(this.constructor.options,a,this),this.$el=null,this.$props={},this._uid=s++,this._initData(),this._initMethods(),this._initComputeds(),this._callHook("created"),a.el&&this.$mount(a.el)},t.prototype._initData=function(){const{data:a={}}=this.$options;for(const u in a)this.$props[u]=this[u]=a[u]},t.prototype._initMethods=function(){const{methods:a}=this.$options;if(a)for(const u in a)this[u]=a[u].bind(this)},t.prototype._initComputeds=function(){const{computed:a}=this.$options;if(this._computed={},a)for(const u in a)da(this,u,a[u])},t.prototype._initProps=function(a){let u;a=a||ns(this.$options);for(u in a)oi(a[u])||(this.$props[u]=a[u]);const y=[this.$options.computed,this.$options.methods];for(u in this.$props)u in a&&zc(y,u)&&(this[u]=this.$props[u])},t.prototype._initEvents=function(){this._events=[];for(const a of this.$options.events||[])if(N(a,"handler"))An(this,a);else for(const u in a)An(this,a[u],u)},t.prototype._unbindEvents=function(){this._events.forEach(a=>a()),delete this._events},t.prototype._initObservers=function(){this._observers=[ul(this),pa(this)]},t.prototype.registerObserver=function(...a){this._observers.push(...a)},t.prototype._disconnectObservers=function(){this._observers.forEach(a=>a==null?void 0:a.disconnect())}}function ns(t){const s={},{args:a=[],props:u={},el:y,id:v}=t;if(!u)return s;for(const z in u){const F=et(z);let X=ie(y,F);oi(X)||(X=u[z]===Boolean&&X===""?!0:As(u[z],X),!(F==="target"&&Lt(X,"_"))&&(s[z]=X))}const T=Di(ie(y,v),a);for(const z in T){const F=ut(z);oi(u[F])||(s[F]=As(u[F],T[z]))}return s}function da(t,s,a){Object.defineProperty(t,s,{enumerable:!0,get(){const{_computed:u,$props:y,$el:v}=t;return N(u,s)||(u[s]=(a.get||a).call(t,y,v)),u[s]},set(u){const{_computed:y}=t;y[s]=a.set?a.set.call(t,u):u,oi(y[s])&&delete y[s]}})}function An(t,s,a){ti(s)||(s={name:a,handler:s});let{name:u,el:y,handler:v,capture:T,passive:z,delegate:F,filter:X,self:Y}=s;if(y=li(y)?y.call(t):y||t.$el,Xt(y)){y.forEach(yt=>An(t,{...s,el:yt},a));return}!y||X&&!X.call(t)||t._events.push(_e(y,u,F?Me(F)?F:F.call(t):null,Me(v)?t[v]:v.bind(t),{passive:z,capture:T,self:Y}))}function zc(t,s){return t.every(a=>!a||!N(a,s))}function As(t,s){return t===Boolean?ve(s):t===Number?ri(s):t==="list"?ec(s):t?t(s):s}function ec(t){return Xt(t)?t:Me(t)?t.split(/,(?![^(]*\))/).map(s=>Hi(s)?ri(s):ve(s.trim())):[t]}function mr({data:t={}},{args:s=[],props:a={}}){Xt(t)&&(t=t.slice(0,s.length).reduce((u,y,v)=>(ti(y)?Ye(u,y):u[s[v]]=y,u),{}));for(const u in t)oi(t[u])?delete t[u]:a[u]&&(t[u]=As(a[u],t[u]));return t}function pa(t){let{el:s,computed:a}=t.$options;if(!a)return;for(const y in a)if(a[y].document){s=s.ownerDocument;break}const u=new MutationObserver(()=>t._callWatches());return u.observe(s,{childList:!0,subtree:!0}),u}function ul(t){const{$options:s,$props:a}=t,{id:u,attrs:y,props:v,el:T}=s;if(!v||y===!1)return;const z=Xt(y)?y:Object.keys(v),F=z.map(Y=>et(Y)).concat(u),X=new MutationObserver(Y=>{const yt=ns(s);Y.some(({attributeName:It})=>{const Kt=It.replace("data-","");return(Kt===u?z:[ut(Kt),ut(It)]).some(ke=>!oi(yt[ke])&&yt[ke]!==a[ke])})&&t.$reset()});return X.observe(T,{attributes:!0,attributeFilter:F.concat(F.map(Y=>`data-${Y}`))}),X}function Lc(t){const s=t.data;t.prototype.$create=function(a,u,y){return t[a](u,y)},t.prototype.$mount=function(a){const{name:u}=this.$options;a[s]||(a[s]={}),!a[s][u]&&(a[s][u]=this,this.$el=this.$options.el=this.$options.el||a,oe(a,document)&&this._callConnected())},t.prototype.$reset=function(){this._callDisconnected(),this._callConnected()},t.prototype.$destroy=function(a=!1){const{el:u,name:y}=this.$options;u&&this._callDisconnected(),this._callHook("destroy"),u!=null&&u[s]&&(delete u[s][y],gn(u[s])||delete u[s],a&&Vi(this.$el))},t.prototype.$emit=function(a){this._callUpdate(a)},t.prototype.$update=function(a=this.$el,u){t.update(a,u)},t.prototype.$getComponent=t.getComponent,Object.defineProperty(t.prototype,"$container",Object.getOwnPropertyDescriptor(t,"container"))}const ss={};function Ra(t){const{data:s,prefix:a}=t;t.component=function(u,y){u=et(u);const v=a+u;if(!y)return ti(ss[v])&&(ss[v]=ss[`data-${v}`]=t.extend(ss[v])),ss[v];u=ut(u),t[u]=function(z,F){const X=t.component(u);return X.options.functional?new X({data:ti(z)?z:[...arguments]}):z?ei(z).map(Y)[0]:Y();function Y(yt){const It=t.getComponent(yt,u);if(It)if(F)It.$destroy();else return It;return new X({el:yt,data:F})}};const T=ti(y)?{...y}:y.options;return T.id=v,T.name=u,T.install==null||T.install(t,T,u),t._initialized&&!T.functional&&requestAnimationFrame(()=>t[u](`[${v}],[data-${v}]`)),ss[v]=ss[`data-${v}`]=ti(y)?T:y},t.getComponents=u=>(u==null?void 0:u[s])||{},t.getComponent=(u,y)=>t.getComponents(u)[y],t.connect=u=>{if(u[s])for(const y in u[s])u[s][y]._callConnected();for(const y of u.getAttributeNames()){const v=co(y);v&&t[v](u)}},t.disconnect=u=>{for(const y in u[s])u[s][y]._callDisconnected()}}function co(t){const s=ss[t];return s&&(ti(s)?s:s.options).name}const Ei=function(t){this._init(t)};Ei.util=Bo,Ei.data="__uikit__",Ei.prefix="uk-",Ei.options={},Ei.version="3.15.22",tc(Ei),ha(Ei),ua(Ei),Ra(Ei),Lc(Ei);function xe(t){const{connect:s,disconnect:a}=t;if(!es||!window.MutationObserver)return;requestAnimationFrame(function(){I(document,"uikit:init",t),document.body&&fn(document.body,s),new MutationObserver(v=>v.forEach(u)).observe(document,{childList:!0,subtree:!0}),new MutationObserver(v=>v.forEach(y)).observe(document,{attributes:!0,subtree:!0}),t._initialized=!0});function u({addedNodes:v,removedNodes:T}){for(const z of v)fn(z,s);for(const z of T)fn(z,a)}function y({target:v,attributeName:T}){const z=co(T);if(z){var F;if(jt(v,T)){t[z](v);return}(F=t.getComponent(v,z))==null||F.$destroy()}}}var Wi={connected(){Nt(this.$el,this.$options.id)}},rs={data:{preload:5},methods:{lazyload(t=this.$el,s=this.$el){this.registerObserver(Gn(t,(a,u)=>{for(const y of ne(li(s)?s():s))ei('[loading="lazy"]',y).slice(0,this.preload-1).forEach(v=>Se(v,"loading"));for(const y of a.filter(({isIntersecting:v})=>v).map(({target:v})=>v))u.unobserve(y)}))}}},_n={props:{cls:Boolean,animation:"list",duration:Number,velocity:Number,origin:String,transition:String},data:{cls:!1,animation:[!1],duration:200,velocity:.2,origin:!1,transition:"ease",clsEnter:"uk-togglabe-enter",clsLeave:"uk-togglabe-leave"},computed:{hasAnimation({animation:t}){return!!t[0]},hasTransition({animation:t}){return["slide","reveal"].some(s=>Lt(t[0],s))}},methods:{toggleElement(t,s,a){return new Promise(u=>Promise.all(ne(t).map(y=>{const v=xi(s)?s:!this.isToggled(y);if(!I(y,`before${v?"show":"hide"}`,[this]))return Promise.reject();const T=(li(a)?a:a===!1||!this.hasAnimation?dl:this.hasTransition?he:Fa)(y,v,this),z=v?this.clsEnter:this.clsLeave;Nt(y,z),I(y,v?"show":"hide",[this]);const F=()=>{te(y,z),I(y,v?"shown":"hidden",[this])};return T?T.then(F,()=>(te(y,z),Promise.reject())):F()})).then(u,$e))},isToggled(t=this.$el){return[t]=ne(t),Ae(t,this.clsEnter)?!0:Ae(t,this.clsLeave)?!1:this.cls?Ae(t,this.cls.split(" ")[0]):pe(t)},_toggle(t,s){if(!t)return;s=Boolean(s);let a;this.cls?(a=kt(this.cls," ")||s!==Ae(t,this.cls),a&&Re(t,this.cls,kt(this.cls," ")?void 0:s)):(a=s===t.hidden,a&&(t.hidden=!s)),ei("[autofocus]",t).some(u=>pe(u)?u.focus()||!0:u.blur()),a&&I(t,"toggled",[s,this])}}};function dl(t,s,{_toggle:a}){return yn.cancel(t),ee.cancel(t),a(t,s)}async function he(t,s,{animation:a,duration:u,velocity:y,transition:v,_toggle:T}){var z;const[F="reveal",X="top"]=((z=a[0])==null?void 0:z.split("-"))||[],Y=[["left","right"],["top","bottom"]],yt=Y[kt(Y[0],X)?0:1],It=yt[1]===X,ke=["width","height"][Y.indexOf(yt)],si=`margin-${yt[0]}`,Je=`margin-${X}`;let Tr=le(t)[ke];const Go=ee.inProgress(t);await ee.cancel(t),s&&T(t,!0);const Zr=Object.fromEntries(["padding","border","width","height","minWidth","minHeight","overflowY","overflowX",si,Je].map(lh=>[lh,t.style[lh]])),Wo=le(t),vc=Ht(U(t,si)),Xo=Ht(U(t,Je)),Hr=Wo[ke]+Xo;!Go&&!s&&(Tr+=Xo);const[Xa]=Lr(t,"<div>");U(Xa,{boxSizing:"border-box",height:Wo.height,width:Wo.width,...U(t,["overflow","padding","borderTop","borderRight","borderBottom","borderLeft","borderImage",Je])}),U(t,{padding:0,border:0,minWidth:0,minHeight:0,[Je]:0,width:Wo.width,height:Wo.height,overflow:"hidden",[ke]:Tr});const Bl=Tr/Hr;u=(y*Hr+u)*(s?1-Bl:Bl);const wc={[ke]:s?Hr:0};It&&(U(t,si,Hr-Tr+vc),wc[si]=s?vc:Hr+vc),!It^F==="reveal"&&(U(Xa,si,-Hr+Tr),ee.start(Xa,{[si]:s?0:-Hr},u,v));try{await ee.start(t,wc,u,v)}finally{U(t,Zr),ls(Xa.firstChild),s||T(t,!1)}}function Fa(t,s,a){yn.cancel(t);const{animation:u,duration:y,_toggle:v}=a;return s?(v(t,!0),yn.in(t,u[0],y,a.origin)):yn.out(t,u[1]||u[0],y,a.origin).then(()=>v(t,!1))}var pl={mixins:[Wi,rs,_n],props:{animation:Boolean,targets:String,active:null,collapsible:Boolean,multiple:Boolean,toggle:String,content:String,offset:Number},data:{targets:"> *",active:!1,animation:!0,collapsible:!0,multiple:!1,clsOpen:"uk-open",toggle:"> .uk-accordion-title",content:"> .uk-accordion-content",offset:0},computed:{items:{get({targets:t},s){return ei(t,s)},watch(t,s){if(s||Ae(t,this.clsOpen))return;const a=this.active!==!1&&t[Number(this.active)]||!this.collapsible&&t[0];a&&this.toggle(a,!1)},immediate:!0},toggles({toggle:t}){return this.items.map(s=>ae(t,s))},contents:{get({content:t}){return this.items.map(s=>ae(t,s))},watch(t){for(const s of t)gr(s,!Ae(this.items.find(a=>oe(s,a)),this.clsOpen))},immediate:!0}},connected(){this.lazyload()},events:[{name:"click",delegate(){return`${this.targets} ${this.$props.toggle}`},async handler(t){var s;t.preventDefault(),(s=this._off)==null||s.call(this),this._off=ic(t.target),await this.toggle(Xe(this.toggles,t.current)),this._off()}}],methods:{async toggle(t,s){t=this.items[Yt(t,this.items)];let a=[t];const u=ai(this.items,`.${this.clsOpen}`);!this.multiple&&!kt(u,a[0])&&(a=a.concat(u)),!(!this.collapsible&&u.length<2&&kt(u,t))&&await Promise.all(a.map(y=>this.toggleElement(y,!kt(u,y),(v,T)=>{if(Re(v,this.clsOpen,T),bt(ae(this.$props.toggle,v),"aria-expanded",T),s===!1||!this.animation){gr(ae(this.content,v),!T);return}return fl(v,T,this)})))}}};function gr(t,s){t&&(t.hidden=s)}async function fl(t,s,{content:a,duration:u,velocity:y,transition:v}){var T;a=((T=t._wrapper)==null?void 0:T.firstElementChild)||ae(a,t),t._wrapper||(t._wrapper=ir(a,"<div>"));const z=t._wrapper;U(z,"overflow","hidden");const F=Ht(U(z,"height"));await ee.cancel(z),gr(a,!1);const X=tn(["marginTop","marginBottom"],yt=>U(a,yt))+le(a).height,Y=F/X;u=(y*X+u)*(s?1-Y:Y),U(z,"height",F),await ee.start(z,{height:s?X:0},u,v),ls(a),delete t._wrapper,s||gr(a,!0)}function ic(t){const[s]=rn(t,!0);let a;return function u(){a=requestAnimationFrame(()=>{const{top:y}=t.getBoundingClientRect();y<0&&(s.scrollTop+=y),u()})}(),()=>requestAnimationFrame(()=>cancelAnimationFrame(a))}var nc={mixins:[Wi,_n],args:"animation",props:{animation:Boolean,close:String},data:{animation:!0,selClose:".uk-alert-close",duration:150},events:{name:"click",delegate(){return this.selClose},handler(t){t.preventDefault(),this.close()}},methods:{async close(){await this.toggleElement(this.$el,!1,$c),this.$destroy(!0)}}};function $c(t,s,{duration:a,transition:u,velocity:y}){const v=Ht(U(t,"height"));return U(t,"height",v),ee.start(t,{height:0,marginTop:0,marginBottom:0,paddingTop:0,paddingBottom:0,borderTop:0,borderBottom:0,opacity:0},y*v+a,u)}var Oa={args:"autoplay",props:{automute:Boolean,autoplay:Boolean},data:{automute:!1,autoplay:!0},connected(){this.inView=this.autoplay==="inview",this.inView&&!jt(this.$el,"preload")&&(this.$el.preload="none"),pn(this.$el,"iframe")&&!jt(this.$el,"allow")&&(this.$el.allow="autoplay"),this.automute&&al(this.$el),this.registerObserver(Gn(this.$el,()=>this.$emit(),{},!1))},update:{read({visible:t}){return ll(this.$el)?{prev:t,visible:pe(this.$el)&&U(this.$el,"visibility")!=="hidden",inView:this.inView&&Or(this.$el)}:!1},write({prev:t,visible:s,inView:a}){!s||this.inView&&!a?Rr(this.$el):(this.autoplay===!0&&!t||this.inView&&a)&&eo(this.$el)}}},bn={connected(){var t;this.registerObserver(nr(((t=this.$options.resizeTargets)==null?void 0:t.call(this))||this.$el,()=>this.$emit("resize")))}},ml={mixins:[bn,Oa],props:{width:Number,height:Number},data:{automute:!0},events:{"load loadedmetadata"(){this.$emit("resize")}},resizeTargets(){return[this.$el,fa(this.$el)||we(this.$el)]},update:{read(){const{ratio:t,cover:s}=qt,{$el:a,width:u,height:y}=this;let v={width:u,height:y};if(!v.width||!v.height){const X={width:a.naturalWidth||a.videoWidth||a.clientWidth,height:a.naturalHeight||a.videoHeight||a.clientHeight};v.width?v=t(X,"width",v.width):y?v=t(X,"height",v.height):v=X}const{offsetHeight:T,offsetWidth:z}=fa(a)||we(a),F=s(v,{width:z+(z%2?1:0),height:T+(T%2?1:0)});return!F.width||!F.height?!1:F},write({height:t,width:s}){U(this.$el,{height:t,width:s})},events:["resize"]}};function fa(t){for(;t=we(t);)if(U(t,"position")!=="static")return t}var Ts={props:{container:Boolean},data:{container:!0},computed:{container({container:t}){return t===!0&&this.$container||t&&ae(t)}}},Wn={props:{pos:String,offset:null,flip:Boolean,shift:Boolean,inset:Boolean},data:{pos:`bottom-${Ci?"right":"left"}`,offset:!1,flip:!0,shift:!0,inset:!1},connected(){this.pos=this.$props.pos.split("-").concat("center").slice(0,2),[this.dir,this.align]=this.pos,this.axis=kt(["top","bottom"],this.dir)?"y":"x"},methods:{positionAt(t,s,a){let u=[this.getPositionOffset(t),this.getShiftOffset(t)];const y=[this.flip&&"flip",this.shift&&"shift"],v={element:[this.inset?this.dir:$r(this.dir),this.align],target:[this.dir,this.align]};if(this.axis==="y"){for(const Y in v)v[Y].reverse();u.reverse(),y.reverse()}const[T]=rn(t),{scrollTop:z,scrollLeft:F}=T,X=le(t);U(t,{top:-X.height,left:-X.width}),cl(t,s,{attach:v,offset:u,boundary:a,placement:y,viewportOffset:this.getViewportOffset(t)}),T.scrollTop=z,T.scrollLeft=F},getPositionOffset(t){return sn(this.offset===!1?U(t,"--uk-position-offset"):this.offset,this.axis==="x"?"width":"height",t)*(kt(["left","top"],this.dir)?-1:1)*(this.inset?-1:1)},getShiftOffset(t){return this.align==="center"?0:sn(U(t,"--uk-position-shift-offset"),this.axis==="y"?"width":"height",t)*(kt(["left","top"],this.align)?1:-1)},getViewportOffset(t){return sn(U(t,"--uk-position-viewport-offset"))}}};const Mi=[];var Ro={mixins:[Wi,Ts,_n],props:{selPanel:String,selClose:String,escClose:Boolean,bgClose:Boolean,stack:Boolean},data:{cls:"uk-open",escClose:!0,bgClose:!0,overlay:!0,stack:!1},computed:{panel({selPanel:t},s){return ae(t,s)},transitionElement(){return this.panel},bgClose({bgClose:t}){return t&&this.panel}},beforeDisconnect(){kt(Mi,this)&&this.toggleElement(this.$el,!1,!1)},events:[{name:"click",delegate(){return`${this.selClose},a[href*="#"]`},handler(t){const{current:s,defaultPrevented:a}=t,{hash:u}=s;!a&&u&&yr(s)&&!oe(u,this.$el)&&ae(u,document.body)?this.hide():Oe(s,this.selClose)&&(t.preventDefault(),this.hide())}},{name:"toggle",self:!0,handler(t){t.defaultPrevented||(t.preventDefault(),this.isToggled()===kt(Mi,this)&&this.toggle())}},{name:"beforeshow",self:!0,handler(t){if(kt(Mi,this))return!1;!this.stack&&Mi.length?(Promise.all(Mi.map(s=>s.hide())).then(this.show),t.preventDefault()):Mi.push(this)}},{name:"show",self:!0,handler(){Z(this.$el,"hide",_e(document,"focusin",t=>{zn(Mi)===this&&!oe(t.target,this.$el)&&this.$el.focus()})),this.overlay&&(Z(this.$el,"hidden",ho(this.$el),{self:!0}),Z(this.$el,"hidden",hs(),{self:!0})),this.stack&&U(this.$el,"zIndex",Ht(U(this.$el,"zIndex"))+Mi.length),Nt(document.documentElement,this.clsPage),this.bgClose&&Z(this.$el,"hide",_e(document,un,({target:t})=>{zn(Mi)!==this||this.overlay&&!oe(t,this.$el)||oe(t,this.panel)||Z(document,`${Hn} ${Jr} scroll`,({defaultPrevented:s,type:a,target:u})=>{!s&&a===Hn&&t===u&&this.hide()},!0)}),{self:!0}),this.escClose&&Z(this.$el,"hide",_e(document,"keydown",t=>{t.keyCode===27&&zn(Mi)===this&&this.hide()}),{self:!0})}},{name:"shown",self:!0,handler(){en(this.$el)||bt(this.$el,"tabindex","-1"),ae(":focus",this.$el)||this.$el.focus()}},{name:"hidden",self:!0,handler(){kt(Mi,this)&&Mi.splice(Mi.indexOf(this),1),U(this.$el,"zIndex",""),Mi.some(t=>t.clsPage===this.clsPage)||te(document.documentElement,this.clsPage)}}],methods:{toggle(){return this.isToggled()?this.hide():this.show()},show(){return this.container&&we(this.$el)!==this.container?(mi(this.container,this.$el),new Promise(t=>requestAnimationFrame(()=>this.show().then(t)))):this.toggleElement(this.$el,!0,Ur)},hide(){return this.toggleElement(this.$el,!1,Ur)}}};function Ur(t,s,{transitionElement:a,_toggle:u}){return new Promise((y,v)=>Z(t,"show hide",()=>{t._reject==null||t._reject(),t._reject=v,u(t,s);const T=Z(a,"transitionstart",()=>{Z(a,"transitionend transitioncancel",y,{self:!0}),clearTimeout(z)},{self:!0}),z=setTimeout(()=>{T(),y()},gl(U(a,"transitionDuration")))})).then(()=>delete t._reject)}function gl(t){return t?lt(t,"ms")?Ht(t):Ht(t)*1e3:0}function ho(t){if(CSS.supports("overscroll-behavior","contain")){const u=[t,...on(t,y=>/auto|scroll/.test(U(y,"overflow")))];return U(u,"overscrollBehavior","contain"),()=>U(u,"overscrollBehavior","")}let s;const a=[_e(t,"touchstart",({targetTouches:u})=>{u.length===1&&(s=u[0].clientY)},{passive:!0}),_e(t,"touchmove",u=>{if(u.targetTouches.length!==1)return;let[y]=rn(u.target);oe(y,t)||(y=t);const v=u.targetTouches[0].clientY-s,{scrollTop:T,scrollHeight:z,clientHeight:F}=y;(F>=z||T===0&&v>0||z-T<=F&&v<0)&&u.cancelable&&u.preventDefault()},{passive:!1})];return()=>a.forEach(u=>u())}let Fo;function hs(){if(Fo)return $e;Fo=!0;const{scrollingElement:t}=document;return U(t,{overflowY:"hidden",touchAction:"none",paddingRight:qs(window)-t.clientWidth}),()=>{Fo=!1,U(t,{overflowY:"",touchAction:"",paddingRight:""})}}function on(t,s){const a=[];return fn(t,u=>{s(u)&&a.push(u)}),a}function yr(t){return["origin","pathname","search"].every(s=>t[s]===location[s])}let vi;var Na={mixins:[Ts,rs,Wn,_n],args:"pos",props:{mode:"list",toggle:Boolean,boundary:Boolean,boundaryX:Boolean,boundaryY:Boolean,target:Boolean,targetX:Boolean,targetY:Boolean,stretch:Boolean,delayShow:Number,delayHide:Number,autoUpdate:Boolean,clsDrop:String,animateOut:Boolean,bgScroll:Boolean},data:{mode:["click","hover"],toggle:"- *",boundary:!1,boundaryX:!1,boundaryY:!1,target:!1,targetX:!1,targetY:!1,stretch:!1,delayShow:0,delayHide:800,autoUpdate:!0,clsDrop:!1,animateOut:!1,bgScroll:!0,animation:["uk-animation-fade"],cls:"uk-open",container:!1},computed:{boundary({boundary:t,boundaryX:s,boundaryY:a},u){return[Pe(s||t,u)||window,Pe(a||t,u)||window]},target({target:t,targetX:s,targetY:a},u){return s=s||t||this.targetEl,a=a||t||this.targetEl,[s===!0?window:Pe(s,u),a===!0?window:Pe(a,u)]}},created(){this.tracker=new Qr},beforeConnect(){this.clsDrop=this.$props.clsDrop||`uk-${this.$options.name}`},connected(){Nt(this.$el,this.clsDrop),this.toggle&&!this.targetEl&&(this.targetEl=this.$create("toggle",Pe(this.toggle,this.$el),{target:this.$el,mode:this.mode}).$el,bt(this.targetEl,"aria-haspopup",!0),this.lazyload(this.targetEl)),this._style=(({width:t,height:s})=>({width:t,height:s}))(this.$el.style)},disconnected(){this.isActive()&&(this.hide(!1),vi=null),U(this.$el,this._style)},events:[{name:"click",delegate(){return`.${this.clsDrop}-close`},handler(t){t.preventDefault(),this.hide(!1)}},{name:"click",delegate(){return'a[href*="#"]'},handler({defaultPrevented:t,current:s}){const{hash:a}=s;!t&&a&&yr(s)&&!oe(a,this.$el)&&this.hide(!1)}},{name:"beforescroll",handler(){this.hide(!1)}},{name:"toggle",self:!0,handler(t,s){t.preventDefault(),this.isToggled()?this.hide(!1):this.show(s==null?void 0:s.$el,!1)}},{name:"toggleshow",self:!0,handler(t,s){t.preventDefault(),this.show(s==null?void 0:s.$el)}},{name:"togglehide",self:!0,handler(t){t.preventDefault(),Oe(this.$el,":focus,:hover")||this.hide()}},{name:`${$n} focusin`,filter(){return kt(this.mode,"hover")},handler(t){Tt(t)||this.clearTimers()}},{name:`${Hs} focusout`,filter(){return kt(this.mode,"hover")},handler(t){!Tt(t)&&t.relatedTarget&&this.hide()}},{name:"toggled",self:!0,handler(t,s){s&&(this.clearTimers(),this.position())}},{name:"show",self:!0,handler(){vi=this,this.tracker.init();const t=()=>this.$emit(),s=[_e(document,un,({target:a})=>!oe(a,this.$el)&&Z(document,`${Hn} ${Jr} scroll`,({defaultPrevented:u,type:y,target:v})=>{!u&&y===Hn&&a===v&&!(this.targetEl&&oe(a,this.targetEl))&&this.hide(!1)},!0)),_e(document,"keydown",a=>{a.keyCode===27&&this.hide(!1)}),_e(window,"resize",t),(()=>{const a=nr(Is(this.$el).concat(this.target),t);return()=>a.disconnect()})(),...this.autoUpdate?[_e([document,Is(this.$el)],"scroll",t,{passive:!0})]:[],...this.bgScroll?[]:[ho(this.$el),hs()]];Z(this.$el,"hide",()=>s.forEach(a=>a()),{self:!0})}},{name:"beforehide",self:!0,handler(){this.clearTimers()}},{name:"hide",handler({target:t}){if(this.$el!==t){vi=vi===null&&oe(t,this.$el)&&this.isToggled()?this:vi;return}vi=this.isActive()?null:vi,this.tracker.cancel()}}],update:{write(){this.isToggled()&&!Ae(this.$el,this.clsEnter)&&this.position()}},methods:{show(t=this.targetEl,s=!0){if(this.isToggled()&&t&&this.targetEl&&t!==this.targetEl&&this.hide(!1,!1),this.targetEl=t,this.clearTimers(),!this.isActive()){if(vi){if(s&&vi.isDelaying){this.showTimer=setTimeout(()=>Oe(t,":hover")&&this.show(),10);return}let a;for(;vi&&a!==vi&&!oe(this.$el,vi.$el);)a=vi,vi.hide(!1,!1)}this.container&&we(this.$el)!==this.container&&mi(this.container,this.$el),this.showTimer=setTimeout(()=>this.toggleElement(this.$el,!0),s&&this.delayShow||0)}},hide(t=!0,s=!0){const a=()=>this.toggleElement(this.$el,!1,this.animateOut&&s);this.clearTimers(),this.isDelaying=sc(this.$el).some(u=>this.tracker.movesTo(u)),t&&this.isDelaying?this.hideTimer=setTimeout(this.hide,50):t&&this.delayHide?this.hideTimer=setTimeout(a,this.delayHide):a()},clearTimers(){clearTimeout(this.showTimer),clearTimeout(this.hideTimer),this.showTimer=null,this.hideTimer=null,this.isDelaying=!1},isActive(){return vi===this},position(){te(this.$el,`${this.clsDrop}-stack`),U(this.$el,this._style),this.$el.hidden=!0;const t=this.target.map(y=>rc(this.$el,y)),s=this.getViewportOffset(this.$el),a=[[0,["x","width","left","right"]],[1,["y","height","top","bottom"]]];for(const[y,[v,T]]of a)this.axis!==v&&kt([v,!0],this.stretch)&&U(this.$el,{[T]:Math.min(He(this.boundary[y])[T],t[y][T]-2*s),[`overflow-${v}`]:"auto"});const u=t[0].width-2*s;this.$el.offsetWidth>u&&Nt(this.$el,`${this.clsDrop}-stack`),U(this.$el,"maxWidth",u),this.$el.hidden=!1,this.positionAt(this.$el,this.target,this.boundary);for(const[y,[v,T,z,F]]of a)if(this.axis===v&&kt([v,!0],this.stretch)){const X=Math.abs(this.getPositionOffset(this.$el)),Y=He(this.target[y]),yt=He(this.$el);U(this.$el,{[T]:(Y[z]>yt[z]?Y[z]-Math.max(He(this.boundary[y])[z],t[y][z]+s):Math.min(He(this.boundary[y])[F],t[y][F]-s)-Y[F])-X,[`overflow-${v}`]:"auto"}),this.positionAt(this.$el,this.target,this.boundary)}}}};function sc(t){const s=[];return fn(t,a=>U(a,"position")!=="static"&&s.push(a)),s}function rc(t,s){return Ni(Is(s).find(a=>oe(t,a)))}var Dc={mixins:[Wi],args:"target",props:{target:Boolean},data:{target:!1},computed:{input(t,s){return ae(ci,s)},state(){return this.input.nextElementSibling},target({target:t},s){return t&&(t===!0&&we(this.input)===s&&this.input.nextElementSibling||ae(t,s))}},update(){var t;const{target:s,input:a}=this;if(!s)return;let u;const y=vt(s)?"value":"textContent",v=s[y],T=(t=a.files)!=null&&t[0]?a.files[0].name:Oe(a,"select")&&(u=ei("option",a).filter(z=>z.selected)[0])?u.textContent:a.value;v!==T&&(s[y]=T)},events:[{name:"change",handler(){this.$emit()}},{name:"reset",el(){return fi(this.$el,"form")},handler(){this.$emit()}}]},Ms={mixins:[bn],props:{margin:String,firstColumn:Boolean},data:{margin:"uk-margin-small-top",firstColumn:"uk-first-column"},resizeTargets(){return[this.$el,...Pi(this.$el.children)]},connected(){this.registerObserver(Ma(this.$el,()=>this.$reset(),{childList:!0,attributes:!0,attributeFilter:["style"]}))},update:{read(){const t=_r(this.$el.children);return{rows:t,columns:ze(t)}},write({columns:t,rows:s}){for(const a of s)for(const u of a)Re(u,this.margin,s[0]!==a),Re(u,this.firstColumn,t[0].includes(u))},events:["resize"]}};function _r(t){return Ue(t,"top","bottom")}function ze(t){const s=[];for(const a of t){const u=Ue(a,"left","right");for(let y=0;y<u.length;y++)s[y]=s[y]?s[y].concat(u[y]):u[y]}return Ci?s.reverse():s}function Ue(t,s,a){const u=[[]];for(const y of t){if(!pe(y))continue;let v=Ps(y);for(let T=u.length-1;T>=0;T--){const z=u[T];if(!z[0]){z.push(y);break}let F;if(z[0].offsetParent===y.offsetParent?F=Ps(z[0]):(v=Ps(y,!0),F=Ps(z[0],!0)),v[s]>=F[a]-1&&v[s]!==F[s]){u.push([y]);break}if(v[a]-1>F[s]||v[s]===F[s]){z.push(y);break}if(T===0){u.unshift([y]);break}}}return u}function Ps(t,s=!1){let{offsetTop:a,offsetLeft:u,offsetHeight:y,offsetWidth:v}=t;return s&&([a,u]=ts(t)),{top:a,left:u,bottom:a+y,right:u+v}}var xr={connected(){sr(this._uid,()=>this.$emit("scroll"))},disconnected(){zs(this._uid)}};const us=new Map;let an;function sr(t,s){an=an||_e(window,"scroll",()=>us.forEach(a=>a()),{passive:!0,capture:!0}),us.set(t,s)}function zs(t){us.delete(t),an&&!us.size&&(an(),an=null)}var oc={extends:Ms,mixins:[Wi],name:"grid",props:{masonry:Boolean,parallax:Number},data:{margin:"uk-grid-margin",clsStack:"uk-grid-stack",masonry:!1,parallax:0},connected(){this.masonry&&Nt(this.$el,"uk-flex-top uk-flex-wrap-top"),this.parallax&&sr(this._uid,()=>this.$emit("scroll"))},disconnected(){zs(this._uid)},update:[{write({columns:t}){Re(this.$el,this.clsStack,t.length<2)},events:["resize"]},{read(t){let{columns:s,rows:a}=t;if(!s.length||!this.masonry&&!this.parallax||rr(this.$el))return t.translates=!1,!1;let u=!1;const y=Pt(this.$el),v=s.map(X=>tn(X,"offsetHeight")),T=Sn(y,this.margin)*(a.length-1),z=Math.max(...v)+T;this.masonry&&(s=s.map(X=>hn(X,"offsetTop")),u=xn(a,s));let F=Math.abs(this.parallax);return F&&(F=v.reduce((X,Y,yt)=>Math.max(X,Y+T+(yt%2?F:F/8)-z),0)),{padding:F,columns:s,translates:u,height:u?z:""}},write({height:t,padding:s}){U(this.$el,"paddingBottom",s||""),t!==!1&&U(this.$el,"height",t)},events:["resize"]},{read(){return this.parallax&&rr(this.$el)?!1:{scrolled:this.parallax?Lo(this.$el)*Math.abs(this.parallax):!1}},write({columns:t,scrolled:s,translates:a}){s===!1&&!a||t.forEach((u,y)=>u.forEach((v,T)=>U(v,"transform",!s&&!a?"":`translateY(${(a&&-a[y][T])+(s?y%2?s:s/8:0)}px)`)))},events:["scroll","resize"]}]};function rr(t){return Pt(t).some(s=>U(s,"position")==="absolute")}function xn(t,s){const a=t.map(u=>Math.max(...u.map(y=>y.offsetHeight)));return s.map(u=>{let y=0;return u.map((v,T)=>y+=T?a[T-1]-u[T-1].offsetHeight:0)})}function Sn(t,s){const[a]=t.filter(u=>Ae(u,s));return Ht(a?U(a,"marginTop"):U(t[0],"paddingLeft"))}var yl={mixins:[bn],args:"target",props:{target:String,row:Boolean},data:{target:"> *",row:!0},computed:{elements:{get({target:t},s){return ei(t,s)},watch(){this.$reset()}}},resizeTargets(){return[this.$el,...this.elements]},update:{read(){return{rows:(this.row?_r(this.elements):[this.elements]).map(uo)}},write({rows:t}){for(const{heights:s,elements:a}of t)a.forEach((u,y)=>U(u,"minHeight",s[y]))},events:["resize"]}};function uo(t){if(t.length<2)return{heights:[""],elements:t};U(t,"minHeight","");let s=t.map(d);const a=Math.max(...s);return{heights:t.map((u,y)=>s[y].toFixed(2)===a.toFixed(2)?"":a),elements:t}}function d(t){let s=!1;pe(t)||(s=t.style.display,U(t,"display","block","important"));const a=le(t).height-hi(t,"height","content-box");return s!==!1&&U(t,"display",s),a}var i={mixins:[bn],props:{expand:Boolean,offsetTop:Boolean,offsetBottom:Boolean,minHeight:Number},data:{expand:!1,offsetTop:!1,offsetBottom:!1,minHeight:0},resizeTargets(){return[this.$el,...rn(this.$el)]},update:{read({minHeight:t}){if(!pe(this.$el))return!1;let s="";const a=hi(this.$el,"height","content-box"),{body:u,scrollingElement:y}=document,[v]=rn(this.$el),{height:T}=Ni(v===u?y:v);if(this.expand)s=Math.max(T-(le(v).height-le(this.$el).height)-a,0);else{const z=y===v||u===v;if(s=`calc(${z?"100vh":`${T}px`}`,this.offsetTop)if(z){const F=ts(this.$el)[0]-ts(v)[0];s+=F>0&&F<T/2?` - ${F}px`:""}else s+=` - ${U(v,"paddingTop")}`;this.offsetBottom===!0?s+=` - ${le(this.$el.nextElementSibling).height}px`:Hi(this.offsetBottom)?s+=` - ${this.offsetBottom}vh`:this.offsetBottom&&lt(this.offsetBottom,"px")?s+=` - ${Ht(this.offsetBottom)}px`:Me(this.offsetBottom)&&(s+=` - ${le(Pe(this.offsetBottom,this.$el)).height}px`),s+=`${a?` - ${a}px`:""})`}return{minHeight:s,prev:t}},write({minHeight:t}){U(this.$el,{minHeight:t}),this.minHeight&&Ht(U(this.$el,"minHeight"))<this.minHeight&&U(this.$el,"minHeight",this.minHeight)},events:["resize"]}},o={args:"src",props:{id:Boolean,icon:String,src:String,style:String,width:Number,height:Number,ratio:Number,class:String,strokeAnimation:Boolean,attributes:"list"},data:{ratio:1,include:["style","class"],class:"",strokeAnimation:!1},beforeConnect(){this.class+=" uk-svg"},connected(){!this.icon&&kt(this.src,"#")&&([this.src,this.icon]=this.src.split("#")),this.svg=this.getSvg().then(t=>{if(this._connected){const s=$(t,this.$el);return this.svgEl&&s!==this.svgEl&&Vi(this.svgEl),this.applyAttributes(s,t),this.svgEl=s}},$e),this.strokeAnimation&&this.svg.then(t=>{this._connected&&t&&(E(t),this.registerObserver(Gn(t,(s,a)=>{E(t),a.disconnect()})))})},disconnected(){this.svg.then(t=>{this._connected||(Ve(this.$el)&&(this.$el.hidden=!1),Vi(t),this.svgEl=null)}),this.svg=null},methods:{async getSvg(){return pn(this.$el,"img")&&!this.$el.complete&&this.$el.loading==="lazy"?new Promise(t=>Z(this.$el,"load",()=>t(this.getSvg()))):f(await c(this.src),this.icon)||Promise.reject("SVG not found.")},applyAttributes(t,s){for(const v in this.$options.props)kt(this.include,v)&&v in this&&bt(t,v,this[v]);for(const v in this.attributes){const[T,z]=this.attributes[v].split(":",2);bt(t,T,z)}this.id||Se(t,"id");const a=["width","height"];let u=a.map(v=>this[v]);u.some(v=>v)||(u=a.map(v=>bt(s,v)));const y=bt(s,"viewBox");y&&!u.some(v=>v)&&(u=y.split(" ").slice(2)),u.forEach((v,T)=>bt(t,a[T],Ht(v)*this.ratio||null))}}};const c=Qt(async t=>t?Lt(t,"data:")?decodeURIComponent(t.split(",")[1]):(await fetch(t)).text():Promise.reject());function f(t,s){var a;return s&&kt(t,"<symbol")&&(t=S(t,s)||t),t=ae(t.substr(t.indexOf("<svg"))),((a=t)==null?void 0:a.hasChildNodes())&&t}const _=/<symbol([^]*?id=(['"])(.+?)\2[^]*?<\/)symbol>/g,w={};function S(t,s){if(!w[t]){w[t]={},_.lastIndex=0;let a;for(;a=_.exec(t);)w[t][a[3]]=`<svg xmlns="http://www.w3.org/2000/svg"${a[1]}svg>`}return w[t][s]}function E(t){const s=P(t);s&&t.style.setProperty("--uk-animation-stroke",s)}function P(t){return Math.ceil(Math.max(0,...ei("[stroke]",t).map(s=>{try{return s.getTotalLength()}catch{return 0}})))}function $(t,s){if(Ve(s)||pn(s,"canvas")){s.hidden=!0;const u=s.nextElementSibling;return O(t,u)?u:vs(s,t)}const a=s.lastElementChild;return O(t,a)?a:mi(s,t)}function O(t,s){return pn(t,"svg")&&pn(s,"svg")&&t.innerHTML===s.innerHTML}var j='<svg width="14" height="14" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><line fill="none" stroke="#000" stroke-width="1.1" x1="1" y1="1" x2="13" y2="13"/><line fill="none" stroke="#000" stroke-width="1.1" x1="13" y1="1" x2="1" y2="13"/></svg>',tt='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><line fill="none" stroke="#000" stroke-width="1.4" x1="1" y1="1" x2="19" y2="19"/><line fill="none" stroke="#000" stroke-width="1.4" x1="19" y1="1" x2="1" y2="19"/></svg>',J='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><rect x="9" y="4" width="1" height="11"/><rect x="4" y="9" width="11" height="1"/></svg>',Q='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12"><polyline fill="none" stroke="#000" stroke-width="1.1" points="1 3.5 6 8.5 11 3.5"/></svg>',ht='<svg width="14" height="14" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" stroke-width="1.1" points="1 4 7 10 13 4"/></svg>',mt='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12"><polyline fill="none" stroke="#000" stroke-width="1.1" points="1 3.5 6 8.5 11 3.5"/></svg>',xt='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><style>.uk-navbar-toggle-animate svg>[class*=line-]{transition:.2s ease-in-out;transition-property:transform,opacity;transform-origin:center;opacity:1}.uk-navbar-toggle svg>.line-3{opacity:0}.uk-navbar-toggle-animate[aria-expanded=true] svg>.line-3{opacity:1}.uk-navbar-toggle-animate[aria-expanded=true] svg>.line-2{transform:rotate(45deg)}.uk-navbar-toggle-animate[aria-expanded=true] svg>.line-3{transform:rotate(-45deg)}.uk-navbar-toggle-animate[aria-expanded=true] svg>.line-1,.uk-navbar-toggle-animate[aria-expanded=true] svg>.line-4{opacity:0}.uk-navbar-toggle-animate[aria-expanded=true] svg>.line-1{transform:translateY(6px) scaleX(0)}.uk-navbar-toggle-animate[aria-expanded=true] svg>.line-4{transform:translateY(-6px) scaleX(0)}</style><rect class="line-1" y="3" width="20" height="2"/><rect class="line-2" y="9" width="20" height="2"/><rect class="line-3" y="9" width="20" height="2"/><rect class="line-4" y="15" width="20" height="2"/></svg>',it='<svg width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><rect x="19" y="0" width="1" height="40"/><rect x="0" y="19" width="40" height="1"/></svg>',Et='<svg width="7" height="12" viewBox="0 0 7 12" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" stroke-width="1.2" points="1 1 6 6 1 11"/></svg>',wt='<svg width="7" height="12" viewBox="0 0 7 12" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" stroke-width="1.2" points="6 1 1 6 6 11"/></svg>',$t='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle fill="none" stroke="#000" stroke-width="1.1" cx="9" cy="9" r="7"/><path fill="none" stroke="#000" stroke-width="1.1" d="M14,14 L18,18 L14,14 Z"/></svg>',Dt='<svg width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><circle fill="none" stroke="#000" stroke-width="1.8" cx="17.5" cy="17.5" r="16.5"/><line fill="none" stroke="#000" stroke-width="1.8" x1="38" y1="39" x2="29" y2="30"/></svg>',Wt='<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><circle fill="none" stroke="#000" stroke-width="1.1" cx="10.5" cy="10.5" r="9.5"/><line fill="none" stroke="#000" stroke-width="1.1" x1="23" y1="23" x2="17" y2="17"/></svg>',zt='<svg width="14" height="24" viewBox="0 0 14 24" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" stroke-width="1.4" points="1.225,23 12.775,12 1.225,1 "/></svg>',fe='<svg width="25" height="40" viewBox="0 0 25 40" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" stroke-width="2" points="4.002,38.547 22.527,20.024 4,1.5 "/></svg>',se='<svg width="14" height="24" viewBox="0 0 14 24" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" stroke-width="1.4" points="12.775,1 1.225,12 12.775,23 "/></svg>',ye='<svg width="25" height="40" viewBox="0 0 25 40" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" stroke-width="2" points="20.527,1.5 2,20.024 20.525,38.547 "/></svg>',ni='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><circle fill="none" stroke="#000" cx="15" cy="15" r="14"/></svg>',di='<svg width="18" height="10" viewBox="0 0 18 10" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" stroke-width="1.2" points="1 9 9 1 17 9 "/></svg>';const Le={spinner:ni,totop:di,marker:J,"close-icon":j,"close-large":tt,"nav-parent-icon":Q,"nav-parent-icon-large":ht,"navbar-parent-icon":mt,"navbar-toggle-icon":xt,"overlay-icon":it,"pagination-next":Et,"pagination-previous":wt,"search-icon":$t,"search-large":Dt,"search-navbar":Wt,"slidenav-next":zt,"slidenav-next-large":fe,"slidenav-previous":se,"slidenav-previous-large":ye},Ii={install:ar,extends:o,args:"icon",props:["icon"],data:{include:[]},isIcon:!0,beforeConnect(){Nt(this.$el,"uk-icon")},methods:{async getSvg(){const t=Vr(this.icon);if(!t)throw"Icon not found.";return t}}},Ke={args:!1,extends:Ii,data:t=>({icon:et(t.constructor.options.name)}),beforeConnect(){Nt(this.$el,this.$options.id)}},ki={extends:Ke,beforeConnect(){const t=this.$props.icon;this.icon=fi(this.$el,".uk-nav-primary")?`${t}-large`:t}},wi={extends:Ke,beforeConnect(){Nt(this.$el,"uk-slidenav");const t=this.$props.icon;this.icon=Ae(this.$el,"uk-slidenav-large")?`${t}-large`:t}},qi={extends:Ke,beforeConnect(){this.icon=Ae(this.$el,"uk-search-icon")&&Zi(this.$el,".uk-search-large").length?"search-large":Zi(this.$el,".uk-search-navbar").length?"search-navbar":this.$props.icon}},Dn={extends:Ke,beforeConnect(){this.icon=`close-${Ae(this.$el,"uk-close-large")?"large":"icon"}`}},or={extends:Ke,methods:{async getSvg(){const t=await Ii.methods.getSvg.call(this);return this.ratio!==1&&U(ae("circle",t),"strokeWidth",1/this.ratio),t}}},jn={};function ar(t){t.icon.add=(s,a)=>{const u=Me(s)?{[s]:a}:s;Gi(u,(y,v)=>{Le[v]=y,delete jn[v]}),t._initialized&&fn(document.body,y=>Gi(t.getComponents(y),v=>{v.$options.isIcon&&v.icon in u&&v.$reset()}))}}function Vr(t){return Le[t]?(jn[t]||(jn[t]=ae((Le[Ls(t)]||Le[t]).trim())),jn[t].cloneNode(!0)):null}function Ls(t){return Ci?ys(ys(t,"left","right"),"previous","next"):t}const ds=es&&"loading"in HTMLImageElement.prototype;var vr={args:"dataSrc",props:{dataSrc:String,sources:String,margin:String,target:String,loading:String},data:{dataSrc:"",sources:!1,margin:"50%",target:!1,loading:"lazy"},connected(){if(this.loading!=="lazy"){this.load();return}const t=[this.$el,...nn(this.$props.target,this.$el)];ds&&Fn(this.$el)&&(this.$el.loading="lazy",jr(this.$el),t.length===1)||(ln(this.$el),this.registerObserver(Gn(t,(s,a)=>{this.load(),a.disconnect()},{rootMargin:this.margin})))},disconnected(){this._data.image&&(this._data.image.onload="")},methods:{load(){if(this._data.image)return this._data.image;const t=Fn(this.$el)?this.$el:Fi(this.$el,this.dataSrc,this.sources);return Se(t,"loading"),jr(this.$el,t.currentSrc),this._data.image=t}}};function jr(t,s){if(Fn(t)){const a=we(t);(pn(a,"picture")?Pt(a):[t]).forEach(y=>pi(y,y))}else s&&!kt(t.style.backgroundImage,s)&&(U(t,"backgroundImage",`url(${Us(s)})`),I(t,R("load",!1)))}const Mn=["data-src","data-srcset","sizes"];function pi(t,s){Mn.forEach(a=>{const u=ie(t,a);u&&bt(s,a.replace(/^(data-)+/,""),u)})}function Fi(t,s,a){const u=new Image;return Bn(u,a),pi(t,u),u.onload=()=>{jr(t,u.currentSrc)},bt(u,"src",s),u}function Bn(t,s){if(s=Rn(s),s.length){const a=Vn("<picture>");for(const u of s){const y=Vn("<source>");bt(y,u),mi(a,y)}mi(a,t)}}function Rn(t){if(!t)return[];if(Lt(t,"["))try{t=JSON.parse(t)}catch{t=[]}else t=Di(t);return Xt(t)||(t=[t]),t.filter(s=>!gn(s))}function ln(t){Fn(t)&&!jt(t,"src")&&bt(t,"src",'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg"></svg>')}function Fn(t){return pn(t,"img")}var Cs={props:{media:Boolean},data:{media:!1},connected(){const t=_l(this.media,this.$el);if(this.matchMedia=!0,t){this.mediaObj=window.matchMedia(t);const s=()=>{this.matchMedia=this.mediaObj.matches,I(this.$el,R("mediachange",!1,!0,[this.mediaObj]))};this.offMediaObj=_e(this.mediaObj,"change",()=>{s(),this.$emit("resize")}),s()}},disconnected(){var t;(t=this.offMediaObj)==null||t.call(this)}};function _l(t,s){if(Me(t)){if(Lt(t,"@"))t=Ht(U(s,`--uk-breakpoint-${t.substr(1)}`));else if(isNaN(t))return t}return t&&Hi(t)?`(min-width: ${t}px)`:""}var Oo={mixins:[Wi,Cs,bn],props:{fill:String},data:{fill:"",clsWrapper:"uk-leader-fill",clsHide:"uk-leader-hide",attrFill:"data-fill"},computed:{fill({fill:t}){return t||U(this.$el,"--uk-leader-fill-content")}},connected(){[this.wrapper]=Lr(this.$el,`<span class="${this.clsWrapper}">`)},disconnected(){ls(this.wrapper.childNodes)},update:{read(){return{width:Math.trunc(this.$el.offsetWidth/2),fill:this.fill,hide:!this.matchMedia}},write({width:t,fill:s,hide:a}){Re(this.wrapper,this.clsHide,a),bt(this.wrapper,this.attrFill,new Array(t).join(s))},events:["resize"]}},ac={install:xl,mixins:[Ro],data:{clsPage:"uk-modal-page",selPanel:".uk-modal-dialog",selClose:".uk-modal-close, .uk-modal-close-default, .uk-modal-close-outside, .uk-modal-close-full"},events:[{name:"show",self:!0,handler(){Ae(this.panel,"uk-margin-auto-vertical")?Nt(this.$el,"uk-flex"):U(this.$el,"display","block"),Oi(this.$el)}},{name:"hidden",self:!0,handler(){U(this.$el,"display",""),te(this.$el,"uk-flex")}}]};function xl({modal:t}){t.dialog=function(a,u){const y=t(`<div class="uk-modal"> <div class="uk-modal-dialog">${a}</div> </div>`,u);return y.show(),_e(y.$el,"hidden",async()=>{await Promise.resolve(),y.$destroy(!0)},{self:!0}),y},t.alert=function(a,u){return s(({labels:y})=>`<div class="uk-modal-body">${Me(a)?a:Un(a)}</div> <div class="uk-modal-footer uk-text-right"> <button class="uk-button uk-button-primary uk-modal-close" autofocus>${y.ok}</button> </div>`,u,y=>y.resolve())},t.confirm=function(a,u){return s(({labels:y})=>`<form> <div class="uk-modal-body">${Me(a)?a:Un(a)}</div> <div class="uk-modal-footer uk-text-right"> <button class="uk-button uk-button-default uk-modal-close" type="button">${y.cancel}</button> <button class="uk-button uk-button-primary" autofocus>${y.ok}</button> </div> </form>`,u,y=>y.reject())},t.prompt=function(a,u,y){return s(({labels:v})=>`<form class="uk-form-stacked"> <div class="uk-modal-body"> <label>${Me(a)?a:Un(a)}</label> <input class="uk-input" value="${u||""}" autofocus> </div> <div class="uk-modal-footer uk-text-right"> <button class="uk-button uk-button-default uk-modal-close" type="button">${v.cancel}</button> <button class="uk-button uk-button-primary">${v.ok}</button> </div> </form>`,y,v=>v.resolve(null),v=>ae("input",v.$el).value)},t.labels={ok:"Ok",cancel:"Cancel"};function s(a,u,y,v){u={bgClose:!1,escClose:!0,labels:t.labels,...u};const T=t.dialog(a(u),u),z=new Ft;let F=!1;return _e(T.$el,"submit","form",X=>{X.preventDefault(),z.resolve(v==null?void 0:v(T)),F=!0,T.hide()}),_e(T.$el,"hide",()=>!F&&y(z)),z.promise.dialog=T,z.promise}}var qr={extends:pl,data:{targets:"> .uk-parent",toggle:"> a",content:"> ul"}},po={mixins:[Wi,Ts],props:{dropdown:String,align:String,clsDrop:String,boundary:Boolean,dropbar:Boolean,dropbarAnchor:Boolean,duration:Number,mode:Boolean,offset:Boolean,stretch:Boolean,delayShow:Boolean,delayHide:Boolean,target:Boolean,targetX:Boolean,targetY:Boolean,animation:Boolean,animateOut:Boolean},data:{dropdown:".uk-navbar-nav > li > a, .uk-navbar-item, .uk-navbar-toggle",align:Ci?"right":"left",clsDrop:"uk-navbar-dropdown",boundary:!0,dropbar:!1,dropbarAnchor:!1,duration:200,container:!1},computed:{dropbarAnchor({dropbarAnchor:t},s){return Pe(t,s)||s},dropbar:{get({dropbar:t}){return t?(t=this._dropbar||Pe(t,this.$el)||ae("+ .uk-navbar-dropbar",this.$el),t||(this._dropbar=ae("<div></div>"))):null},watch(t){Nt(t,"uk-dropbar","uk-dropbar-top","uk-navbar-dropbar")},immediate:!0},dropContainer(t,s){return this.container||s},dropdowns:{get({clsDrop:t},s){const a=ei(`.${t}`,s);if(this.dropContainer!==s)for(const y of ei(`.${t}`,this.dropContainer)){var u;const v=(u=this.getDropdown(y))==null?void 0:u.targetEl;!kt(a,y)&&v&&oe(v,this.$el)&&a.push(y)}return a},watch(t){this.$create("drop",t.filter(s=>!this.getDropdown(s)),{...this.$props,flip:!1,shift:!0,pos:`bottom-${this.align}`,boundary:this.boundary===!0?this.$el:this.boundary})},immediate:!0},toggles:{get({dropdown:t},s){return ei(t,s)},watch(){const t=Ae(this.$el,"uk-navbar-justify");for(const s of ei(".uk-navbar-nav, .uk-navbar-left, .uk-navbar-right",this.$el))U(s,"flexGrow",t?ei(this.dropdown,s).length:"")},immediate:!0}},disconnected(){this.dropbar&&Vi(this.dropbar),delete this._dropbar},events:[{name:"mouseover focusin",delegate(){return this.dropdown},handler({current:t}){const s=this.getActive();s&&kt(s.mode,"hover")&&s.targetEl&&!oe(s.targetEl,t)&&!s.isDelaying&&s.hide(!1)}},{name:"keydown",delegate(){return this.dropdown},handler(t){const{current:s,keyCode:a}=t,u=this.getActive();a===$s.DOWN&&jt(s,"aria-expanded")&&(t.preventDefault(),!u||u.targetEl!==s?(s.click(),Z(this.dropContainer,"show",({target:y})=>No(y))):No(u.$el)),wr(t,this.toggles,u)}},{name:"keydown",el(){return this.dropContainer},delegate(){return`.${this.clsDrop}`},handler(t){const{current:s,keyCode:a}=t;if(!kt(this.dropdowns,s))return;const u=this.getActive(),y=ei(Zt,s),v=Te(y,z=>Oe(z,":focus"));if(a===$s.UP&&(t.preventDefault(),v>0&&y[v-1].focus()),a===$s.DOWN&&(t.preventDefault(),v<y.length-1&&y[v+1].focus()),a===$s.ESC){var T;(T=u.targetEl)==null||T.focus()}wr(t,this.toggles,u)}},{name:"mouseleave",el(){return this.dropbar},filter(){return this.dropbar},handler(){const t=this.getActive();t&&kt(t.mode,"hover")&&!this.dropdowns.some(s=>Oe(s,":hover"))&&t.hide()}},{name:"beforeshow",el(){return this.dropContainer},filter(){return this.dropbar},handler({target:t}){this.isDropbarDrop(t)&&(this.dropbar.previousElementSibling!==this.dropbarAnchor&&vs(this.dropbarAnchor,this.dropbar),Nt(t,`${this.clsDrop}-dropbar`))}},{name:"show",el(){return this.dropContainer},filter(){return this.dropbar},handler({target:t}){if(!this.isDropbarDrop(t))return;const s=this.getDropdown(t);this._observer=nr([s.$el,...s.target],()=>{const a=Zi(t,`.${this.clsDrop}`).concat(t).map(T=>He(T)),u=Math.min(...a.map(({top:T})=>T)),y=Math.max(...a.map(({bottom:T})=>T)),v=He(this.dropbar);U(this.dropbar,"top",this.dropbar.offsetTop-(v.top-u)),this.transitionTo(y-u+Ht(U(t,"marginBottom")),t)})}},{name:"beforehide",el(){return this.dropContainer},filter(){return this.dropbar},handler(t){const s=this.getActive();Oe(this.dropbar,":hover")&&s.$el===t.target&&!this.toggles.some(a=>s.targetEl!==a&&Oe(a,":focus"))&&t.preventDefault()}},{name:"hide",el(){return this.dropContainer},filter(){return this.dropbar},handler({target:t}){var s;if(!this.isDropbarDrop(t))return;(s=this._observer)==null||s.disconnect();const a=this.getActive();(!a||a.$el===t)&&this.transitionTo(0)}}],methods:{getActive(){return kt(this.dropdowns,vi==null?void 0:vi.$el)&&vi},transitionTo(t,s){const{dropbar:a}=this,u=Oi(a);s=u<t&&s,U(s,"clipPath",`polygon(0 0,100% 0,100% ${u}px,0 ${u}px)`),Oi(a,u),ee.cancel([s,a]),Promise.all([ee.start(a,{height:t},this.duration),ee.start(s,{clipPath:`polygon(0 0,100% 0,100% ${t}px,0 ${t}px)`},this.duration)]).catch($e).then(()=>U(s,{clipPath:""}))},getDropdown(t){return this.$getComponent(t,"drop")||this.$getComponent(t,"dropdown")},isDropbarDrop(t){return this.getDropdown(t)&&Ae(t,this.clsDrop)}}};function wr(t,s,a){const{current:u,keyCode:y}=t,v=a.targetEl||u,T=s.indexOf(v);y===$s.LEFT&&T>0&&(a.hide==null||a.hide(!1),s[T-1].focus()),y===$s.RIGHT&&T<s.length-1&&(a.hide==null||a.hide(!1),s[T+1].focus()),y===$s.TAB&&(v.focus(),a.hide==null||a.hide(!1))}function No(t){if(!ae(":focus",t)){var s;(s=ae(Zt,t))==null||s.focus()}}const $s={TAB:9,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40};var Bc={props:{swiping:Boolean},data:{swiping:!0},computed:{swipeTarget(t,s){return s}},connected(){this.swiping&&An(this,{el:this.swipeTarget,name:un,passive:!0,handler(t){if(!Tt(t))return;const s=Ot(t),a="tagName"in t.target?t.target:we(t.target);Z(document,`${Hn} ${Jr} scroll`,u=>{const{x:y,y:v}=Ot(u);(u.type!=="scroll"&&a&&y&&Math.abs(s.x-y)>100||v&&Math.abs(s.y-v)>100)&&setTimeout(()=>{I(a,"swipe"),I(a,`swipe${Rc(s.x,s.y,y,v)}`)})})}})}};function Rc(t,s,a,u){return Math.abs(t-a)>=Math.abs(s-u)?t-a>0?"Left":"Right":s-u>0?"Up":"Down"}var vl={mixins:[Ro,Bc],args:"mode",props:{mode:String,flip:Boolean,overlay:Boolean},data:{mode:"slide",flip:!1,overlay:!1,clsPage:"uk-offcanvas-page",clsContainer:"uk-offcanvas-container",selPanel:".uk-offcanvas-bar",clsFlip:"uk-offcanvas-flip",clsContainerAnimation:"uk-offcanvas-container-animation",clsSidebarAnimation:"uk-offcanvas-bar-animation",clsMode:"uk-offcanvas",clsOverlay:"uk-offcanvas-overlay",selClose:".uk-offcanvas-close",container:!1},computed:{clsFlip({flip:t,clsFlip:s}){return t?s:""},clsOverlay({overlay:t,clsOverlay:s}){return t?s:""},clsMode({mode:t,clsMode:s}){return`${s}-${t}`},clsSidebarAnimation({mode:t,clsSidebarAnimation:s}){return t==="none"||t==="reveal"?"":s},clsContainerAnimation({mode:t,clsContainerAnimation:s}){return t!=="push"&&t!=="reveal"?"":s},transitionElement({mode:t}){return t==="reveal"?we(this.panel):this.panel}},update:{read(){this.isToggled()&&!pe(this.$el)&&this.hide()},events:["resize"]},events:[{name:"touchmove",self:!0,passive:!1,filter(){return this.overlay},handler(t){t.cancelable&&t.preventDefault()}},{name:"show",self:!0,handler(){this.mode==="reveal"&&!Ae(we(this.panel),this.clsMode)&&(ir(this.panel,"<div>"),Nt(we(this.panel),this.clsMode));const{body:t,scrollingElement:s}=document;Nt(t,this.clsContainer,this.clsFlip),U(t,"touch-action","pan-y pinch-zoom"),U(this.$el,"display","block"),U(this.panel,"maxWidth",s.clientWidth),Nt(this.$el,this.clsOverlay),Nt(this.panel,this.clsSidebarAnimation,this.mode==="reveal"?"":this.clsMode),Oi(t),Nt(t,this.clsContainerAnimation),this.clsContainerAnimation&&Ua()}},{name:"hide",self:!0,handler(){te(document.body,this.clsContainerAnimation),U(document.body,"touch-action","")}},{name:"hidden",self:!0,handler(){this.clsContainerAnimation&&fo(),this.mode==="reveal"&&ls(this.panel),te(this.panel,this.clsSidebarAnimation,this.clsMode),te(this.$el,this.clsOverlay),U(this.$el,"display",""),U(this.panel,"maxWidth",""),te(document.body,this.clsContainer,this.clsFlip)}},{name:"swipeLeft swipeRight",handler(t){this.isToggled()&&lt(t.type,"Left")^this.flip&&this.hide()}}]};function Ua(){Ws().content+=",user-scalable=0"}function fo(){const t=Ws();t.content=t.content.replace(/,user-scalable=0$/,"")}function Ws(){return ae('meta[name="viewport"]',document.head)||mi(document.head,'<meta name="viewport">')}var Uo={mixins:[Wi,bn],props:{selContainer:String,selContent:String,minHeight:Number},data:{selContainer:".uk-modal",selContent:".uk-modal-dialog",minHeight:150},computed:{container({selContainer:t},s){return fi(s,t)},content({selContent:t},s){return fi(s,t)}},resizeTargets(){return[this.container,this.content]},update:{read(){return!this.content||!this.container||!pe(this.$el)?!1:{max:Math.max(this.minHeight,Oi(this.container)-(le(this.content).height-Oi(this.$el)))}},write({max:t}){U(this.$el,{minHeight:this.minHeight,maxHeight:t})},events:["resize"]}},xh={mixins:[bn],props:["width","height"],resizeTargets(){return[this.$el,we(this.$el)]},connected(){Nt(this.$el,"uk-responsive-width")},update:{read(){return pe(this.$el)&&this.width&&this.height?{width:qs(we(this.$el)),height:this.height}:!1},write(t){Oi(this.$el,qt.contain({height:this.height,width:this.width},t).height)},events:["resize"]}},ma={props:{offset:Number},data:{offset:0},connected(){vh(this)},disconnected(){Pn(this)},methods:{async scrollTo(t){t=t&&ae(t)||document.body,I(this.$el,"beforescroll",[this,t])&&(await ks(t,{offset:this.offset}),I(this.$el,"scrolled",[this,t]))}}};const mo=new Set;function vh(t){mo.size||_e(document,"click",wl),mo.add(t)}function Pn(t){mo.delete(t),mo.size||In(document,"click",wl)}function wl(t){if(!t.defaultPrevented)for(const s of mo)oe(t.target,s.$el)&&lc(s.$el)&&(t.preventDefault(),s.scrollTo(go(s.$el)))}function lc(t){return["origin","pathname","search"].every(s=>location[s]===t[s])}function go(t){if(lc(t)){const s=decodeURIComponent(t.hash).substring(1);return document.getElementById(s)||document.getElementsByName(s)[0]}}var ga={mixins:[xr],args:"cls",props:{cls:String,target:String,hidden:Boolean,margin:String,repeat:Boolean,delay:Number},data:()=>({cls:"",target:!1,hidden:!0,margin:"-1px",repeat:!1,delay:0,inViewClass:"uk-scrollspy-inview"}),computed:{elements:{get({target:t},s){return t?ei(t,s):[s]},watch(t,s){this.hidden&&U(ai(t,`:not(.${this.inViewClass})`),"opacity",0),Qi(t,s)||this.$reset()},immediate:!0}},connected(){this._data.elements=new Map,this.registerObserver(Gn(this.elements,t=>{const s=this._data.elements;for(const{target:a,isIntersecting:u}of t){s.has(a)||s.set(a,{cls:ie(a,"uk-scrollspy-class")||this.cls});const y=s.get(a);!this.repeat&&y.show||(y.show=u)}this.$emit()},{rootMargin:this.margin},!1))},disconnected(){for(const[t,s]of this._data.elements.entries())te(t,this.inViewClass,(s==null?void 0:s.cls)||"")},update:[{write(t){for(const[s,a]of t.elements.entries())a.show&&!a.inview&&!a.queued?(a.queued=!0,t.promise=(t.promise||Promise.resolve()).then(()=>new Promise(u=>setTimeout(u,this.delay))).then(()=>{this.toggle(s,!0),setTimeout(()=>{a.queued=!1,this.$emit()},300)})):!a.show&&a.inview&&!a.queued&&this.repeat&&this.toggle(s,!1)}}],methods:{toggle(t,s){const a=this._data.elements.get(t);if(a){if(a.off==null||a.off(),U(t,"opacity",!s&&this.hidden?0:""),Re(t,this.inViewClass,s),Re(t,a.cls),/\buk-animation-/.test(a.cls)){const u=()=>yi(t,"uk-animation-[\\w-]+");s?a.off=Z(t,"animationcancel animationend",u):u()}I(t,s?"inview":"outview"),a.inview=s,this.$update(t)}}}},cc={mixins:[xr],props:{cls:String,closest:String,scroll:Boolean,overflow:Boolean,offset:Number},data:{cls:"uk-active",closest:!1,scroll:!1,overflow:!0,offset:0},computed:{links:{get(t,s){return ei('a[href*="#"]',s).filter(a=>a.hash&&yr(a))},watch(t){this.scroll&&this.$create("scroll",t,{offset:this.offset||0})},immediate:!0},elements({closest:t}){return fi(this.links,t||"*")}},update:[{read(){const t=this.links.map(go).filter(Boolean),{length:s}=t;if(!s||!pe(this.$el))return!1;const[a]=rn(t,!0),{scrollTop:u,scrollHeight:y}=a,v=Ni(a),T=y-v.height;let z=!1;if(u===T)z=s-1;else{for(let F=0;F<t.length&&!(He(t[F]).top-v.top-this.offset>0);F++)z=+F;z===!1&&this.overflow&&(z=0)}return{active:z}},write({active:t}){const s=t!==!1&&!Ae(this.elements[t],this.cls);this.links.forEach(a=>a.blur());for(let a=0;a<this.elements.length;a++)Re(this.elements[a],this.cls,+a===t);s&&I(this.$el,"active",[t,this.elements[t]])},events:["scroll","resize"]}]},Fc={mixins:[Wi,Cs,bn,xr],props:{position:String,top:null,bottom:null,start:null,end:null,offset:String,overflowFlip:Boolean,animation:String,clsActive:String,clsInactive:String,clsFixed:String,clsBelow:String,selTarget:String,showOnUp:Boolean,targetOffset:Number},data:{position:"top",top:!1,bottom:!1,start:!1,end:!1,offset:0,overflowFlip:!1,animation:"",clsActive:"uk-active",clsInactive:"",clsFixed:"uk-sticky-fixed",clsBelow:"uk-sticky-below",selTarget:"",showOnUp:!1,targetOffset:!1},computed:{selTarget({selTarget:t},s){return t&&ae(t,s)||s}},resizeTargets(){return document.documentElement},connected(){this.start=Oc(this.start||this.top),this.end=Oc(this.end||this.bottom),this.placeholder=ae("+ .uk-sticky-placeholder",this.$el)||ae('<div class="uk-sticky-placeholder"></div>'),this.isFixed=!1,this.setActive(!1),this.registerObserver(nr(this.$el,()=>!this.isFixed&&this.$emit("resize")))},disconnected(){this.isFixed&&(this.hide(),te(this.selTarget,this.clsInactive)),hc(this.$el),Vi(this.placeholder),this.placeholder=null},events:[{name:"resize",el(){return[window,window.visualViewport]},handler(){this.$emit("resizeViewport")}},{name:"load hashchange popstate",el(){return window},filter(){return this.targetOffset!==!1},handler(){const{scrollingElement:t}=document;!location.hash||t.scrollTop===0||setTimeout(()=>{const s=He(ae(location.hash)),a=He(this.$el);this.isFixed&&xs(s,a)&&(t.scrollTop=s.top-a.height-sn(this.targetOffset,"height",this.placeholder)-sn(this.offset,"height",this.placeholder))})}}],update:[{read({height:t,width:s,margin:a,sticky:u},y){if(this.inactive=!this.matchMedia||!pe(this.$el),this.inactive)return;const v=this.isFixed&&y.has("resize")&&!u;v&&(U(this.selTarget,"transition","0s"),this.hide()),this.active||({height:t,width:s}=He(this.$el),a=U(this.$el,"margin")),v&&(this.show(),requestAnimationFrame(()=>U(this.selTarget,"transition","")));const T=sn("100vh","height"),z=Oi(window),F=document.scrollingElement.scrollHeight-T;let X=this.position;this.overflowFlip&&t>T&&(X=X==="top"?"bottom":"top");const Y=this.isFixed?this.placeholder:this.$el;let yt=sn(this.offset,"height",u?this.$el:Y);X==="bottom"&&(t<z||this.overflowFlip)&&(yt+=z-t);const It=this.overflowFlip?0:Math.max(0,t+yt-T),Kt=He(Y).top,ke=He(this.$el).height,si=(this.start===!1?Kt:Va(this.start,this.$el,Kt))-yt,Je=this.end===!1?F:Math.min(F,Va(this.end,this.$el,Kt+t,!0)-ke-yt+It);return u=F&&!this.showOnUp&&si+yt===Kt&&Je===Math.min(F,Va("!*",this.$el,0,!0)-ke-yt+It)&&U(we(this.$el),"overflowY")==="visible",{start:si,end:Je,offset:yt,overflow:It,topOffset:Kt,height:t,elHeight:ke,width:s,margin:a,top:ts(Y)[0],sticky:u}},write({height:t,width:s,margin:a,offset:u,sticky:y}){if((this.inactive||y||!this.isFixed)&&hc(this.$el),this.inactive)return;y&&(t=s=a=0,U(this.$el,{position:"sticky",top:u}));const{placeholder:v}=this;U(v,{height:t,width:s,margin:a}),oe(v,document)||(v.hidden=!0),(y?zr:vs)(this.$el,v)},events:["resize","resizeViewport"]},{read({scroll:t=0,dir:s="down",overflow:a,overflowScroll:u=0,start:y,end:v}){const T=document.scrollingElement.scrollTop;return{dir:t<=T?"down":"up",prevDir:s,scroll:T,prevScroll:t,offsetParentTop:He((this.isFixed?this.placeholder:this.$el).offsetParent).top,overflowScroll:Qe(u+Qe(T,y,v)-Qe(t,y,v),0,a)}},write(t,s){const a=s.has("scroll"),{initTimestamp:u=0,dir:y,prevDir:v,scroll:T,prevScroll:z=0,top:F,start:X,topOffset:Y,height:yt}=t;if(T<0||T===z&&a||this.showOnUp&&!a&&!this.isFixed)return;const It=Date.now();if((It-u>300||y!==v)&&(t.initScroll=T,t.initTimestamp=It),!(this.showOnUp&&!this.isFixed&&Math.abs(t.initScroll-T)<=30&&Math.abs(z-T)<=10))if(this.inactive||T<X||this.showOnUp&&(T<=X||y==="down"&&a||y==="up"&&!this.isFixed&&T<=Y+yt)){if(!this.isFixed){yn.inProgress(this.$el)&&F>T&&(yn.cancel(this.$el),this.hide());return}this.animation&&T>Y?(yn.cancel(this.$el),yn.out(this.$el,this.animation).then(()=>this.hide(),$e)):this.hide()}else this.isFixed?this.update():this.animation&&T>Y?(yn.cancel(this.$el),this.show(),yn.in(this.$el,this.animation).catch($e)):this.show()},events:["resize","resizeViewport","scroll"]}],methods:{show(){this.isFixed=!0,this.update(),this.placeholder.hidden=!1},hide(){const{offset:t,sticky:s}=this._data;this.setActive(!1),te(this.$el,this.clsFixed,this.clsBelow),s?U(this.$el,"top",t):U(this.$el,{position:"",top:"",width:"",marginTop:""}),this.placeholder.hidden=!0,this.isFixed=!1},update(){let{width:t,scroll:s=0,overflow:a,overflowScroll:u=0,start:y,end:v,offset:T,topOffset:z,height:F,elHeight:X,offsetParentTop:Y,sticky:yt}=this._data;const It=y!==0||s>y;if(!yt){let Kt="fixed";s>v&&(T+=v-Y,Kt="absolute"),U(this.$el,{position:Kt,width:t}),U(this.$el,"marginTop",0,"important")}a&&(T-=u),U(this.$el,"top",T),this.setActive(It),Re(this.$el,this.clsBelow,s>z+(yt?Math.min(F,X):F)),Nt(this.$el,this.clsFixed)},setActive(t){const s=this.active;this.active=t,t?(zi(this.selTarget,this.clsInactive,this.clsActive),s!==t&&I(this.$el,"active")):(zi(this.selTarget,this.clsActive,this.clsInactive),s!==t&&I(this.$el,"inactive"))}}};function Va(t,s,a,u){if(!t)return 0;if(Hi(t)||Me(t)&&t.match(/^-?\d/))return a+sn(t,"height",s,!0);{const y=t===!0?we(s):Pe(t,s);return He(y).bottom-(u&&y&&oe(s,y)?Ht(U(y,"paddingBottom")):0)}}function Oc(t){return t==="true"?!0:t==="false"?!1:t}function hc(t){U(t,{position:"",top:"",marginTop:"",width:""})}var Nc={mixins:[rs,Bc,_n],args:"connect",props:{connect:String,toggle:String,itemNav:String,active:Number},data:{connect:"~.uk-switcher",toggle:"> * > :first-child",itemNav:!1,active:0,cls:"uk-active",attrItem:"uk-switcher-item"},computed:{connects:{get({connect:t},s){return nn(t,s)},watch(t){this.swiping&&U(t,"touchAction","pan-y pinch-zoom")},document:!0,immediate:!0},connectChildren:{get(){return this.connects.map(t=>Pt(t)).flat()},watch(){const t=this.index();for(const s of this.connects)Pt(s).forEach((a,u)=>Re(a,this.cls,u===t)),this.lazyload(this.$el,Pt(s))},immediate:!0},toggles:{get({toggle:t},s){return ei(t,s).filter(a=>!Oe(a,".uk-disabled *, .uk-disabled, [disabled]"))},watch(t){const s=this.index();this.show(~s?s:t[this.active]||t[0])},immediate:!0},children(){return Pt(this.$el).filter(t=>this.toggles.some(s=>oe(s,t)))},swipeTarget(){return this.connects}},events:[{name:"click",delegate(){return this.toggle},handler(t){t.preventDefault(),this.show(t.current)}},{name:"click",el(){return this.connects.concat(this.itemNav?nn(this.itemNav,this.$el):[])},delegate(){return`[${this.attrItem}],[data-${this.attrItem}]`},handler(t){t.preventDefault(),this.show(ie(t.current,this.attrItem))}},{name:"swipeRight swipeLeft",filter(){return this.swiping},el(){return this.connects},handler({type:t}){this.show(lt(t,"Left")?"next":"previous")}}],methods:{index(){return Te(this.children,t=>Ae(t,this.cls))},show(t){const s=this.index(),a=Yt(t,this.toggles,s),u=Yt(this.children[a],Pt(this.$el));Pt(this.$el).forEach((v,T)=>{Re(v,this.cls,u===T),bt(this.toggles[T],"aria-expanded",u===T)});const y=s>=0&&s!==a;this.connects.forEach(async({children:v})=>{await this.toggleElement(ne(v).filter(T=>Ae(T,this.cls)),!1,y),await this.toggleElement(v[u],!0,y)})}}},Uc={mixins:[Wi],extends:Nc,props:{media:Boolean},data:{media:960,attrItem:"uk-tab-item"},connected(){const t=Ae(this.$el,"uk-tab-left")?"uk-tab-left":Ae(this.$el,"uk-tab-right")?"uk-tab-right":!1;t&&this.$create("toggle",this.$el,{cls:t,mode:"media",media:this.media})}};const Kh=32;var Vc={mixins:[rs,Cs,_n],args:"target",props:{href:String,target:null,mode:"list",queued:Boolean},data:{href:!1,target:!1,mode:"click",queued:!0},computed:{target:{get({href:t,target:s},a){return s=nn(s||t,a),s.length&&s||[a]},watch(){this.updateAria(),this.lazyload(this.$el,this.target)},document:!0,immediate:!0}},connected(){!kt(this.mode,"media")&&!en(this.$el)&&bt(this.$el,"tabindex","0")},events:[{name:un,filter(){return kt(this.mode,"hover")},handler(t){this._preventClick=null,!(!Tt(t)||this._showState)&&(I(this.$el,"focus"),Z(document,un,()=>I(this.$el,"blur"),!0,s=>!oe(s.target,this.$el)),kt(this.mode,"click")&&(this._preventClick=!0))}},{name:`${$n} ${Hs} focus blur`,filter(){return kt(this.mode,"hover")},handler(t){if(Tt(t))return;const s=kt([$n,"focus"],t.type),a=bt(this.$el,"aria-expanded");if(!(!s&&(t.type===Hs&&Oe(this.$el,":focus")||t.type==="blur"&&Oe(this.$el,":hover")))){if(this._showState&&s&&a!==this._showState){s||(this._showState=null);return}this._showState=s?a:null,this.toggle(`toggle${s?"show":"hide"}`)}}},{name:"keydown",filter(){return kt(this.mode,"click")&&!pn(this.$el,"input")},handler(t){t.keyCode===Kh&&(t.preventDefault(),this.$el.click())}},{name:"click",filter(){return["click","hover"].some(t=>kt(this.mode,t))},handler(t){let s;(this._preventClick||fi(t.target,'a[href="#"], a[href=""]')||(s=fi(t.target,"a[href]"))&&(bt(this.$el,"aria-expanded")!=="true"||s.hash&&Oe(this.target,s.hash)))&&t.preventDefault(),!this._preventClick&&kt(this.mode,"click")&&this.toggle()}},{name:"hide show",self:!0,el(){return this.target},handler({target:t,type:s}){this.updateAria(t===this.target[0]&&s==="show")}},{name:"mediachange",filter(){return kt(this.mode,"media")},el(){return this.target},handler(t,s){s.matches^this.isToggled(this.target)&&this.toggle()}}],methods:{async toggle(t){if(!I(this.target,t||"toggle",[this]))return;if(!this.queued)return this.toggleElement(this.target);const s=this.target.filter(u=>Ae(u,this.clsLeave));if(s.length){for(const u of this.target){const y=kt(s,u);this.toggleElement(u,y,y)}return}const a=this.target.filter(this.isToggled);await this.toggleElement(a,!1),await this.toggleElement(this.target.filter(u=>!kt(a,u)),!0)},updateAria(t){kt(this.mode,"media")||bt(this.$el,"aria-expanded",xi(t)?t:this.isToggled(this.target))}}},wh=Object.freeze({__proto__:null,Accordion:pl,Alert:nc,Close:Dn,Cover:ml,Drop:Na,Dropdown:Na,FormCustom:Dc,Grid:oc,HeightMatch:yl,HeightViewport:i,Icon:Ii,Img:vr,Leader:Oo,Margin:Ms,Marker:Ke,Modal:ac,Nav:qr,NavParentIcon:ki,Navbar:po,NavbarParentIcon:Ke,NavbarToggleIcon:Ke,Offcanvas:vl,OverflowAuto:Uo,OverlayIcon:Ke,PaginationNext:Ke,PaginationPrevious:Ke,Responsive:xh,Scroll:ma,Scrollspy:ga,ScrollspyNav:cc,SearchIcon:qi,SlidenavNext:wi,SlidenavPrevious:wi,Spinner:or,Sticky:Fc,Svg:o,Switcher:Nc,Tab:Uc,Toggle:Vc,Totop:Ke,Video:Oa});Gi(wh,(t,s)=>Ei.component(s,t)),xe(Ei);const bh=["days","hours","minutes","seconds"];var ja={mixins:[Wi],props:{date:String,clsWrapper:String},data:{date:"",clsWrapper:".uk-countdown-%unit%"},connected(){this.date=Date.parse(this.$props.date),this.start()},disconnected(){this.stop()},events:[{name:"visibilitychange",el(){return document},handler(){document.hidden?this.stop():this.start()}}],methods:{start(){this.stop(),this.update(),this.timer=setInterval(this.update,1e3)},stop(){clearInterval(this.timer)},update(){const t=Yh(this.date);(!this.date||t.total<=0)&&(this.stop(),t.days=t.hours=t.minutes=t.seconds=0);for(const s of bh){const a=ae(this.clsWrapper.replace("%unit%",s),this.$el);if(!a)continue;let u=String(Math.trunc(t[s]));u=u.length<2?`0${u}`:u,a.textContent!==u&&(u=u.split(""),u.length!==a.children.length&&Un(a,u.map(()=>"<span></span>").join("")),u.forEach((y,v)=>a.children[v].textContent=y))}}}};function Yh(t){const s=t-Date.now();return{total:s,seconds:s/1e3%60,minutes:s/1e3/60%60,hours:s/1e3/60/60%24,days:s/1e3/60/60/24}}const yo="uk-transition-leave",Vo="uk-transition-enter";function qa(t,s,a,u=0){const y=ya(s,!0),v={opacity:1},T={opacity:0},z=Y=>()=>y===ya(s)?Y():Promise.reject(),F=z(async()=>{Nt(s,yo),await Promise.all(Xn(s).map((Y,yt)=>new Promise(It=>setTimeout(()=>ee.start(Y,T,a/2,"ease").then(It),yt*u)))),te(s,yo)}),X=z(async()=>{const Y=Oi(s);Nt(s,Vo),t(),U(Pt(s),{opacity:0}),await ps();const yt=Pt(s),It=Oi(s);U(s,"alignContent","flex-start"),Oi(s,Y);const Kt=Xn(s);U(yt,T);const ke=Kt.map(async(si,Je)=>{await kh(Je*u),await ee.start(si,v,a/2,"ease")});Y!==It&&ke.push(ee.start(s,{height:It},a/2+Kt.length*u,"ease")),await Promise.all(ke).then(()=>{te(s,Vo),y===ya(s)&&(U(s,{height:"",alignContent:""}),U(yt,{opacity:""}),delete s.dataset.transition)})});return Ae(s,yo)?jc(s).then(X):Ae(s,Vo)?jc(s).then(F).then(X):F().then(X)}function ya(t,s){return s&&(t.dataset.transition=1+ya(t)),ri(t.dataset.transition)||0}function jc(t){return Promise.all(Pt(t).filter(ee.inProgress).map(s=>new Promise(a=>Z(s,"transitionend transitioncanceled",a))))}function Xn(t){return _r(Pt(t)).reduce((s,a)=>s.concat(hn(a.filter(u=>Or(u)),"offsetLeft")),[])}function ps(){return new Promise(t=>requestAnimationFrame(t))}function kh(t){return new Promise(s=>setTimeout(s,t))}async function qc(t,s,a){await pc();let u=Pt(s);const y=u.map(It=>uc(It,!0)),v={...U(s,["height","padding"]),display:"block"};await Promise.all(u.concat(s).map(ee.cancel)),t(),u=u.concat(Pt(s).filter(It=>!kt(u,It))),await Promise.resolve(),Li.flush();const T=bt(s,"style"),z=U(s,["height","padding"]),[F,X]=bl(s,u,y),Y=u.map(It=>({style:bt(It,"style")}));u.forEach((It,Kt)=>X[Kt]&&U(It,X[Kt])),U(s,v),await pc();const yt=u.map((It,Kt)=>we(It)===s&&ee.start(It,F[Kt],a,"ease")).concat(ee.start(s,z,a,"ease"));try{await Promise.all(yt),u.forEach((It,Kt)=>{bt(It,Y[Kt]),we(It)===s&&U(It,"display",F[Kt].opacity===0?"none":"")}),bt(s,"style",T)}catch{bt(u,"style",""),Jh(s,v)}}function uc(t,s){const a=U(t,"zIndex");return pe(t)?{display:"",opacity:s?U(t,"opacity"):"0",pointerEvents:"none",position:"absolute",zIndex:a==="auto"?Xe(t):a,...dc(t)}:!1}function bl(t,s,a){const u=s.map((v,T)=>we(v)&&T in a?a[T]?pe(v)?dc(v):{opacity:0}:{opacity:pe(v)?1:0}:!1),y=u.map((v,T)=>{const z=we(s[T])===t&&(a[T]||uc(s[T]));if(!z)return!1;if(!v)delete z.opacity;else if(!("opacity"in v)){const{opacity:F}=z;F%1?v.opacity=1:delete z.opacity}return z});return[u,y]}function Jh(t,s){for(const a in s)U(t,a,"")}function dc(t){const{height:s,width:a}=He(t);return{height:s,width:a,transform:"",...Yr(t),...U(t,["marginTop","marginLeft"])}}function pc(){return new Promise(t=>requestAnimationFrame(t))}var Za={props:{duration:Number,animation:Boolean},data:{duration:150,animation:"slide"},methods:{animate(t,s=this.$el){const a=this.animation;return(a==="fade"?qa:a==="delayed-fade"?(...y)=>qa(...y,40):a?qc:()=>(t(),Promise.resolve()))(t,s,this.duration).catch($e)}}},Th={mixins:[Za],args:"target",props:{target:Boolean,selActive:Boolean},data:{target:null,selActive:!1,attrItem:"uk-filter-control",cls:"uk-active",duration:250},computed:{toggles:{get({attrItem:t},s){return ei(`[${t}],[data-${t}]`,s)},watch(){if(this.updateState(),this.selActive!==!1){const t=ei(this.selActive,this.$el);this.toggles.forEach(s=>Re(s,this.cls,kt(t,s)))}},immediate:!0},children:{get({target:t},s){return ei(`${t} > *`,s)},watch(t,s){s&&!Zc(t,s)&&this.updateState()},immediate:!0}},events:[{name:"click",delegate(){return`[${this.attrItem}],[data-${this.attrItem}]`},handler(t){t.preventDefault(),this.apply(t.current)}}],methods:{apply(t){const s=this.getState(),a=kl(t,this.attrItem,this.getState());Ch(s,a)||this.setState(a)},getState(){return this.toggles.filter(t=>Ae(t,this.cls)).reduce((t,s)=>kl(s,this.attrItem,t),{filter:{"":""},sort:[]})},async setState(t,s=!0){t={filter:{"":""},sort:[],...t},I(this.$el,"beforeFilter",[this,t]),this.toggles.forEach(a=>Re(a,this.cls,!!Sh(a,this.attrItem,t))),await Promise.all(ei(this.target,this.$el).map(a=>{const u=()=>{Qh(t,a,Pt(a)),this.$update(this.$el)};return s?this.animate(u,a):u()})),I(this.$el,"afterFilter",[this])},updateState(){Li.write(()=>this.setState(this.getState(),!1))}}};function fc(t,s){return Di(ie(t,s),["filter"])}function Ch(t,s){return["filter","sort"].every(a=>Qi(t[a],s[a]))}function Qh(t,s,a){const u=Tl(t);a.forEach(T=>U(T,"display",u&&!Oe(T,u)?"none":""));const[y,v]=t.sort;if(y){const T=Xs(a,y,v);Qi(T,a)||mi(s,T)}}function kl(t,s,a){const{filter:u,group:y,sort:v,order:T="asc"}=fc(t,s);return(u||oi(v))&&(y?u?(delete a.filter[""],a.filter[y]=u):(delete a.filter[y],(gn(a.filter)||""in a.filter)&&(a.filter={"":u||""})):a.filter={"":u||""}),oi(v)||(a.sort=[v,T]),a}function Sh(t,s,{filter:a={"":""},sort:[u,y]}){const{filter:v="",group:T="",sort:z,order:F="asc"}=fc(t,s);return oi(z)?T in a&&v===a[T]||!v&&T&&!(T in a)&&!a[""]:u===z&&y===F}function Zc(t,s){return t.length===s.length&&t.every(a=>s.includes(a))}function Tl({filter:t}){let s="";return Gi(t,a=>s+=a||""),s}function Xs(t,s,a){return[...t].sort((u,y)=>ie(u,s).localeCompare(ie(y,s),void 0,{numeric:!0})*(a==="asc"||-1))}var Ha={slide:{show(t){return[{transform:gi(t*-100)},{transform:gi()}]},percent(t){return _o(t)},translate(t,s){return[{transform:gi(s*-100*t)},{transform:gi(s*100*(1-t))}]}}};function _o(t){return Math.abs(U(t,"transform").split(",")[4]/t.offsetWidth)||0}function gi(t=0,s="%"){return t+=t?s:"",`translate3d(${t}, 0, 0)`}function br(t){return`scale3d(${t}, ${t}, 1)`}var Ga={...Ha,fade:{show(){return[{opacity:0},{opacity:1}]},percent(t){return 1-U(t,"opacity")},translate(t){return[{opacity:1-t},{opacity:t}]}},scale:{show(){return[{opacity:0,transform:br(1-.2)},{opacity:1,transform:br(1)}]},percent(t){return 1-U(t,"opacity")},translate(t){return[{opacity:1-t,transform:br(1-.2*t)},{opacity:t,transform:br(1-.2+.2*t)}]}}};function mc(t,s,a,{animation:u,easing:y}){const{percent:v,translate:T,show:z=$e}=u,F=z(a),X=new Ft;return{dir:a,show(Y,yt=0,It){const Kt=It?"linear":y;return Y-=Math.round(Y*Qe(yt,-1,1)),this.translate(yt),jo(s,"itemin",{percent:yt,duration:Y,timing:Kt,dir:a}),jo(t,"itemout",{percent:1-yt,duration:Y,timing:Kt,dir:a}),Promise.all([ee.start(s,F[1],Y,Kt),ee.start(t,F[0],Y,Kt)]).then(()=>{this.reset(),X.resolve()},$e),X.promise},cancel(){ee.cancel([s,t])},reset(){for(const Y in F[0])U([s,t],Y,"")},forward(Y,yt=this.percent()){return ee.cancel([s,t]),this.show(Y,yt,!0)},translate(Y){this.reset();const yt=T(Y,a);U(s,yt[1]),U(t,yt[0]),jo(s,"itemtranslatein",{percent:Y,dir:a}),jo(t,"itemtranslateout",{percent:1-Y,dir:a})},percent(){return v(t||s,s,a)},getDistance(){return t==null?void 0:t.offsetWidth}}}function jo(t,s,a){I(t,R(s,!1,!1,a))}var _a={props:{autoplay:Boolean,autoplayInterval:Number,pauseOnHover:Boolean},data:{autoplay:!1,autoplayInterval:7e3,pauseOnHover:!0},connected(){this.autoplay&&this.startAutoplay()},disconnected(){this.stopAutoplay()},update(){bt(this.slides,"tabindex","-1")},events:[{name:"visibilitychange",el(){return document},filter(){return this.autoplay},handler(){document.hidden?this.stopAutoplay():this.startAutoplay()}}],methods:{startAutoplay(){this.stopAutoplay(),this.interval=setInterval(()=>(!this.draggable||!ae(":focus",this.$el))&&(!this.pauseOnHover||!Oe(this.$el,":hover"))&&!this.stack.length&&this.show("next"),this.autoplayInterval)},stopAutoplay(){this.interval&&clearInterval(this.interval)}}};const xo={passive:!1,capture:!0},Hc={passive:!0,capture:!0},tu="touchstart mousedown",Cl="touchmove mousemove",Gc="touchend touchcancel mouseup click input scroll";var eu={props:{draggable:Boolean},data:{draggable:!0,threshold:10},created(){for(const t of["start","move","end"]){const s=this[t];this[t]=a=>{const u=Ot(a).x*(Ci?-1:1);this.prevPos=u===this.pos?this.prevPos:this.pos,this.pos=u,s(a)}}},events:[{name:tu,passive:!0,delegate(){return`${this.selList} > *`},handler(t){!this.draggable||!Tt(t)&&iu(t.target)||fi(t.target,ci)||t.button>0||this.length<2||this.start(t)}},{name:"dragstart",handler(t){t.preventDefault()}},{name:Cl,el(){return this.list},handler:$e,...xo}],methods:{start(){this.drag=this.pos,this._transitioner?(this.percent=this._transitioner.percent(),this.drag+=this._transitioner.getDistance()*this.percent*this.dir,this._transitioner.cancel(),this._transitioner.translate(this.percent),this.dragging=!0,this.stack=[]):this.prevIndex=this.index,_e(document,Cl,this.move,xo),_e(document,Gc,this.end,Hc),U(this.list,"userSelect","none")},move(t){const s=this.pos-this.drag;if(s===0||this.prevPos===this.pos||!this.dragging&&Math.abs(s)<this.threshold)return;U(this.list,"pointerEvents","none"),t.cancelable&&t.preventDefault(),this.dragging=!0,this.dir=s<0?1:-1;const{slides:a}=this;let{prevIndex:u}=this,y=Math.abs(s),v=this.getIndex(u+this.dir,u),T=this._getDistance(u,v)||a[u].offsetWidth;for(;v!==u&&y>T;)this.drag-=T*this.dir,u=v,y-=T,v=this.getIndex(u+this.dir,u),T=this._getDistance(u,v)||a[u].offsetWidth;this.percent=y/T;const z=a[u],F=a[v],X=this.index!==v,Y=u===v;let yt;[this.index,this.prevIndex].filter(It=>!kt([v,u],It)).forEach(It=>{I(a[It],"itemhidden",[this]),Y&&(yt=!0,this.prevIndex=u)}),(this.index===u&&this.prevIndex!==u||yt)&&I(a[this.index],"itemshown",[this]),X&&(this.prevIndex=u,this.index=v,!Y&&I(z,"beforeitemhide",[this]),I(F,"beforeitemshow",[this])),this._transitioner=this._translate(Math.abs(this.percent),z,!Y&&F),X&&(!Y&&I(z,"itemhide",[this]),I(F,"itemshow",[this]))},end(){if(In(document,Cl,this.move,xo),In(document,Gc,this.end,Hc),this.dragging)if(this.dragging=null,this.index===this.prevIndex)this.percent=1-this.percent,this.dir*=-1,this._show(!1,this.index,!0),this._transitioner=null;else{const t=(Ci?this.dir*(Ci?1:-1):this.dir)<0==this.prevPos>this.pos;this.index=t?this.index:this.prevIndex,t&&(this.percent=1-this.percent),this.show(this.dir>0&&!t||this.dir<0&&t?"next":"previous",!0)}U(this.list,{userSelect:"",pointerEvents:""}),this.drag=this.percent=null}}};function iu(t){return U(t,"userSelect")!=="none"&&ne(t.childNodes).some(s=>s.nodeType===3&&s.textContent.trim())}var nu={data:{selNav:!1},computed:{nav({selNav:t},s){return ae(t,s)},selNavItem({attrItem:t}){return`[${t}],[data-${t}]`},navItems(t,s){return ei(this.selNavItem,s)}},update:{write(){this.nav&&this.length!==this.nav.children.length&&Un(this.nav,this.slides.map((t,s)=>`<li ${this.attrItem}="${s}"><a href></a></li>`).join("")),this.navItems.concat(this.nav).forEach(t=>t&&(t.hidden=!this.maxIndex)),this.updateNav()},events:["resize"]},events:[{name:"click",delegate(){return this.selNavItem},handler(t){t.preventDefault(),this.show(ie(t.current,this.attrItem))}},{name:"itemshow",handler:"updateNav"}],methods:{updateNav(){const t=this.getValidIndex();for(const s of this.navItems){const a=ie(s,this.attrItem);Re(s,this.clsActive,ri(a)===t),Re(s,"uk-invisible",this.finite&&(a==="previous"&&t===0||a==="next"&&t>=this.maxIndex))}}}},Sl={mixins:[_a,eu,nu,bn],props:{clsActivated:Boolean,easing:String,index:Number,finite:Boolean,velocity:Number},data:()=>({easing:"ease",finite:!1,velocity:1,index:0,prevIndex:-1,stack:[],percent:0,clsActive:"uk-active",clsActivated:!1,Transitioner:!1,transitionOptions:{}}),connected(){this.prevIndex=-1,this.index=this.getValidIndex(this.$props.index),this.stack=[]},disconnected(){te(this.slides,this.clsActive)},computed:{duration({velocity:t},s){return qo(s.offsetWidth/t)},list({selList:t},s){return ae(t,s)},maxIndex(){return this.length-1},slides:{get(){return Pt(this.list)},watch(){this.$emit("resize")}},length(){return this.slides.length}},methods:{show(t,s=!1){if(this.dragging||!this.length)return;const{stack:a}=this,u=s?0:a.length,y=()=>{a.splice(u,1),a.length&&this.show(a.shift(),!0)};if(a[s?"unshift":"push"](t),!s&&a.length>1){if(a.length===2){var v;(v=this._transitioner)==null||v.forward(Math.min(this.duration,200))}return}const T=this.getIndex(this.index),z=Ae(this.slides,this.clsActive)&&this.slides[T],F=this.getIndex(t,this.index),X=this.slides[F];if(z===X){y();return}if(this.dir=su(t,T),this.prevIndex=T,this.index=F,z&&!I(z,"beforeitemhide",[this])||!I(X,"beforeitemshow",[this,z])){this.index=this.prevIndex,y();return}const Y=this._show(z,X,s).then(()=>{z&&I(z,"itemhidden",[this]),I(X,"itemshown",[this]),a.shift(),this._transitioner=null,requestAnimationFrame(()=>a.length&&this.show(a.shift(),!0))});return z&&I(z,"itemhide",[this]),I(X,"itemshow",[this]),Y},getIndex(t=this.index,s=this.index){return Qe(Yt(t,this.slides,s,this.finite),0,this.maxIndex)},getValidIndex(t=this.index,s=this.prevIndex){return this.getIndex(t,s)},_show(t,s,a){if(this._transitioner=this._getTransitioner(t,s,this.dir,{easing:a?s.offsetWidth<600?"cubic-bezier(0.25, 0.46, 0.45, 0.94)":"cubic-bezier(0.165, 0.84, 0.44, 1)":this.easing,...this.transitionOptions}),!a&&!t)return this._translate(1),Promise.resolve();const{length:u}=this.stack;return this._transitioner[u>1?"forward":"show"](u>1?Math.min(this.duration,75+75/(u-1)):this.duration,this.percent)},_getDistance(t,s){return this._getTransitioner(t,t!==s&&s).getDistance()},_translate(t,s=this.prevIndex,a=this.index){const u=this._getTransitioner(s!==a?s:!1,a);return u.translate(t),u},_getTransitioner(t=this.prevIndex,s=this.index,a=this.dir||1,u=this.transitionOptions){return new this.Transitioner(Ui(t)?this.slides[t]:t,Ui(s)?this.slides[s]:s,a*(Ci?-1:1),u)}}};function su(t,s){return t==="next"?1:t==="previous"||t<s?-1:1}function qo(t){return .5*t+300}var Wc={mixins:[Sl],props:{animation:String},data:{animation:"slide",clsActivated:"uk-transition-active",Animations:Ha,Transitioner:mc},computed:{animation({animation:t,Animations:s}){return{...s[t]||s.slide,name:t}},transitionOptions(){return{animation:this.animation}}},events:{beforeitemshow({target:t}){Nt(t,this.clsActive)},itemshown({target:t}){Nt(t,this.clsActivated)},itemhidden({target:t}){te(t,this.clsActive,this.clsActivated)}}},mn={mixins:[Ts,Ro,_n,Wc],functional:!0,props:{delayControls:Number,preload:Number,videoAutoplay:Boolean,template:String},data:()=>({preload:1,videoAutoplay:!1,delayControls:3e3,items:[],cls:"uk-open",clsPage:"uk-lightbox-page",selList:".uk-lightbox-items",attrItem:"uk-lightbox-item",selClose:".uk-close-large",selCaption:".uk-lightbox-caption",pauseOnHover:!1,velocity:2,Animations:Ga,template:'<div class="uk-lightbox uk-overflow-hidden"> <ul class="uk-lightbox-items"></ul> <div class="uk-lightbox-toolbar uk-position-top uk-text-right uk-transition-slide-top uk-transition-opaque"> <button class="uk-lightbox-toolbar-icon uk-close-large" type="button" uk-close></button> </div> <a class="uk-lightbox-button uk-position-center-left uk-position-medium uk-transition-fade" href uk-slidenav-previous uk-lightbox-item="previous"></a> <a class="uk-lightbox-button uk-position-center-right uk-position-medium uk-transition-fade" href uk-slidenav-next uk-lightbox-item="next"></a> <div class="uk-lightbox-toolbar uk-lightbox-caption uk-position-bottom uk-text-center uk-transition-slide-bottom uk-transition-opaque"></div> </div>'}),created(){const t=ae(this.template),s=ae(this.selList,t);this.items.forEach(()=>mi(s,"<li>")),this.$mount(mi(this.container,t))},computed:{caption({selCaption:t},s){return ae(t,s)}},events:[{name:`${Dr} ${un} keydown`,handler:"showControls"},{name:"click",self:!0,delegate(){return`${this.selList} > *`},handler(t){t.defaultPrevented||this.hide()}},{name:"shown",self:!0,handler(){this.showControls()}},{name:"hide",self:!0,handler(){this.hideControls(),te(this.slides,this.clsActive),ee.stop(this.slides)}},{name:"hidden",self:!0,handler(){this.$destroy(!0)}},{name:"keyup",el(){return document},handler(t){if(!(!this.isToggled(this.$el)||!this.draggable))switch(t.keyCode){case 37:this.show("previous");break;case 39:this.show("next");break}}},{name:"beforeitemshow",handler(t){this.isToggled()||(this.draggable=!1,t.preventDefault(),this.toggleElement(this.$el,!0,!1),this.animation=Ga.scale,te(t.target,this.clsActive),this.stack.splice(1,0,this.index))}},{name:"itemshow",handler(){Un(this.caption,this.getItem().caption||"");for(let t=-this.preload;t<=this.preload;t++)this.loadItem(this.index+t)}},{name:"itemshown",handler(){this.draggable=this.$props.draggable}},{name:"itemload",async handler(t,s){const{source:a,type:u,alt:y="",poster:v,attrs:T={}}=s;if(this.setItem(s,"<span uk-spinner></span>"),!a)return;let z;const F={allowfullscreen:"",style:"max-width: 100%; box-sizing: border-box;","uk-responsive":"","uk-video":`${this.videoAutoplay}`};if(u==="image"||a.match(/\.(avif|jpe?g|jfif|a?png|gif|svg|webp)($|\?)/i))try{const{width:X,height:Y}=await Ie(a,T.srcset,T.size);this.setItem(s,lr("img",{src:a,width:X,height:Y,alt:y,...T}))}catch{this.setError(s)}else if(u==="video"||a.match(/\.(mp4|webm|ogv)($|\?)/i)){const X=lr("video",{src:a,poster:v,controls:"",playsinline:"","uk-video":`${this.videoAutoplay}`});_e(X,"loadedmetadata",()=>{bt(X,{width:X.videoWidth,height:X.videoHeight,...T}),this.setItem(s,X)}),_e(X,"error",()=>this.setError(s))}else if(u==="iframe"||a.match(/\.(html|php)($|\?)/i))this.setItem(s,lr("iframe",{src:a,allowfullscreen:"",class:"uk-lightbox-iframe",...T}));else if(z=a.match(/\/\/(?:.*?youtube(-nocookie)?\..*?[?&]v=|youtu\.be\/)([\w-]{11})[&?]?(.*)?/))this.setItem(s,lr("iframe",{src:`https://www.youtube${z[1]||""}.com/embed/${z[2]}${z[3]?`?${z[3]}`:""}`,width:1920,height:1080,...F,...T}));else if(z=a.match(/\/\/.*?vimeo\.[a-z]+\/(\d+)[&?]?(.*)?/))try{const{height:X,width:Y}=await(await fetch(`https://vimeo.com/api/oembed.json?maxwidth=1920&url=${encodeURI(a)}`,{credentials:"omit"})).json();this.setItem(s,lr("iframe",{src:`https://player.vimeo.com/video/${z[1]}${z[2]?`?${z[2]}`:""}`,width:Y,height:X,...F,...T}))}catch{this.setError(s)}}}],methods:{loadItem(t=this.index){const s=this.getItem(t);this.getSlide(s).childElementCount||I(this.$el,"itemload",[s])},getItem(t=this.index){return this.items[Yt(t,this.slides)]},setItem(t,s){I(this.$el,"itemloaded",[this,Un(this.getSlide(t),s)])},getSlide(t){return this.slides[this.items.indexOf(t)]},setError(t){this.setItem(t,'<span uk-icon="icon: bolt; ratio: 2"></span>')},showControls(){clearTimeout(this.controlsTimer),this.controlsTimer=setTimeout(this.hideControls,this.delayControls),Nt(this.$el,"uk-active","uk-transition-active")},hideControls(){te(this.$el,"uk-active","uk-transition-active")}}};function lr(t,s){const a=Vn(`<${t}>`);return bt(a,s),a}var Eh={install:gc,props:{toggle:String},data:{toggle:"a"},computed:{toggles:{get({toggle:t},s){return ei(t,s)},watch(){this.hide()}}},disconnected(){this.hide()},events:[{name:"click",delegate(){return`${this.toggle}:not(.uk-disabled)`},handler(t){t.preventDefault(),this.show(t.current)}}],methods:{show(t){const s=_s(this.toggles.map(Wa),"source");if(Ne(t)){const{source:a}=Wa(t);t=Te(s,({source:u})=>a===u)}return this.panel=this.panel||this.$create("lightboxPanel",{...this.$props,items:s}),_e(this.panel.$el,"hidden",()=>this.panel=null),this.panel.show(t)},hide(){var t;return(t=this.panel)==null?void 0:t.hide()}}};function gc(t,s){t.lightboxPanel||t.component("lightboxPanel",mn),Ye(s.props,t.component("lightboxPanel").options.props)}function Wa(t){const s={};for(const a of["href","caption","type","poster","alt","attrs"])s[a==="href"?"source":a]=ie(t,a);return s.attrs=Di(s.attrs),s}var El={mixins:[Ts],functional:!0,args:["message","status"],data:{message:"",status:"",timeout:5e3,group:null,pos:"top-center",clsContainer:"uk-notification",clsClose:"uk-notification-close",clsMsg:"uk-notification-message"},install:Ih,computed:{marginProp({pos:t}){return`margin${Lt(t,"top")?"Top":"Bottom"}`},startProps(){return{opacity:0,[this.marginProp]:-this.$el.offsetHeight}}},created(){const t=ae(`.${this.clsContainer}-${this.pos}`,this.container)||mi(this.container,`<div class="${this.clsContainer} ${this.clsContainer}-${this.pos}" style="display: block"></div>`);this.$mount(mi(t,`<div class="${this.clsMsg}${this.status?` ${this.clsMsg}-${this.status}`:""}" role="alert"> <a href class="${this.clsClose}" data-uk-close></a> <div>${this.message}</div> </div>`))},async connected(){const t=Ht(U(this.$el,this.marginProp));await ee.start(U(this.$el,this.startProps),{opacity:1,[this.marginProp]:t}),this.timeout&&(this.timer=setTimeout(this.close,this.timeout))},events:{click(t){fi(t.target,'a[href="#"],a[href=""]')&&t.preventDefault(),this.close()},[$n](){this.timer&&clearTimeout(this.timer)},[Hs](){this.timeout&&(this.timer=setTimeout(this.close,this.timeout))}},methods:{async close(t){const s=a=>{const u=we(a);I(a,"close",[this]),Vi(a),u!=null&&u.hasChildNodes()||Vi(u)};this.timer&&clearTimeout(this.timer),t||await ee.start(this.$el,this.startProps),s(this.$el)}}};function Ih(t){t.notification.closeAll=function(s,a){fn(document.body,u=>{const y=t.getComponent(u,"notification");y&&(!s||s===y.group)&&y.close(a)})}}const Zo={x:vo,y:vo,rotate:vo,scale:vo,color:Al,backgroundColor:Al,borderColor:Al,blur:os,hue:os,fopacity:os,grayscale:os,invert:os,saturate:os,sepia:os,opacity:ru,stroke:Xc,bgx:Kc,bgy:Kc},{keys:xa}=Object;var Il={mixins:[Cs],props:Qc(xa(Zo),"list"),data:Qc(xa(Zo),void 0),computed:{props(t,s){const a={};for(const y in t)y in Zo&&!oi(t[y])&&(a[y]=t[y].slice());const u={};for(const y in a)u[y]=Zo[y](y,s,a[y],a);return u}},events:{load(){this.$emit()}},methods:{reset(){for(const t in this.getCss(0))U(this.$el,t,"")},getCss(t){const s={transform:"",filter:""};for(const a in this.props)this.props[a](s,t);return s.willChange=Object.keys(s).filter(a=>s[a]!=="").join(","),s}}};function vo(t,s,a){let u=Ho(a)||{x:"px",y:"px",rotate:"deg"}[t]||"",y;return t==="x"||t==="y"?(t=`translate${St(t)}`,y=v=>Ht(Ht(v).toFixed(u==="px"?0:6))):t==="scale"&&(u="",y=v=>Ho([v])?sn(v,"width",s,!0)/s.offsetWidth:v),a.length===1&&a.unshift(t==="scale"?1:0),a=kr(a,y),(v,T)=>{v.transform+=` ${t}(${fs(a,T)}${u})`}}function Al(t,s,a){return a.length===1&&a.unshift(Ds(s,t,"")),a=kr(a,u=>Ah(s,u)),(u,y)=>{const[v,T,z]=Jc(a,y),F=v.map((X,Y)=>(X+=z*(T[Y]-X),Y===3?Ht(X):parseInt(X,10))).join(",");u[t]=`rgba(${F})`}}function Ah(t,s){return Ds(t,"color",s).split(/[(),]/g).slice(1,-1).concat(1).slice(0,4).map(Ht)}function os(t,s,a){a.length===1&&a.unshift(0);const u=Ho(a)||{blur:"px",hue:"deg"}[t]||"%";return t={fopacity:"opacity",hue:"hue-rotate"}[t]||t,a=kr(a),(y,v)=>{const T=fs(a,v);y.filter+=` ${t}(${T+u})`}}function ru(t,s,a){return a.length===1&&a.unshift(Ds(s,t,"")),a=kr(a),(u,y)=>{u[t]=fs(a,y)}}function Xc(t,s,a){a.length===1&&a.unshift(0);const u=Ho(a),y=P(s);return a=kr(a.reverse(),v=>(v=Ht(v),u==="%"?v*y/100:v)),a.some(([v])=>v)?(U(s,"strokeDasharray",y),(v,T)=>{v.strokeDashoffset=fs(a,T)}):$e}function Kc(t,s,a,u){a.length===1&&a.unshift(0);const y=t==="bgy"?"height":"width";u[t]=kr(a,z=>sn(z,y,s));const v=["bgx","bgy"].filter(z=>z in u);if(v.length===2&&t==="bgx")return $e;if(Ds(s,"backgroundSize","")==="cover")return Yc(t,s,a,u);const T={};for(const z of v)T[z]=Ml(s,z);return Pl(v,T,u)}function Yc(t,s,a,u){const y=ou(s);if(!y.width)return $e;const v={width:s.offsetWidth,height:s.offsetHeight},T=["bgx","bgy"].filter(Y=>Y in u),z={};for(const Y of T){const yt=u[Y].map(([Je])=>Je),It=Math.min(...yt),Kt=Math.max(...yt),ke=yt.indexOf(It)<yt.indexOf(Kt),si=Kt-It;z[Y]=`${(ke?-si:0)-(ke?It:Kt)}px`,v[Y==="bgy"?"height":"width"]+=si}const F=qt.cover(y,v);for(const Y of T){const yt=Y==="bgy"?"height":"width",It=F[yt]-v[yt];z[Y]=`max(${Ml(s,Y)},-${It}px) + ${z[Y]}`}const X=Pl(T,z,u);return(Y,yt)=>{X(Y,yt),Y.backgroundSize=`${F.width}px ${F.height}px`,Y.backgroundRepeat="no-repeat"}}function Ml(t,s){return Ds(t,`background-position-${s.substr(-1)}`,"")}function Pl(t,s,a){return function(u,y){for(const v of t){const T=fs(a[v],y);u[`background-position-${v.substr(-1)}`]=`calc(${s[v]} + ${T}px)`}}}const va={};function ou(t){const s=U(t,"backgroundImage").replace(/^none|url\(["']?(.+?)["']?\)$/,"$1");if(va[s])return va[s];const a=new Image;return s&&(a.src=s,!a.naturalWidth)?(a.onload=()=>{va[s]=zl(a),I(t,R("load",!1))},zl(a)):va[s]=zl(a)}function zl(t){return{width:t.naturalWidth,height:t.naturalHeight}}function kr(t,s=Ht){const a=[],{length:u}=t;let y=0;for(let v=0;v<u;v++){let[T,z]=Me(t[v])?t[v].trim().split(" "):[t[v]];if(T=s(T),z=z?Ht(z)/100:null,v===0?z===null?z=0:z&&a.push([T,0]):v===u-1&&(z===null?z=1:z!==1&&(a.push([T,z]),z=1)),a.push([T,z]),z===null)y++;else if(y){const F=a[v-y-1][1],X=(z-F)/(y+1);for(let Y=y;Y>0;Y--)a[v-Y][1]=F+X*(y-Y+1);y=0}}return a}function Jc(t,s){const a=Te(t.slice(1),([,u])=>s<=u)+1;return[t[a-1][0],t[a][0],(s-t[a-1][1])/(t[a][1]-t[a-1][1])]}function fs(t,s){const[a,u,y]=Jc(t,s);return Ui(a)?a+Math.abs(a-u)*y*(a<u?1:-1):+u}const au=/^-?\d+(\S+)?/;function Ho(t,s){for(const a of t){const u=a.match==null?void 0:a.match(au);if(u)return u[1]}return s}function Ds(t,s,a){const u=t.style[s],y=U(U(t,s,a),s);return t.style[s]=u,y}function Qc(t,s){return t.reduce((a,u)=>(a[u]=s,a),{})}var lu={mixins:[Il,bn,xr],props:{target:String,viewport:Number,easing:Number,start:String,end:String},data:{target:!1,viewport:1,easing:1,start:0,end:0},computed:{target({target:t},s){return yc(t&&Pe(t,s)||s)},start({start:t}){return sn(t,"height",this.target,!0)},end({end:t,viewport:s}){return sn(t||(s=(1-s)*100)&&`${s}vh+${s}%`,"height",this.target,!0)}},resizeTargets(){return[this.$el,this.target]},update:{read({percent:t},s){if(s.has("scroll")||(t=!1),!pe(this.$el))return!1;if(!this.matchMedia)return;const a=t;return t=cu(Lo(this.target,this.start,this.end),this.easing),{percent:t,style:a===t?!1:this.getCss(t)}},write({style:t}){if(!this.matchMedia){this.reset();return}t&&U(this.$el,t)},events:["scroll","resize"]}};function cu(t,s){return s>=0?Math.pow(t,s+1):1-Math.pow(1-t,1-s)}function yc(t){return t?"offsetTop"in t?t:yc(we(t)):document.documentElement}var _c={update:{write(){if(this.stack.length||this.dragging)return;const t=this.getValidIndex(this.index);!~this.prevIndex||this.index!==t?this.show(t):this._translate(1,this.prevIndex,this.index)},events:["resize"]}},th={mixins:[rs],connected(){this.lazyload(this.slides,this.getAdjacentSlides)}};function hu(t,s,a,{center:u,easing:y,list:v}){const T=new Ft,z=t?wo(t,v,u):wo(s,v,u)+le(s).width*a,F=s?wo(s,v,u):z+le(t).width*a*(Ci?-1:1);return{dir:a,show(X,Y=0,yt){const It=yt?"linear":y;return X-=Math.round(X*Qe(Y,-1,1)),this.translate(Y),Y=t?Y:Qe(Y,0,1),$l(this.getItemIn(),"itemin",{percent:Y,duration:X,timing:It,dir:a}),t&&$l(this.getItemIn(!0),"itemout",{percent:1-Y,duration:X,timing:It,dir:a}),ee.start(v,{transform:gi(-F*(Ci?-1:1),"px")},X,It).then(T.resolve,$e),T.promise},cancel(){ee.cancel(v)},reset(){U(v,"transform","")},forward(X,Y=this.percent()){return ee.cancel(v),this.show(X,Y,!0)},translate(X){const Y=this.getDistance()*a*(Ci?-1:1);U(v,"transform",gi(Qe(-F+(Y-Y*X),-bo(v),le(v).width)*(Ci?-1:1),"px"));const yt=this.getActives(),It=this.getItemIn(),Kt=this.getItemIn(!0);X=t?Qe(X,-1,1):0;for(const ke of Pt(v)){const si=kt(yt,ke),Je=ke===It,Tr=ke===Kt,Go=Je||!Tr&&(si||a*(Ci?-1:1)===-1^ko(ke,v)>ko(t||s));$l(ke,`itemtranslate${Go?"in":"out"}`,{dir:a,percent:Tr?1-X:Je?X:si?1:0})}},percent(){return Math.abs((U(v,"transform").split(",")[4]*(Ci?-1:1)+z)/(F-z))},getDistance(){return Math.abs(F-z)},getItemIn(X=!1){let Y=this.getActives(),yt=ih(v,wo(s||t,v,u));if(X){const It=Y;Y=yt,yt=It}return yt[Te(yt,It=>!kt(Y,It))]},getActives(){return ih(v,wo(t||s,v,u))}}}function wo(t,s,a){const u=ko(t,s);return a?u-Ll(t,s):Math.min(u,eh(s))}function eh(t){return Math.max(0,bo(t)-le(t).width)}function bo(t){return tn(Pt(t),s=>le(s).width)}function Ll(t,s){return le(s).width/2-le(t).width/2}function ko(t,s){return t&&(Yr(t).left+(Ci?le(t).width-le(s).width:0))*(Ci?-1:1)||0}function ih(t,s){s-=1;const a=le(t).width,u=s+a+2;return Pt(t).filter(y=>{const v=ko(y,t),T=v+Math.min(le(y).width,a);return v>=s&&T<=u})}function $l(t,s,a){I(t,R(s,!1,!1,a))}var uu={mixins:[Wi,Sl,_c,th],props:{center:Boolean,sets:Boolean},data:{center:!1,sets:!1,attrItem:"uk-slider-item",selList:".uk-slider-items",selNav:".uk-slider-nav",clsContainer:"uk-slider-container",Transitioner:hu},computed:{avgWidth(){return bo(this.list)/this.length},finite({finite:t}){return t||Dl(this.list,this.center)},maxIndex(){if(!this.finite||this.center&&!this.sets)return this.length-1;if(this.center)return zn(this.sets);let t=0;const s=eh(this.list),a=Te(this.slides,u=>{if(t>=s)return!0;t+=le(u).width});return~a?a:this.length-1},sets({sets:t}){if(!t)return;let s=0;const a=[],u=le(this.list).width;for(let y=0;y<this.length;y++){const v=le(this.slides[y]).width;s+v>u&&(s=0),this.center?s<u/2&&s+v+le(this.slides[+y+1]).width/2>u/2&&(a.push(+y),s=u/2-v/2):s===0&&a.push(Math.min(+y,this.maxIndex)),s+=v}if(a.length)return a},transitionOptions(){return{center:this.center,list:this.list}}},connected(){Re(this.$el,this.clsContainer,!ae(`.${this.clsContainer}`,this.$el))},update:{write(){for(const t of this.navItems){const s=ri(ie(t,this.attrItem));s!==!1&&(t.hidden=!this.maxIndex||s>this.maxIndex||this.sets&&!kt(this.sets,s))}this.length&&!this.dragging&&!this.stack.length&&(this.reorder(),this._translate(1)),this.updateActiveClasses()},events:["resize"]},events:{beforeitemshow(t){!this.dragging&&this.sets&&this.stack.length<2&&!kt(this.sets,this.index)&&(this.index=this.getValidIndex());const s=Math.abs(this.index-this.prevIndex+(this.dir>0&&this.index<this.prevIndex||this.dir<0&&this.index>this.prevIndex?(this.maxIndex+1)*this.dir:0));if(!this.dragging&&s>1){for(let u=0;u<s;u++)this.stack.splice(1,0,this.dir>0?"next":"previous");t.preventDefault();return}const a=this.dir<0||!this.slides[this.prevIndex]?this.index:this.prevIndex;this.duration=qo(this.avgWidth/this.velocity)*(le(this.slides[a]).width/this.avgWidth),this.reorder()},itemshow(){~this.prevIndex&&Nt(this._getTransitioner().getItemIn(),this.clsActive)},itemshown(){this.updateActiveClasses()}},methods:{reorder(){if(this.finite){U(this.slides,"order","");return}const t=this.dir>0&&this.slides[this.prevIndex]?this.prevIndex:this.index;if(this.slides.forEach((y,v)=>U(y,"order",this.dir>0&&v<t?1:this.dir<0&&v>=this.index?-1:"")),!this.center)return;const s=this.slides[t];let a=le(this.list).width/2-le(s).width/2,u=0;for(;a>0;){const y=this.getIndex(--u+t,t),v=this.slides[y];U(v,"order",y>t?-2:-1),a-=le(v).width}},updateActiveClasses(){const t=this._getTransitioner(this.index).getActives(),s=[this.clsActive,(!this.sets||kt(this.sets,Ht(this.index)))&&this.clsActivated||""];for(const a of this.slides)Re(a,s,kt(t,a))},getValidIndex(t=this.index,s=this.prevIndex){if(t=this.getIndex(t,s),!this.sets)return t;let a;do{if(kt(this.sets,t))return t;a=t,t=this.getIndex(t+this.dir,s)}while(t!==a);return t},getAdjacentSlides(){const{width:t}=le(this.list),s=-t,a=t*2,u=le(this.slides[this.index]).width,y=this.center?t/2-u/2:0,v=new Set;for(const T of[-1,1]){let z=y+(T>0?u:0),F=0;do{const X=this.slides[this.getIndex(this.index+T+F++*T)];z+=le(X).width*T,v.add(X)}while(this.length>F&&z>s&&z<a)}return Array.from(v)}}};function Dl(t,s){const{length:a}=t;if(a<2)return!0;const{width:u}=le(t);if(!s)return Math.ceil(bo(t))<Math.trunc(u+Mh(t));const y=Pt(t),v=Math.trunc(u/2);for(const T in y){const z=y[T],F=le(z).width,X=new Set([z]);let Y=0;for(const yt of[-1,1]){let It=F/2,Kt=0;for(;It<v;){const ke=y[Yt(+T+yt+Kt++*yt,y)];if(X.has(ke))return!0;It+=le(ke).width,X.add(ke)}Y=Math.max(Y,F/2+le(y[Yt(+T+yt,y)]).width/2-(It-v))}if(Y>tn(y.filter(yt=>!X.has(yt)),yt=>le(yt).width))return!0}return!1}function Mh(t){return Math.max(0,...Pt(t).map(s=>le(s).width))}var nh={mixins:[Il],data:{selItem:"!li"},beforeConnect(){this.item=Pe(this.selItem,this.$el)},disconnected(){this.item=null},events:[{name:"itemin itemout",self:!0,el(){return this.item},handler({type:t,detail:{percent:s,duration:a,timing:u,dir:y}}){Li.read(()=>{if(!this.matchMedia)return;const v=this.getCss(rh(t,y,s)),T=this.getCss(sh(t)?.5:y>0?1:0);Li.write(()=>{U(this.$el,v),ee.start(this.$el,T,a,u).catch($e)})})}},{name:"transitioncanceled transitionend",self:!0,el(){return this.item},handler(){ee.cancel(this.$el)}},{name:"itemtranslatein itemtranslateout",self:!0,el(){return this.item},handler({type:t,detail:{percent:s,dir:a}}){Li.read(()=>{if(!this.matchMedia){this.reset();return}const u=this.getCss(rh(t,a,s));Li.write(()=>U(this.$el,u))})}}]};function sh(t){return lt(t,"in")}function rh(t,s,a){return a/=2,sh(t)^s<0?a:1-a}var du={...Ha,fade:{show(){return[{opacity:0,zIndex:0},{zIndex:-1}]},percent(t){return 1-U(t,"opacity")},translate(t){return[{opacity:1-t,zIndex:0},{zIndex:-1}]}},scale:{show(){return[{opacity:0,transform:br(1+.5),zIndex:0},{zIndex:-1}]},percent(t){return 1-U(t,"opacity")},translate(t){return[{opacity:1-t,transform:br(1+.5*t),zIndex:0},{zIndex:-1}]}},pull:{show(t){return t<0?[{transform:gi(30),zIndex:-1},{transform:gi(),zIndex:0}]:[{transform:gi(-100),zIndex:0},{transform:gi(),zIndex:-1}]},percent(t,s,a){return a<0?1-_o(s):_o(t)},translate(t,s){return s<0?[{transform:gi(30*t),zIndex:-1},{transform:gi(-100*(1-t)),zIndex:0}]:[{transform:gi(-t*100),zIndex:0},{transform:gi(30*(1-t)),zIndex:-1}]}},push:{show(t){return t<0?[{transform:gi(100),zIndex:0},{transform:gi(),zIndex:-1}]:[{transform:gi(-30),zIndex:-1},{transform:gi(),zIndex:0}]},percent(t,s,a){return a>0?1-_o(s):_o(t)},translate(t,s){return s<0?[{transform:gi(t*100),zIndex:0},{transform:gi(-30*(1-t)),zIndex:-1}]:[{transform:gi(-30*t),zIndex:-1},{transform:gi(100*(1-t)),zIndex:0}]}}},pu={mixins:[Wi,Wc,_c,th],props:{ratio:String,minHeight:Number,maxHeight:Number},data:{ratio:"16:9",minHeight:!1,maxHeight:!1,selList:".uk-slideshow-items",attrItem:"uk-slideshow-item",selNav:".uk-slideshow-nav",Animations:du},update:{read(){if(!this.list)return!1;let[t,s]=this.ratio.split(":").map(Number);return s=s*this.list.offsetWidth/t||0,this.minHeight&&(s=Math.max(this.minHeight,s)),this.maxHeight&&(s=Math.min(this.maxHeight,s)),{height:s-hi(this.list,"height","content-box")}},write({height:t}){t>0&&U(this.list,"minHeight",t)},events:["resize"]},methods:{getAdjacentSlides(){return[1,-1].map(t=>this.slides[this.getIndex(this.index+t)])}}},fu={mixins:[Wi,Za],props:{group:String,threshold:Number,clsItem:String,clsPlaceholder:String,clsDrag:String,clsDragState:String,clsBase:String,clsNoDrag:String,clsEmpty:String,clsCustom:String,handle:String},data:{group:!1,threshold:5,clsItem:"uk-sortable-item",clsPlaceholder:"uk-sortable-placeholder",clsDrag:"uk-sortable-drag",clsDragState:"uk-drag",clsBase:"uk-sortable",clsNoDrag:"uk-sortable-nodrag",clsEmpty:"uk-sortable-empty",clsCustom:"",handle:!1,pos:{}},created(){for(const t of["init","start","move","end"]){const s=this[t];this[t]=a=>{Ye(this.pos,Ot(a)),s(a)}}},events:{name:un,passive:!1,handler:"init"},computed:{target(){return(this.$el.tBodies||[this.$el])[0]},items(){return Pt(this.target)},isEmpty:{get(){return gn(this.items)},watch(t){Re(this.target,this.clsEmpty,t)},immediate:!0},handles:{get({handle:t},s){return t?ei(t,s):this.items},watch(t,s){U(s,{touchAction:"",userSelect:""}),U(t,{touchAction:is?"none":"",userSelect:"none"})},immediate:!0}},update:{write(t){if(!this.drag||!we(this.placeholder))return;const{pos:{x:s,y:a},origin:{offsetTop:u,offsetLeft:y},placeholder:v}=this;U(this.drag,{top:a-u,left:s-y});const T=this.getSortable(document.elementFromPoint(s,a));if(!T)return;const{items:z}=T;if(z.some(ee.inProgress))return;const F=zh(z,{x:s,y:a});if(z.length&&(!F||F===v))return;const X=this.getSortable(v),Y=Lh(T.target,F,v,s,a,T===X&&t.moved!==F);Y!==!1&&(Y&&v===Y||(T!==X?(X.remove(v),t.moved=F):delete t.moved,T.insert(v,Y),this.touched.add(T)))},events:["move"]},methods:{init(t){const{target:s,button:a,defaultPrevented:u}=t,[y]=this.items.filter(v=>oe(s,v));!y||u||a>0||vt(s)||oe(s,`.${this.clsNoDrag}`)||this.handle&&!oe(s,this.handle)||(t.preventDefault(),this.touched=new Set([this]),this.placeholder=y,this.origin={target:s,index:Xe(y),...this.pos},_e(document,Dr,this.move),_e(document,Hn,this.end),this.threshold||this.start(t))},start(t){this.drag=Ph(this.$container,this.placeholder);const{left:s,top:a}=this.placeholder.getBoundingClientRect();Ye(this.origin,{offsetLeft:this.pos.x-s,offsetTop:this.pos.y-a}),Nt(this.drag,this.clsDrag,this.clsCustom),Nt(this.placeholder,this.clsPlaceholder),Nt(this.items,this.clsItem),Nt(document.documentElement,this.clsDragState),I(this.$el,"start",[this,this.placeholder]),oh(this.pos),this.move(t)},move(t){this.drag?this.$emit("move"):(Math.abs(this.pos.x-this.origin.x)>this.threshold||Math.abs(this.pos.y-this.origin.y)>this.threshold)&&this.start(t)},end(){if(In(document,Dr,this.move),In(document,Hn,this.end),!this.drag)return;mu();const t=this.getSortable(this.placeholder);this===t?this.origin.index!==Xe(this.placeholder)&&I(this.$el,"moved",[this,this.placeholder]):(I(t.$el,"added",[t,this.placeholder]),I(this.$el,"removed",[this,this.placeholder])),I(this.$el,"stop",[this,this.placeholder]),Vi(this.drag),this.drag=null;for(const{clsPlaceholder:s,clsItem:a}of this.touched)for(const u of this.touched)te(u.items,s,a);this.touched=null,te(document.documentElement,this.clsDragState)},insert(t,s){Nt(this.items,this.clsItem);const a=()=>s?zr(s,t):mi(this.target,t);this.animate(a)},remove(t){oe(t,this.target)&&this.animate(()=>Vi(t))},getSortable(t){do{const s=this.$getComponent(t,"sortable");if(s&&(s===this||this.group!==!1&&s.group===this.group))return s}while(t=we(t))}}};let xc;function oh(t){let s=Date.now();xc=setInterval(()=>{let{x:a,y:u}=t;u+=document.scrollingElement.scrollTop;const y=(Date.now()-s)*.3;s=Date.now(),rn(document.elementFromPoint(a,t.y)).reverse().some(v=>{let{scrollTop:T,scrollHeight:z}=v;const{top:F,bottom:X,height:Y}=Ni(v);if(F<u&&F+35>u)T-=y;else if(X>u&&X-35<u)T+=y;else return;if(T>0&&T<z-Y)return v.scrollTop=T,!0})},15)}function mu(){clearInterval(xc)}function Ph(t,s){let a;if(pn(s,"li","tr")){a=ae("<div>"),mi(a,s.cloneNode(!0).children);for(const u of s.getAttributeNames())bt(a,u,s.getAttribute(u))}else a=s.cloneNode(!0);return mi(t,a),U(a,"margin","0","important"),U(a,{boxSizing:"border-box",width:s.offsetWidth,height:s.offsetHeight,padding:U(s,"padding")}),Oi(a.firstElementChild,Oi(s.firstElementChild)),a}function zh(t,s){return t[Te(t,a=>at(s,a.getBoundingClientRect()))]}function Lh(t,s,a,u,y,v){if(!Pt(t).length)return;const T=s.getBoundingClientRect();if(!v)return gu(t,a)||y<T.top+T.height/2?s:s.nextElementSibling;const z=a.getBoundingClientRect(),F=ah([T.top,T.bottom],[z.top,z.bottom]),X=F?u:y,Y=F?"width":"height",yt=F?"left":"top",It=F?"right":"bottom",Kt=z[Y]<T[Y]?T[Y]-z[Y]:0;return z[yt]<T[yt]?Kt&&X<T[yt]+Kt?!1:s.nextElementSibling:Kt&&X>T[It]-Kt?!1:s}function gu(t,s){const a=Pt(t).length===1;a&&mi(t,s);const u=Pt(t),y=u.some((v,T)=>{const z=v.getBoundingClientRect();return u.slice(T+1).some(F=>{const X=F.getBoundingClientRect();return!ah([z.left,z.right],[X.left,X.right])})});return a&&Vi(s),y}function ah(t,s){return t[1]>s[0]&&s[1]>t[0]}var yu={mixins:[Ts,_n,Wn],args:"title",props:{delay:Number,title:String},data:{pos:"top",title:"",delay:0,animation:["uk-animation-scale-up"],duration:100,cls:"uk-active"},beforeConnect(){this.id=`uk-tooltip-${this._uid}`,this._hasTitle=jt(this.$el,"title"),bt(this.$el,{title:"","aria-describedby":this.id}),$h(this.$el)},disconnected(){this.hide(),bt(this.$el,"title")||bt(this.$el,"title",this._hasTitle?this.title:null)},methods:{show(){this.isToggled(this.tooltip||null)||!this.title||(this._unbind=Z(document,`keydown ${un}`,this.hide,!1,t=>t.type===un&&!oe(t.target,this.$el)||t.type==="keydown"&&t.keyCode===27),clearTimeout(this.showTimer),this.showTimer=setTimeout(this._show,this.delay))},async hide(){Oe(this.$el,"input:focus")||(clearTimeout(this.showTimer),this.isToggled(this.tooltip||null)&&(await this.toggleElement(this.tooltip,!1,!1),Vi(this.tooltip),this.tooltip=null,this._unbind()))},_show(){const[t]=rn(this.$el);this.tooltip=mi(oe(t,this.container)?t:this.container,`<div id="${this.id}" class="uk-${this.$options.name}" role="tooltip"> <div class="uk-${this.$options.name}-inner">${this.title}</div> </div>`),_e(this.tooltip,"toggled",(s,a)=>{if(!a)return;this.positionAt(this.tooltip,this.$el);const[u,y]=_u(this.tooltip,this.$el,this.pos);this.origin=this.axis==="y"?`${$r(u)}-${y}`:`${y}-${$r(u)}`}),this.toggleElement(this.tooltip,!0)}},events:{focus:"show",blur:"hide",[`${$n} ${Hs}`](t){Tt(t)||this[t.type===$n?"show":"hide"]()},[un](t){Tt(t)&&this.show()}}};function $h(t){en(t)||bt(t,"tabindex","0")}function _u(t,s,[a,u]){const y=He(t),v=He(s),T=[["left","right"],["top","bottom"]];for(const F of T){if(y[F[0]]>=v[F[1]]){a=F[1];break}if(y[F[1]]<=v[F[0]]){a=F[0];break}}const z=kt(T[0],a)?T[1]:T[0];return y[z[0]]===v[z[0]]?u=z[0]:y[z[1]]===v[z[1]]?u=z[1]:u="center",[a,u]}var xu={props:{allow:String,clsDragover:String,concurrent:Number,maxSize:Number,method:String,mime:String,msgInvalidMime:String,msgInvalidName:String,msgInvalidSize:String,multiple:Boolean,name:String,params:Object,type:String,url:String},data:{allow:!1,clsDragover:"uk-dragover",concurrent:1,maxSize:0,method:"POST",mime:!1,msgInvalidMime:"Invalid File Type: %s",msgInvalidName:"Invalid File Name: %s",msgInvalidSize:"Invalid File Size: %s Kilobytes Max",multiple:!1,name:"files[]",params:{},type:"",url:"",abort:$e,beforeAll:$e,beforeSend:$e,complete:$e,completeAll:$e,error:$e,fail:$e,load:$e,loadEnd:$e,loadStart:$e,progress:$e},events:{change(t){Oe(t.target,'input[type="file"]')&&(t.preventDefault(),t.target.files&&this.upload(t.target.files),t.target.value="")},drop(t){To(t);const s=t.dataTransfer;s!=null&&s.files&&(te(this.$el,this.clsDragover),this.upload(s.files))},dragenter(t){To(t)},dragover(t){To(t),Nt(this.$el,this.clsDragover)},dragleave(t){To(t),te(this.$el,this.clsDragover)}},methods:{async upload(t){if(t=Pi(t),!t.length)return;I(this.$el,"upload",[t]);for(const u of t){if(this.maxSize&&this.maxSize*1e3<u.size){this.fail(this.msgInvalidSize.replace("%s",this.maxSize));return}if(this.allow&&!wa(this.allow,u.name)){this.fail(this.msgInvalidName.replace("%s",this.allow));return}if(this.mime&&!wa(this.mime,u.type)){this.fail(this.msgInvalidMime.replace("%s",this.mime));return}}this.multiple||(t=t.slice(0,1)),this.beforeAll(this,t);const s=qn(t,this.concurrent),a=async u=>{const y=new FormData;u.forEach(v=>y.append(this.name,v));for(const v in this.params)y.append(v,this.params[v]);try{const v=await Mt(this.url,{data:y,method:this.method,responseType:this.type,beforeSend:T=>{const{xhr:z}=T;z.upload&&_e(z.upload,"progress",this.progress);for(const F of["loadStart","load","loadEnd","abort"])_e(z,F.toLowerCase(),this[F]);return this.beforeSend(T)}});this.complete(v),s.length?await a(s.shift()):this.completeAll(v)}catch(v){this.error(v)}};await a(s.shift())}}};function wa(t,s){return s.match(new RegExp(`^${t.replace(/\//g,"\\/").replace(/\*\*/g,"(\\/[^\\/]+)*").replace(/\*/g,"[^\\/]+").replace(/((?!\\))\?/g,"$1.")}$`,"i"))}function qn(t,s){const a=[];for(let u=0;u<t.length;u+=s)a.push(t.slice(u,u+s));return a}function To(t){t.preventDefault(),t.stopPropagation()}var Dh=Object.freeze({__proto__:null,Countdown:ja,Filter:Th,Lightbox:Eh,LightboxPanel:mn,Notification:El,Parallax:lu,Slider:uu,SliderParallax:nh,Slideshow:pu,SlideshowParallax:nh,Sortable:fu,Tooltip:yu,Upload:xu});return Gi(Dh,(t,s)=>Ei.component(s,t)),Ei})})(Y1);const J1=sp;var rp={},Q1={get exports(){return rp},set exports(g){rp=g}};(function(g,k){(function(M,D){g.exports=D()})(_d,function(){var M,D,N;function G(h,ut){if(!M)M=ut;else if(!D)D=ut;else{var St="var sharedChunk = {}; ("+M+")(sharedChunk); ("+D+")(sharedChunk);",Bt={};M(Bt),N=ut(Bt),typeof window<"u"&&(N.workerUrl=window.URL.createObjectURL(new Blob([St],{type:"text/javascript"})))}}G(["exports"],function(h){var ut=St;function St(n,e,r,l){this.cx=3*n,this.bx=3*(r-n)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(l-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=n,this.p1y=e,this.p2x=r,this.p2y=l}function Bt(n,e,r,l){const p=new ut(n,e,r,l);return function(m){return p.solve(m)}}St.prototype={sampleCurveX:function(n){return((this.ax*n+this.bx)*n+this.cx)*n},sampleCurveY:function(n){return((this.ay*n+this.by)*n+this.cy)*n},sampleCurveDerivativeX:function(n){return(3*this.ax*n+2*this.bx)*n+this.cx},solveCurveX:function(n,e){if(e===void 0&&(e=1e-6),n<0)return 0;if(n>1)return 1;for(var r=n,l=0;l<8;l++){var p=this.sampleCurveX(r)-n;if(Math.abs(p)<e)return r;var m=this.sampleCurveDerivativeX(r);if(Math.abs(m)<1e-6)break;r-=p/m}var x=0,b=1;for(r=n,l=0;l<20&&(p=this.sampleCurveX(r),!(Math.abs(p-n)<e));l++)n>p?x=r:b=r,r=.5*(b-x)+x;return r},solve:function(n,e){return this.sampleCurveY(this.solveCurveX(n,e))}};const Lt=Bt(.25,.1,.25,1);function lt(n,e,r){return Math.min(r,Math.max(e,n))}function kt(n,e,r){const l=r-e,p=((n-e)%l+l)%l+e;return p===e?r:p}function Te(n,...e){for(const r of e)for(const l in r)n[l]=r[l];return n}let Xt=1;function Pi(n,e){n.forEach(r=>{e[r]&&(e[r]=e[r].bind(e))})}function Ye(n,e,r){const l={};for(const p in n)l[p]=e.call(r||this,n[p],p,n);return l}function li(n,e,r){const l={};for(const p in n)e.call(r||this,n[p],p,n)&&(l[p]=n[p]);return l}function Ce(n){return Array.isArray(n)?n.map(Ce):typeof n=="object"&&n?Ye(n,Ce):n}const ti={};function ii(n){ti[n]||(typeof console<"u"&&console.warn(n),ti[n]=!0)}function dn(n,e,r){return(r.y-n.y)*(e.x-n.x)>(e.y-n.y)*(r.x-n.x)}function wn(n){let e=0;for(let r,l,p=0,m=n.length,x=m-1;p<m;x=p++)r=n[p],l=n[x],e+=(l.x-r.x)*(r.y+l.y);return e}function Ne(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Xi(n){const e={};if(n.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(r,l,p,m)=>{const x=p||m;return e[l]=!x||x.toLowerCase(),""}),e["max-age"]){const r=parseInt(e["max-age"],10);isNaN(r)?delete e["max-age"]:e["max-age"]=r}return e}let xi,Me,Ui=null;function Hi(n){if(Ui==null){const e=n.navigator?n.navigator.userAgent:null;Ui=!!n.safari||!(!e||!(/\b(iPad|iPhone|iPod)\b/.test(e)||e.match("Safari")&&!e.match("Chrome")))}return Ui}function gn(n){return typeof ImageBitmap<"u"&&n instanceof ImageBitmap}const oi={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(n){const e=requestAnimationFrame(n);return{cancel:()=>cancelAnimationFrame(e)}},getImageData(n,e=0){const r=window.document.createElement("canvas"),l=r.getContext("2d");if(!l)throw new Error("failed to create canvas 2d context");return r.width=n.width,r.height=n.height,l.drawImage(n,0,0,n.width,n.height),l.getImageData(-e,-e,n.width+2*e,n.height+2*e)},resolveURL:n=>(xi||(xi=document.createElement("a")),xi.href=n,xi.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(Me==null&&(Me=matchMedia("(prefers-reduced-motion: reduce)")),Me.matches)}};var ve=ri;function ri(n,e){this.x=n,this.y=e}ri.prototype={clone:function(){return new ri(this.x,this.y)},add:function(n){return this.clone()._add(n)},sub:function(n){return this.clone()._sub(n)},multByPoint:function(n){return this.clone()._multByPoint(n)},divByPoint:function(n){return this.clone()._divByPoint(n)},mult:function(n){return this.clone()._mult(n)},div:function(n){return this.clone()._div(n)},rotate:function(n){return this.clone()._rotate(n)},rotateAround:function(n,e){return this.clone()._rotateAround(n,e)},matMult:function(n){return this.clone()._matMult(n)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(n){return this.x===n.x&&this.y===n.y},dist:function(n){return Math.sqrt(this.distSqr(n))},distSqr:function(n){var e=n.x-this.x,r=n.y-this.y;return e*e+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(n){return Math.atan2(this.y-n.y,this.x-n.x)},angleWith:function(n){return this.angleWithSep(n.x,n.y)},angleWithSep:function(n,e){return Math.atan2(this.x*e-this.y*n,this.x*n+this.y*e)},_matMult:function(n){var e=n[2]*this.x+n[3]*this.y;return this.x=n[0]*this.x+n[1]*this.y,this.y=e,this},_add:function(n){return this.x+=n.x,this.y+=n.y,this},_sub:function(n){return this.x-=n.x,this.y-=n.y,this},_mult:function(n){return this.x*=n,this.y*=n,this},_div:function(n){return this.x/=n,this.y/=n,this},_multByPoint:function(n){return this.x*=n.x,this.y*=n.y,this},_divByPoint:function(n){return this.x/=n.x,this.y/=n.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var n=this.y;return this.y=this.x,this.x=-n,this},_rotate:function(n){var e=Math.cos(n),r=Math.sin(n),l=r*this.x+e*this.y;return this.x=e*this.x-r*this.y,this.y=l,this},_rotateAround:function(n,e){var r=Math.cos(n),l=Math.sin(n),p=e.y+l*(this.x-e.x)+r*(this.y-e.y);return this.x=e.x+r*(this.x-e.x)-l*(this.y-e.y),this.y=p,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},ri.convert=function(n){return n instanceof ri?n:Array.isArray(n)?new ri(n[0],n[1]):n};const Ht={MAX_PARALLEL_IMAGE_REQUESTS:16,REGISTERED_PROTOCOLS:{}},je="mapbox-tiles";let ne,Ji,Qi=500,ys=50;function zn(){typeof caches>"u"||ne||(ne=caches.open(je))}let Gi=1/0;const hn={supported:!1,testSupport:function(n){!Qe&&_s&&($e?xs(n):tn=n)}};let tn,_s,Qe=!1,$e=!1;function xs(n){const e=n.createTexture();n.bindTexture(n.TEXTURE_2D,e);try{if(n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,_s),n.isContextLost())return;hn.supported=!0}catch{}n.deleteTexture(e),Qe=!0}typeof document<"u"&&(_s=document.createElement("img"),_s.onload=function(){tn&&xs(tn),tn=null,$e=!0},_s.onerror=function(){Qe=!0,tn=null},_s.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const at={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(at);class ft extends Error{constructor(e,r,l,p){super(`AJAXError: ${r} (${e}): ${l}`),this.status=e,this.statusText=r,this.url=l,this.body=p}}const Rt=Ne()?()=>self.worker&&self.worker.referrer:()=>(window.location.protocol==="blob:"?window.parent:window).location.href;function Gt(n,e){const r=new AbortController,l=new Request(n.url,{method:n.method||"GET",body:n.body,credentials:n.credentials,headers:n.headers,referrer:Rt(),signal:r.signal});let p=!1,m=!1;return n.type==="json"&&l.headers.set("Accept","application/json"),((x,b,C)=>{if(m)return;const A=Date.now();fetch(l).then(L=>L.ok?((B,V,q)=>{(n.type==="arrayBuffer"?B.arrayBuffer():n.type==="json"?B.json():B.text()).then(H=>{m||(V&&q&&function(st,nt,_t){if(zn(),!ne)return;const At={status:nt.status,statusText:nt.statusText,headers:new Headers};nt.headers.forEach((Ct,Vt)=>At.headers.set(Vt,Ct));const gt=Xi(nt.headers.get("Cache-Control")||"");gt["no-store"]||(gt["max-age"]&&At.headers.set("Expires",new Date(_t+1e3*gt["max-age"]).toUTCString()),new Date(At.headers.get("Expires")).getTime()-_t<42e4||function(Ct,Vt){if(Ji===void 0)try{new Response(new ReadableStream),Ji=!0}catch{Ji=!1}Ji?Vt(Ct.body):Ct.blob().then(Vt)}(nt,Ct=>{const Vt=new Response(Ct,At);zn(),ne&&ne.then(Ut=>Ut.put(function(be){const De=be.indexOf("?");return De<0?be:be.slice(0,De)}(st.url),Vt)).catch(Ut=>ii(Ut.message))}))}(l,V,q),p=!0,e(null,H,B.headers.get("Cache-Control"),B.headers.get("Expires")))}).catch(H=>{m||e(new Error(H.message))})})(L,null,A):L.blob().then(B=>e(new ft(L.status,L.statusText,n.url,B)))).catch(L=>{L.code!==20&&e(new Error(L.message))})})(),{cancel:()=>{m=!0,p||r.abort()}}}const qt=function(n,e){if(/:\/\//.test(n.url)&&!/^https?:|^file:/.test(n.url)){if(Ne()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",n,e);if(!Ne()){const l=n.url.substring(0,n.url.indexOf("://"));return(Ht.REGISTERED_PROTOCOLS[l]||Gt)(n,e)}}if(!(/^file:/.test(r=n.url)||/^file:/.test(Rt())&&!/^\w+:/.test(r))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return Gt(n,e);if(Ne()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",n,e,void 0,!0)}var r;return function(l,p){const m=new XMLHttpRequest;m.open(l.method||"GET",l.url,!0),l.type==="arrayBuffer"&&(m.responseType="arraybuffer");for(const x in l.headers)m.setRequestHeader(x,l.headers[x]);return l.type==="json"&&(m.responseType="text",m.setRequestHeader("Accept","application/json")),m.withCredentials=l.credentials==="include",m.onerror=()=>{p(new Error(m.statusText))},m.onload=()=>{if((m.status>=200&&m.status<300||m.status===0)&&m.response!==null){let x=m.response;if(l.type==="json")try{x=JSON.parse(m.response)}catch(b){return p(b)}p(null,x,m.getResponseHeader("Cache-Control"),m.getResponseHeader("Expires"))}else{const x=new Blob([m.response],{type:m.getResponseHeader("Content-Type")});p(new ft(m.status,m.statusText,l.url,x))}},m.send(l.body),{cancel:()=>m.abort()}}(n,e)},Yt=function(n,e){return qt(Te(n,{type:"arrayBuffer"}),e)};function Qt(n){const e=window.document.createElement("a");return e.href=n,e.protocol===window.document.location.protocol&&e.host===window.document.location.host}const Ft="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let bt,jt;bt=[],jt=0;const Se=function(n,e){if(hn.supported&&(n.headers||(n.headers={}),n.headers.accept="image/webp,*/*"),jt>=Ht.MAX_PARALLEL_IMAGE_REQUESTS){const m={requestParameters:n,callback:e,cancelled:!1,cancel(){this.cancelled=!0}};return bt.push(m),m}jt++;let r=!1;const l=()=>{if(!r)for(r=!0,jt--;bt.length&&jt<Ht.MAX_PARALLEL_IMAGE_REQUESTS;){const m=bt.shift(),{requestParameters:x,callback:b,cancelled:C}=m;C||(m.cancel=Se(x,b).cancel)}},p=Yt(n,(m,x,b,C)=>{l(),m?e(m):x&&function(A,L){typeof createImageBitmap=="function"?function(B,V){const q=new Blob([new Uint8Array(B)],{type:"image/png"});createImageBitmap(q).then(H=>{V(null,H)}).catch(H=>{V(new Error(`Could not load image because of ${H.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(A,L):function(B,V){const q=new Image;q.onload=()=>{V(null,q),URL.revokeObjectURL(q.src),q.onload=null,window.requestAnimationFrame(()=>{q.src=Ft})},q.onerror=()=>V(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const H=new Blob([new Uint8Array(B)],{type:"image/png"});q.src=B.byteLength?URL.createObjectURL(H):Ft}(A,L)}(x,(A,L)=>{A!=null?e(A):L!=null&&e(null,L,{cacheControl:b,expires:C})})});return{cancel:()=>{p.cancel(),l()}}};function ie(n,e,r){r[n]&&r[n].indexOf(e)!==-1||(r[n]=r[n]||[],r[n].push(e))}function Be(n,e,r){if(r&&r[n]){const l=r[n].indexOf(e);l!==-1&&r[n].splice(l,1)}}class Ve{constructor(e,r={}){Te(this,r),this.type=e}}class pe extends Ve{constructor(e,r={}){super("error",Te({error:e},r))}}class ci{on(e,r){return this._listeners=this._listeners||{},ie(e,r,this._listeners),this}off(e,r){return Be(e,r,this._listeners),Be(e,r,this._oneTimeListeners),this}once(e,r){return this._oneTimeListeners=this._oneTimeListeners||{},ie(e,r,this._oneTimeListeners),this}fire(e,r){typeof e=="string"&&(e=new Ve(e,r||{}));const l=e.type;if(this.listens(l)){e.target=this;const p=this._listeners&&this._listeners[l]?this._listeners[l].slice():[];for(const b of p)b.call(this,e);const m=this._oneTimeListeners&&this._oneTimeListeners[l]?this._oneTimeListeners[l].slice():[];for(const b of m)Be(l,b,this._oneTimeListeners),b.call(this,e);const x=this._eventedParent;x&&(Te(e,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),x.fire(e))}else e instanceof pe&&console.error(e.error);return this}listens(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)}setEventedParent(e,r){return this._eventedParent=e,this._eventedParentData=r,this}}var vt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1},elevationOffset:{type:"number",default:450}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};class Zt{constructor(e,r,l,p){this.message=(e?`${e}: `:"")+l,p&&(this.identifier=p),r!=null&&r.__line__&&(this.line=r.__line__)}}function en(n){const e=n.value;return e?[new Zt(n.key,e,"constants have been deprecated as of v8")]:[]}function we(n,...e){for(const r of e)for(const l in r)n[l]=r[l];return n}function ai(n){return n instanceof Number||n instanceof String||n instanceof Boolean?n.valueOf():n}function Oe(n){if(Array.isArray(n))return n.map(Oe);if(n instanceof Object&&!(n instanceof Number||n instanceof String||n instanceof Boolean)){const e={};for(const r in n)e[r]=Oe(n[r]);return e}return ai(n)}class fi extends Error{constructor(e,r){super(r),this.message=r,this.key=e}}class oe{constructor(e,r=[]){this.parent=e,this.bindings={};for(const[l,p]of r)this.bindings[l]=p}concat(e){return new oe(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}const Zi={kind:"null"},Pt={kind:"number"},Xe={kind:"string"},Pe={kind:"boolean"},nn={kind:"color"},Ss={kind:"object"},qe={kind:"value"},pr={kind:"collator"},Tn={kind:"formatted"},Pr={kind:"padding"},Cn={kind:"resolvedImage"};function Qn(n,e){return{kind:"array",itemType:n,N:e}}function Ri(n){if(n.kind==="array"){const e=Ri(n.itemType);return typeof n.N=="number"?`array<${e}, ${n.N}>`:n.itemType.kind==="value"?"array":`array<${e}>`}return n.kind}const Ao=[Zi,Pt,Xe,Pe,nn,Tn,Ss,Qn(qe),Pr,Cn];function tr(n,e){if(e.kind==="error")return null;if(n.kind==="array"){if(e.kind==="array"&&(e.N===0&&e.itemType.kind==="value"||!tr(n.itemType,e.itemType))&&(typeof n.N!="number"||n.N===e.N))return null}else{if(n.kind===e.kind)return null;if(n.kind==="value"){for(const r of Ao)if(!tr(r,e))return null}}return`Expected ${Ri(n)} but found ${Ri(e)} instead.`}function Kr(n,e){return e.some(r=>r.kind===n.kind)}function Us(n,e){return e.some(r=>r==="null"?n===null:r==="array"?Array.isArray(n):r==="object"?n&&!Array.isArray(n)&&typeof n=="object":r===typeof n)}var _e,In={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Z(n){return(n=Math.round(n))<0?0:n>255?255:n}function I(n){return Z(n[n.length-1]==="%"?parseFloat(n)/100*255:parseInt(n))}function R(n){return(e=n[n.length-1]==="%"?parseFloat(n)/100:parseFloat(n))<0?0:e>1?1:e;var e}function W(n,e,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?n+(e-n)*r*6:2*r<1?e:3*r<2?n+(e-n)*(2/3-r)*6:n}try{_e={}.parseCSSColor=function(n){var e,r=n.replace(/ /g,"").toLowerCase();if(r in In)return In[r].slice();if(r[0]==="#")return r.length===4?(e=parseInt(r.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:r.length===7&&(e=parseInt(r.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var l=r.indexOf("("),p=r.indexOf(")");if(l!==-1&&p+1===r.length){var m=r.substr(0,l),x=r.substr(l+1,p-(l+1)).split(","),b=1;switch(m){case"rgba":if(x.length!==4)return null;b=R(x.pop());case"rgb":return x.length!==3?null:[I(x[0]),I(x[1]),I(x[2]),b];case"hsla":if(x.length!==4)return null;b=R(x.pop());case"hsl":if(x.length!==3)return null;var C=(parseFloat(x[0])%360+360)%360/360,A=R(x[1]),L=R(x[2]),B=L<=.5?L*(A+1):L+A-L*A,V=2*L-B;return[Z(255*W(V,B,C+1/3)),Z(255*W(V,B,C)),Z(255*W(V,B,C-1/3)),b];default:return null}}return null}}catch{}class K{constructor(e,r,l,p=1){this.r=e,this.g=r,this.b=l,this.a=p}static parse(e){if(!e)return;if(e instanceof K)return e;if(typeof e!="string")return;const r=_e(e);return r?new K(r[0]/255*r[3],r[1]/255*r[3],r[2]/255*r[3],r[3]):void 0}toString(){const[e,r,l,p]=this.toArray();return`rgba(${Math.round(e)},${Math.round(r)},${Math.round(l)},${p})`}toArray(){const{r:e,g:r,b:l,a:p}=this;return p===0?[0,0,0,0]:[255*e/p,255*r/p,255*l/p,p]}}K.black=new K(0,0,0,1),K.white=new K(1,1,1,1),K.transparent=new K(0,0,0,0),K.red=new K(1,0,0,1);class rt{constructor(e,r,l){this.sensitivity=e?r?"variant":"case":r?"accent":"base",this.locale=l,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,r){return this.collator.compare(e,r)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class dt{constructor(e,r,l,p,m){this.text=e,this.image=r,this.scale=l,this.fontStack=p,this.textColor=m}}class ct{constructor(e){this.sections=e}static fromString(e){return new ct([new dt(e,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(e=>e.text.length!==0||e.image&&e.image.name.length!==0)}static factory(e){return e instanceof ct?e:ct.fromString(e)}toString(){return this.sections.length===0?"":this.sections.map(e=>e.text).join("")}}class ot{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof ot)return e;if(typeof e=="number")return new ot([e,e,e,e]);if(Array.isArray(e)&&!(e.length<1||e.length>4)){for(const r of e)if(typeof r!="number")return;switch(e.length){case 1:e=[e[0],e[0],e[0],e[0]];break;case 2:e=[e[0],e[1],e[0],e[1]];break;case 3:e=[e[0],e[1],e[2],e[1]]}return new ot(e)}}toString(){return JSON.stringify(this.values)}}class pt{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new pt({name:e,available:!1}):null}}function Tt(n,e,r,l){return typeof n=="number"&&n>=0&&n<=255&&typeof e=="number"&&e>=0&&e<=255&&typeof r=="number"&&r>=0&&r<=255?l===void 0||typeof l=="number"&&l>=0&&l<=1?null:`Invalid rgba value [${[n,e,r,l].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof l=="number"?[n,e,r,l]:[n,e,r]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Ot(n){if(n===null||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||n instanceof K||n instanceof rt||n instanceof ct||n instanceof ot||n instanceof pt)return!0;if(Array.isArray(n)){for(const e of n)if(!Ot(e))return!1;return!0}if(typeof n=="object"){for(const e in n)if(!Ot(n[e]))return!1;return!0}return!1}function Mt(n){if(n===null)return Zi;if(typeof n=="string")return Xe;if(typeof n=="boolean")return Pe;if(typeof n=="number")return Pt;if(n instanceof K)return nn;if(n instanceof rt)return pr;if(n instanceof ct)return Tn;if(n instanceof ot)return Pr;if(n instanceof pt)return Cn;if(Array.isArray(n)){const e=n.length;let r;for(const l of n){const p=Mt(l);if(r){if(r===p)continue;r=qe;break}r=p}return Qn(r||qe,e)}return Ss}function Ee(n){const e=typeof n;return n===null?"":e==="string"||e==="number"||e==="boolean"?String(n):n instanceof K||n instanceof ct||n instanceof ot||n instanceof pt?n.toString():JSON.stringify(n)}class Ie{constructor(e,r){this.type=e,this.value=r}static parse(e,r){if(e.length!==2)return r.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!Ot(e[1]))return r.error("invalid value");const l=e[1];let p=Mt(l);const m=r.expectedType;return p.kind!=="array"||p.N!==0||!m||m.kind!=="array"||typeof m.N=="number"&&m.N!==0||(p=m),new Ie(p,l)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class ue{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}}const U={string:Xe,number:Pt,boolean:Pe,object:Ss};class Ze{constructor(e,r){this.type=e,this.args=r}static parse(e,r){if(e.length<2)return r.error("Expected at least one argument.");let l,p=1;const m=e[0];if(m==="array"){let b,C;if(e.length>2){const A=e[1];if(typeof A!="string"||!(A in U)||A==="object")return r.error('The item type argument of "array" must be one of string, number, boolean',1);b=U[A],p++}else b=qe;if(e.length>3){if(e[2]!==null&&(typeof e[2]!="number"||e[2]<0||e[2]!==Math.floor(e[2])))return r.error('The length argument to "array" must be a positive integer literal',2);C=e[2],p++}l=Qn(b,C)}else{if(!U[m])throw new Error(`Types doesn't contain name = ${m}`);l=U[m]}const x=[];for(;p<e.length;p++){const b=r.parse(e[p],p,qe);if(!b)return null;x.push(b)}return new Ze(l,x)}evaluate(e){for(let r=0;r<this.args.length;r++){const l=this.args[r].evaluate(e);if(!tr(this.type,Mt(l)))return l;if(r===this.args.length-1)throw new ue(`Expected value to be of type ${Ri(this.type)}, but found ${Ri(Mt(l))} instead.`)}throw new Error}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}const Ti={"to-boolean":Pe,"to-color":nn,"to-number":Pt,"to-string":Xe};class Nt{constructor(e,r){this.type=e,this.args=r}static parse(e,r){if(e.length<2)return r.error("Expected at least one argument.");const l=e[0];if(!Ti[l])throw new Error(`Can't parse ${l} as it is not part of the known types`);if((l==="to-boolean"||l==="to-string")&&e.length!==2)return r.error("Expected one argument.");const p=Ti[l],m=[];for(let x=1;x<e.length;x++){const b=r.parse(e[x],x,qe);if(!b)return null;m.push(b)}return new Nt(p,m)}evaluate(e){if(this.type.kind==="boolean")return Boolean(this.args[0].evaluate(e));if(this.type.kind==="color"){let r,l;for(const p of this.args){if(r=p.evaluate(e),l=null,r instanceof K)return r;if(typeof r=="string"){const m=e.parseColor(r);if(m)return m}else if(Array.isArray(r)&&(l=r.length<3||r.length>4?`Invalid rbga value ${JSON.stringify(r)}: expected an array containing either three or four numeric values.`:Tt(r[0],r[1],r[2],r[3]),!l))return new K(r[0]/255,r[1]/255,r[2]/255,r[3])}throw new ue(l||`Could not parse color from value '${typeof r=="string"?r:JSON.stringify(r)}'`)}if(this.type.kind==="padding"){let r;for(const l of this.args){r=l.evaluate(e);const p=ot.parse(r);if(p)return p}throw new ue(`Could not parse padding from value '${typeof r=="string"?r:JSON.stringify(r)}'`)}if(this.type.kind==="number"){let r=null;for(const l of this.args){if(r=l.evaluate(e),r===null)return 0;const p=Number(r);if(!isNaN(p))return p}throw new ue(`Could not convert ${JSON.stringify(r)} to number.`)}return this.type.kind==="formatted"?ct.fromString(Ee(this.args[0].evaluate(e))):this.type.kind==="resolvedImage"?pt.fromString(Ee(this.args[0].evaluate(e))):Ee(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}const te=["Unknown","Point","LineString","Polygon"];class yi{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?te[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(e){let r=this._parseColorCache[e];return r||(r=this._parseColorCache[e]=K.parse(e)),r}}class zi{constructor(e,r,l,p){this.name=e,this.type=r,this._evaluate=l,this.args=p}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}static parse(e,r){const l=e[0],p=zi.definitions[l];if(!p)return r.error(`Unknown expression "${l}". If you wanted a literal array, use ["literal", [...]].`,0);const m=Array.isArray(p)?p[0]:p.type,x=Array.isArray(p)?[[p[1],p[2]]]:p.overloads,b=x.filter(([A])=>!Array.isArray(A)||A.length===e.length-1);let C=null;for(const[A,L]of b){C=new ls(r.registry,r.path,null,r.scope);const B=[];let V=!1;for(let q=1;q<e.length;q++){const H=e[q],st=Array.isArray(A)?A[q-1]:A.type,nt=C.parse(H,1+B.length,st);if(!nt){V=!0;break}B.push(nt)}if(!V)if(Array.isArray(A)&&A.length!==B.length)C.error(`Expected ${A.length} arguments, but found ${B.length} instead.`);else{for(let q=0;q<B.length;q++){const H=Array.isArray(A)?A[q]:A.type,st=B[q];C.concat(q+1).checkSubtype(H,st.type)}if(C.errors.length===0)return new zi(l,m,L,B)}}if(b.length===1)r.errors.push(...C.errors);else{const A=(b.length?b:x).map(([B])=>{return V=B,Array.isArray(V)?`(${V.map(Ri).join(", ")})`:`(${Ri(V.type)}...)`;var V}).join(" | "),L=[];for(let B=1;B<e.length;B++){const V=r.parse(e[B],1+L.length);if(!V)return null;L.push(Ri(V.type))}r.error(`Expected arguments of type ${A}, but found (${L.join(", ")}) instead.`)}return null}static register(e,r){zi.definitions=r;for(const l in r)e[l]=zi}}class Ae{constructor(e,r,l){this.type=pr,this.locale=l,this.caseSensitive=e,this.diacriticSensitive=r}static parse(e,r){if(e.length!==2)return r.error("Expected one argument.");const l=e[1];if(typeof l!="object"||Array.isArray(l))return r.error("Collator options argument must be an object.");const p=r.parse(l["case-sensitive"]!==void 0&&l["case-sensitive"],1,Pe);if(!p)return null;const m=r.parse(l["diacritic-sensitive"]!==void 0&&l["diacritic-sensitive"],1,Pe);if(!m)return null;let x=null;return l.locale&&(x=r.parse(l.locale,1,Xe),!x)?null:new Ae(p,m,x)}evaluate(e){return new rt(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}}const Re=8192;function Ln(n,e){n[0]=Math.min(n[0],e[0]),n[1]=Math.min(n[1],e[1]),n[2]=Math.max(n[2],e[0]),n[3]=Math.max(n[3],e[1])}function er(n,e){return!(n[0]<=e[0]||n[2]>=e[2]||n[1]<=e[1]||n[3]>=e[3])}function ta(n,e){const r=(180+n[0])/360,l=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+n[1]*Math.PI/360)))/360,p=Math.pow(2,e.z);return[Math.round(r*p*Re),Math.round(l*p*Re)]}function ee(n,e,r){const l=n[0]-e[0],p=n[1]-e[1],m=n[0]-r[0],x=n[1]-r[1];return l*x-m*p==0&&l*m<=0&&p*x<=0}function Vs(n,e){let r=!1;for(let x=0,b=e.length;x<b;x++){const C=e[x];for(let A=0,L=C.length;A<L-1;A++){if(ee(n,C[A],C[A+1]))return!1;(p=C[A])[1]>(l=n)[1]!=(m=C[A+1])[1]>l[1]&&l[0]<(m[0]-p[0])*(l[1]-p[1])/(m[1]-p[1])+p[0]&&(r=!r)}}var l,p,m;return r}function ea(n,e){for(let r=0;r<e.length;r++)if(Vs(n,e[r]))return!0;return!1}function Gl(n,e,r,l){const p=l[0]-r[0],m=l[1]-r[1],x=(n[0]-r[0])*m-p*(n[1]-r[1]),b=(e[0]-r[0])*m-p*(e[1]-r[1]);return x>0&&b<0||x<0&&b>0}function yn(n,e,r){for(const A of r)for(let L=0;L<A.length-1;++L)if((b=[(x=A[L+1])[0]-(m=A[L])[0],x[1]-m[1]])[0]*(C=[(p=e)[0]-(l=n)[0],p[1]-l[1]])[1]-b[1]*C[0]!=0&&Gl(l,p,m,x)&&Gl(m,x,l,p))return!0;var l,p,m,x,b,C;return!1}function il(n,e){for(let r=0;r<n.length;++r)if(!Vs(n[r],e))return!1;for(let r=0;r<n.length-1;++r)if(yn(n[r],n[r+1],e))return!1;return!0}function pn(n,e){for(let r=0;r<e.length;r++)if(il(n,e[r]))return!0;return!1}function Mo(n,e,r){const l=[];for(let p=0;p<n.length;p++){const m=[];for(let x=0;x<n[p].length;x++){const b=ta(n[p][x],r);Ln(e,b),m.push(b)}l.push(m)}return l}function Un(n,e,r){const l=[];for(let p=0;p<n.length;p++){const m=Mo(n[p],e,r);l.push(m)}return l}function Wl(n,e,r,l){if(n[0]<r[0]||n[0]>r[2]){const p=.5*l;let m=n[0]-r[0]>p?-l:r[0]-n[0]>p?l:0;m===0&&(m=n[0]-r[2]>p?-l:r[2]-n[0]>p?l:0),n[0]+=m}Ln(e,n)}function mi(n,e,r,l){const p=Math.pow(2,l.z)*Re,m=[l.x*Re,l.y*Re],x=[];for(const b of n)for(const C of b){const A=[C.x+m[0],C.y+m[1]];Wl(A,e,r,p),x.push(A)}return x}function zr(n,e,r,l){const p=Math.pow(2,l.z)*Re,m=[l.x*Re,l.y*Re],x=[];for(const C of n){const A=[];for(const L of C){const B=[L.x+m[0],L.y+m[1]];Ln(e,B),A.push(B)}x.push(A)}if(e[2]-e[0]<=p/2){(b=e)[0]=b[1]=1/0,b[2]=b[3]=-1/0;for(const C of x)for(const A of C)Wl(A,e,r,p)}var b;return x}class vs{constructor(e,r){this.type=Pe,this.geojson=e,this.geometries=r}static parse(e,r){if(e.length!==2)return r.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(Ot(e[1])){const l=e[1];if(l.type==="FeatureCollection")for(let p=0;p<l.features.length;++p){const m=l.features[p].geometry.type;if(m==="Polygon"||m==="MultiPolygon")return new vs(l,l.features[p].geometry)}else if(l.type==="Feature"){const p=l.geometry.type;if(p==="Polygon"||p==="MultiPolygon")return new vs(l,l.geometry)}else if(l.type==="Polygon"||l.type==="MultiPolygon")return new vs(l,l)}return r.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(e.geometry()!=null&&e.canonicalID()!=null){if(e.geometryType()==="Point")return function(r,l){const p=[1/0,1/0,-1/0,-1/0],m=[1/0,1/0,-1/0,-1/0],x=r.canonicalID();if(l.type==="Polygon"){const b=Mo(l.coordinates,m,x),C=mi(r.geometry(),p,m,x);if(!er(p,m))return!1;for(const A of C)if(!Vs(A,b))return!1}if(l.type==="MultiPolygon"){const b=Un(l.coordinates,m,x),C=mi(r.geometry(),p,m,x);if(!er(p,m))return!1;for(const A of C)if(!ea(A,b))return!1}return!0}(e,this.geometries);if(e.geometryType()==="LineString")return function(r,l){const p=[1/0,1/0,-1/0,-1/0],m=[1/0,1/0,-1/0,-1/0],x=r.canonicalID();if(l.type==="Polygon"){const b=Mo(l.coordinates,m,x),C=zr(r.geometry(),p,m,x);if(!er(p,m))return!1;for(const A of C)if(!il(A,b))return!1}if(l.type==="MultiPolygon"){const b=Un(l.coordinates,m,x),C=zr(r.geometry(),p,m,x);if(!er(p,m))return!1;for(const A of C)if(!pn(A,b))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}function js(n){if(n instanceof zi&&(n.name==="get"&&n.args.length===1||n.name==="feature-state"||n.name==="has"&&n.args.length===1||n.name==="properties"||n.name==="geometry-type"||n.name==="id"||/^filter-/.test(n.name))||n instanceof vs)return!1;let e=!0;return n.eachChild(r=>{e&&!js(r)&&(e=!1)}),e}function Vi(n){if(n instanceof zi&&n.name==="feature-state")return!1;let e=!0;return n.eachChild(r=>{e&&!Vi(r)&&(e=!1)}),e}function ir(n,e){if(n instanceof zi&&e.indexOf(n.name)>=0)return!1;let r=!0;return n.eachChild(l=>{r&&!ir(l,e)&&(r=!1)}),r}class Lr{constructor(e,r){this.type=r.type,this.name=e,this.boundExpression=r}static parse(e,r){if(e.length!==2||typeof e[1]!="string")return r.error("'var' expression requires exactly one string literal argument.");const l=e[1];return r.scope.has(l)?new Lr(l,r.scope.get(l)):r.error(`Unknown variable "${l}". Make sure "${l}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}}class ls{constructor(e,r=[],l,p=new oe,m=[]){this.registry=e,this.path=r,this.key=r.map(x=>`[${x}]`).join(""),this.scope=p,this.errors=m,this.expectedType=l}parse(e,r,l,p,m={}){return r?this.concat(r,l,p)._parse(e,m):this._parse(e,m)}_parse(e,r){function l(p,m,x){return x==="assert"?new Ze(m,[p]):x==="coerce"?new Nt(m,[p]):p}if(e!==null&&typeof e!="string"&&typeof e!="boolean"&&typeof e!="number"||(e=["literal",e]),Array.isArray(e)){if(e.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const p=e[0];if(typeof p!="string")return this.error(`Expression name must be a string, but found ${typeof p} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const m=this.registry[p];if(m){let x=m.parse(e,this);if(!x)return null;if(this.expectedType){const b=this.expectedType,C=x.type;if(b.kind!=="string"&&b.kind!=="number"&&b.kind!=="boolean"&&b.kind!=="object"&&b.kind!=="array"||C.kind!=="value")if(b.kind!=="color"&&b.kind!=="formatted"&&b.kind!=="resolvedImage"||C.kind!=="value"&&C.kind!=="string")if(b.kind!=="padding"||C.kind!=="value"&&C.kind!=="number"&&C.kind!=="array"){if(this.checkSubtype(b,C))return null}else x=l(x,b,r.typeAnnotation||"coerce");else x=l(x,b,r.typeAnnotation||"coerce");else x=l(x,b,r.typeAnnotation||"assert")}if(!(x instanceof Ie)&&x.type.kind!=="resolvedImage"&&nl(x)){const b=new yi;try{x=new Ie(x.type,x.evaluate(b))}catch(C){return this.error(C.message),null}}return x}return this.error(`Unknown expression "${p}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(e===void 0?"'undefined' value invalid. Use null instead.":typeof e=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof e} instead.`)}concat(e,r,l){const p=typeof e=="number"?this.path.concat(e):this.path,m=l?this.scope.concat(l):this.scope;return new ls(this.registry,p,r||null,m,this.errors)}error(e,...r){const l=`${this.key}${r.map(p=>`[${p}]`).join("")}`;this.errors.push(new fi(l,e))}checkSubtype(e,r){const l=tr(e,r);return l&&this.error(l),l}}function nl(n){if(n instanceof Lr)return nl(n.boundExpression);if(n instanceof zi&&n.name==="error"||n instanceof Ae||n instanceof vs)return!1;const e=n instanceof Nt||n instanceof Ze;let r=!0;return n.eachChild(l=>{r=e?r&&nl(l):r&&l instanceof Ie}),!!r&&js(n)&&ir(n,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Aa(n,e){const r=n.length-1;let l,p,m=0,x=r,b=0;for(;m<=x;)if(b=Math.floor((m+x)/2),l=n[b],p=n[b+1],l<=e){if(b===r||e<p)return b;m=b+1}else{if(!(l>e))throw new ue("Input is not a number.");x=b-1}return 0}class Vn{constructor(e,r,l){this.type=e,this.input=r,this.labels=[],this.outputs=[];for(const[p,m]of l)this.labels.push(p),this.outputs.push(m)}static parse(e,r){if(e.length-1<4)return r.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return r.error("Expected an even number of arguments.");const l=r.parse(e[1],1,Pt);if(!l)return null;const p=[];let m=null;r.expectedType&&r.expectedType.kind!=="value"&&(m=r.expectedType);for(let x=1;x<e.length;x+=2){const b=x===1?-1/0:e[x],C=e[x+1],A=x,L=x+1;if(typeof b!="number")return r.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',A);if(p.length&&p[p.length-1][0]>=b)return r.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',A);const B=r.parse(C,L,m);if(!B)return null;m=m||B.type,p.push([b,B])}return new Vn(m,l,p)}evaluate(e){const r=this.labels,l=this.outputs;if(r.length===1)return l[0].evaluate(e);const p=this.input.evaluate(e);if(p<=r[0])return l[0].evaluate(e);const m=r.length;return p>=r[m-1]?l[m-1].evaluate(e):l[Aa(r,p)].evaluate(e)}eachChild(e){e(this.input);for(const r of this.outputs)e(r)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}}function Ki(n,e,r){return n*(1-r)+e*r}var fn=Object.freeze({__proto__:null,number:Ki,color:function(n,e,r){return new K(Ki(n.r,e.r,r),Ki(n.g,e.g,r),Ki(n.b,e.b,r),Ki(n.a,e.a,r))},array:function(n,e,r){return n.map((l,p)=>Ki(l,e[p],r))},padding:function(n,e,r){const l=n.values,p=e.values;return new ot([Ki(l[0],p[0],r),Ki(l[1],p[1],r),Ki(l[2],p[2],r),Ki(l[3],p[3],r)])}});const ae=.95047,ei=1.08883,ia=4/29,Zn=6/29,le=3*Zn*Zn,He=Math.PI/180,Yr=180/Math.PI;function ts(n){return n>.008856451679035631?Math.pow(n,1/3):n/le+ia}function Oi(n){return n>Zn?n*n*n:le*(n-ia)}function qs(n){return 255*(n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055)}function na(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function hi(n){const e=na(n.r),r=na(n.g),l=na(n.b),p=ts((.4124564*e+.3575761*r+.1804375*l)/ae),m=ts((.2126729*e+.7151522*r+.072175*l)/1);return{l:116*m-16,a:500*(p-m),b:200*(m-ts((.0193339*e+.119192*r+.9503041*l)/ei)),alpha:n.a}}function $r(n){let e=(n.l+16)/116,r=isNaN(n.a)?e:e+n.a/500,l=isNaN(n.b)?e:e-n.b/200;return e=1*Oi(e),r=ae*Oi(r),l=ei*Oi(l),new K(qs(3.2404542*r-1.5371385*e-.4985314*l),qs(-.969266*r+1.8760108*e+.041556*l),qs(.0556434*r-.2040259*e+1.0572252*l),n.alpha)}function sn(n,e,r){const l=e-n;return n+r*(l>180||l<-180?l-360*Math.round(l/360):l)}const sa={forward:hi,reverse:$r,interpolate:function(n,e,r){return{l:Ki(n.l,e.l,r),a:Ki(n.a,e.a,r),b:Ki(n.b,e.b,r),alpha:Ki(n.alpha,e.alpha,r)}}},ra={forward:function(n){const{l:e,a:r,b:l}=hi(n),p=Math.atan2(l,r)*Yr;return{h:p<0?p+360:p,c:Math.sqrt(r*r+l*l),l:e,alpha:n.a}},reverse:function(n){const e=n.h*He,r=n.c;return $r({l:n.l,a:Math.cos(e)*r,b:Math.sin(e)*r,alpha:n.alpha})},interpolate:function(n,e,r){return{h:sn(n.h,e.h,r),c:Ki(n.c,e.c,r),l:Ki(n.l,e.l,r),alpha:Ki(n.alpha,e.alpha,r)}}};var Xl=Object.freeze({__proto__:null,lab:sa,hcl:ra});class ws{constructor(e,r,l,p,m){this.type=e,this.operator=r,this.interpolation=l,this.input=p,this.labels=[],this.outputs=[];for(const[x,b]of m)this.labels.push(x),this.outputs.push(b)}static interpolationFactor(e,r,l,p){let m=0;if(e.name==="exponential")m=sl(r,e.base,l,p);else if(e.name==="linear")m=sl(r,1,l,p);else if(e.name==="cubic-bezier"){const x=e.controlPoints;m=new ut(x[0],x[1],x[2],x[3]).solve(sl(r,1,l,p))}return m}static parse(e,r){let[l,p,m,...x]=e;if(!Array.isArray(p)||p.length===0)return r.error("Expected an interpolation type expression.",1);if(p[0]==="linear")p={name:"linear"};else if(p[0]==="exponential"){const A=p[1];if(typeof A!="number")return r.error("Exponential interpolation requires a numeric base.",1,1);p={name:"exponential",base:A}}else{if(p[0]!=="cubic-bezier")return r.error(`Unknown interpolation type ${String(p[0])}`,1,0);{const A=p.slice(1);if(A.length!==4||A.some(L=>typeof L!="number"||L<0||L>1))return r.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);p={name:"cubic-bezier",controlPoints:A}}}if(e.length-1<4)return r.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return r.error("Expected an even number of arguments.");if(m=r.parse(m,2,Pt),!m)return null;const b=[];let C=null;l==="interpolate-hcl"||l==="interpolate-lab"?C=nn:r.expectedType&&r.expectedType.kind!=="value"&&(C=r.expectedType);for(let A=0;A<x.length;A+=2){const L=x[A],B=x[A+1],V=A+3,q=A+4;if(typeof L!="number")return r.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',V);if(b.length&&b[b.length-1][0]>=L)return r.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',V);const H=r.parse(B,q,C);if(!H)return null;C=C||H.type,b.push([L,H])}return C.kind==="number"||C.kind==="color"||C.kind==="padding"||C.kind==="array"&&C.itemType.kind==="number"&&typeof C.N=="number"?new ws(C,l,p,m,b):r.error(`Type ${Ri(C)} is not interpolatable.`)}evaluate(e){const r=this.labels,l=this.outputs;if(r.length===1)return l[0].evaluate(e);const p=this.input.evaluate(e);if(p<=r[0])return l[0].evaluate(e);const m=r.length;if(p>=r[m-1])return l[m-1].evaluate(e);const x=Aa(r,p),b=ws.interpolationFactor(this.interpolation,p,r[x],r[x+1]),C=l[x].evaluate(e),A=l[x+1].evaluate(e);return this.operator==="interpolate"?fn[this.type.kind.toLowerCase()](C,A,b):this.operator==="interpolate-hcl"?ra.reverse(ra.interpolate(ra.forward(C),ra.forward(A),b)):sa.reverse(sa.interpolate(sa.forward(C),sa.forward(A),b))}eachChild(e){e(this.input);for(const r of this.outputs)e(r)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}}function sl(n,e,r,l){const p=l-r,m=n-r;return p===0?0:e===1?m/p:(Math.pow(e,m)-1)/(Math.pow(e,p)-1)}class Zs{constructor(e,r){this.type=e,this.args=r}static parse(e,r){if(e.length<2)return r.error("Expectected at least one argument.");let l=null;const p=r.expectedType;p&&p.kind!=="value"&&(l=p);const m=[];for(const b of e.slice(1)){const C=r.parse(b,1+m.length,l,void 0,{typeAnnotation:"omit"});if(!C)return null;l=l||C.type,m.push(C)}if(!l)throw new Error("No output type");const x=p&&m.some(b=>tr(p,b.type));return new Zs(x?qe:l,m)}evaluate(e){let r,l=null,p=0;for(const m of this.args)if(p++,l=m.evaluate(e),l&&l instanceof pt&&!l.available&&(r||(r=l.name),l=null,p===this.args.length&&(l=r)),l!==null)break;return l}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}class cs{constructor(e,r){this.type=r.type,this.bindings=[].concat(e),this.result=r}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const r of this.bindings)e(r[1]);e(this.result)}static parse(e,r){if(e.length<4)return r.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const l=[];for(let m=1;m<e.length-1;m+=2){const x=e[m];if(typeof x!="string")return r.error(`Expected string, but found ${typeof x} instead.`,m);if(/[^a-zA-Z0-9_]/.test(x))return r.error("Variable names must contain only alphanumeric characters or '_'.",m);const b=r.parse(e[m+1],m+1);if(!b)return null;l.push([x,b])}const p=r.parse(e[e.length-1],e.length-1,r.expectedType,l);return p?new cs(l,p):null}outputDefined(){return this.result.outputDefined()}}class rl{constructor(e,r,l){this.type=e,this.index=r,this.input=l}static parse(e,r){if(e.length!==3)return r.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const l=r.parse(e[1],1,Pt),p=r.parse(e[2],2,Qn(r.expectedType||qe));return l&&p?new rl(p.type.itemType,l,p):null}evaluate(e){const r=this.index.evaluate(e),l=this.input.evaluate(e);if(r<0)throw new ue(`Array index out of bounds: ${r} < 0.`);if(r>=l.length)throw new ue(`Array index out of bounds: ${r} > ${l.length-1}.`);if(r!==Math.floor(r))throw new ue(`Array index must be an integer, but found ${r} instead.`);return l[r]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}}class es{constructor(e,r){this.type=Pe,this.needle=e,this.haystack=r}static parse(e,r){if(e.length!==3)return r.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const l=r.parse(e[1],1,qe),p=r.parse(e[2],2,qe);return l&&p?Kr(l.type,[Pe,Xe,Pt,Zi,qe])?new es(l,p):r.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ri(l.type)} instead`):null}evaluate(e){const r=this.needle.evaluate(e),l=this.haystack.evaluate(e);if(!l)return!1;if(!Us(r,["boolean","string","number","null"]))throw new ue(`Expected first argument to be of type boolean, string, number or null, but found ${Ri(Mt(r))} instead.`);if(!Us(l,["string","array"]))throw new ue(`Expected second argument to be of type array or string, but found ${Ri(Mt(l))} instead.`);return l.indexOf(r)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}}class Ci{constructor(e,r,l){this.type=Pt,this.needle=e,this.haystack=r,this.fromIndex=l}static parse(e,r){if(e.length<=2||e.length>=5)return r.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const l=r.parse(e[1],1,qe),p=r.parse(e[2],2,qe);if(!l||!p)return null;if(!Kr(l.type,[Pe,Xe,Pt,Zi,qe]))return r.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ri(l.type)} instead`);if(e.length===4){const m=r.parse(e[3],3,Pt);return m?new Ci(l,p,m):null}return new Ci(l,p)}evaluate(e){const r=this.needle.evaluate(e),l=this.haystack.evaluate(e);if(!Us(r,["boolean","string","number","null"]))throw new ue(`Expected first argument to be of type boolean, string, number or null, but found ${Ri(Mt(r))} instead.`);if(!Us(l,["string","array"]))throw new ue(`Expected second argument to be of type array or string, but found ${Ri(Mt(l))} instead.`);if(this.fromIndex){const p=this.fromIndex.evaluate(e);return l.indexOf(r,p)}return l.indexOf(r)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}}class is{constructor(e,r,l,p,m,x){this.inputType=e,this.type=r,this.input=l,this.cases=p,this.outputs=m,this.otherwise=x}static parse(e,r){if(e.length<5)return r.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return r.error("Expected an even number of arguments.");let l,p;r.expectedType&&r.expectedType.kind!=="value"&&(p=r.expectedType);const m={},x=[];for(let A=2;A<e.length-1;A+=2){let L=e[A];const B=e[A+1];Array.isArray(L)||(L=[L]);const V=r.concat(A);if(L.length===0)return V.error("Expected at least one branch label.");for(const H of L){if(typeof H!="number"&&typeof H!="string")return V.error("Branch labels must be numbers or strings.");if(typeof H=="number"&&Math.abs(H)>Number.MAX_SAFE_INTEGER)return V.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof H=="number"&&Math.floor(H)!==H)return V.error("Numeric branch labels must be integer values.");if(l){if(V.checkSubtype(l,Mt(H)))return null}else l=Mt(H);if(m[String(H)]!==void 0)return V.error("Branch labels must be unique.");m[String(H)]=x.length}const q=r.parse(B,A,p);if(!q)return null;p=p||q.type,x.push(q)}const b=r.parse(e[1],1,qe);if(!b)return null;const C=r.parse(e[e.length-1],e.length-1,p);return C?b.type.kind!=="value"&&r.concat(1).checkSubtype(l,b.type)?null:new is(l,p,b,m,x,C):null}evaluate(e){const r=this.input.evaluate(e);return(Mt(r)===this.inputType&&this.outputs[this.cases[r]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}}class bs{constructor(e,r,l){this.type=e,this.branches=r,this.otherwise=l}static parse(e,r){if(e.length<4)return r.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return r.error("Expected an odd number of arguments.");let l;r.expectedType&&r.expectedType.kind!=="value"&&(l=r.expectedType);const p=[];for(let x=1;x<e.length-1;x+=2){const b=r.parse(e[x],x,Pe);if(!b)return null;const C=r.parse(e[x+1],x+1,l);if(!C)return null;p.push([b,C]),l=l||C.type}const m=r.parse(e[e.length-1],e.length-1,l);if(!m)return null;if(!l)throw new Error("Can't infer output type");return new bs(l,p,m)}evaluate(e){for(const[r,l]of this.branches)if(r.evaluate(e))return l.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[r,l]of this.branches)e(r),e(l);e(this.otherwise)}outputDefined(){return this.branches.every(([e,r])=>r.outputDefined())&&this.otherwise.outputDefined()}}class un{constructor(e,r,l,p){this.type=e,this.input=r,this.beginIndex=l,this.endIndex=p}static parse(e,r){if(e.length<=2||e.length>=5)return r.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const l=r.parse(e[1],1,qe),p=r.parse(e[2],2,Pt);if(!l||!p)return null;if(!Kr(l.type,[Qn(qe),Xe,qe]))return r.error(`Expected first argument to be of type array or string, but found ${Ri(l.type)} instead`);if(e.length===4){const m=r.parse(e[3],3,Pt);return m?new un(l.type,l,p,m):null}return new un(l.type,l,p)}evaluate(e){const r=this.input.evaluate(e),l=this.beginIndex.evaluate(e);if(!Us(r,["string","array"]))throw new ue(`Expected first argument to be of type array or string, but found ${Ri(Mt(r))} instead.`);if(this.endIndex){const p=this.endIndex.evaluate(e);return r.slice(l,p)}return r.slice(l)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}}function Dr(n,e){return n==="=="||n==="!="?e.kind==="boolean"||e.kind==="string"||e.kind==="number"||e.kind==="null"||e.kind==="value":e.kind==="string"||e.kind==="number"||e.kind==="value"}function Hn(n,e,r,l){return l.compare(e,r)===0}function $n(n,e,r){const l=n!=="=="&&n!=="!=";return class jm{constructor(m,x,b){this.type=Pe,this.lhs=m,this.rhs=x,this.collator=b,this.hasUntypedArgument=m.type.kind==="value"||x.type.kind==="value"}static parse(m,x){if(m.length!==3&&m.length!==4)return x.error("Expected two or three arguments.");const b=m[0];let C=x.parse(m[1],1,qe);if(!C)return null;if(!Dr(b,C.type))return x.concat(1).error(`"${b}" comparisons are not supported for type '${Ri(C.type)}'.`);let A=x.parse(m[2],2,qe);if(!A)return null;if(!Dr(b,A.type))return x.concat(2).error(`"${b}" comparisons are not supported for type '${Ri(A.type)}'.`);if(C.type.kind!==A.type.kind&&C.type.kind!=="value"&&A.type.kind!=="value")return x.error(`Cannot compare types '${Ri(C.type)}' and '${Ri(A.type)}'.`);l&&(C.type.kind==="value"&&A.type.kind!=="value"?C=new Ze(A.type,[C]):C.type.kind!=="value"&&A.type.kind==="value"&&(A=new Ze(C.type,[A])));let L=null;if(m.length===4){if(C.type.kind!=="string"&&A.type.kind!=="string"&&C.type.kind!=="value"&&A.type.kind!=="value")return x.error("Cannot use collator to compare non-string types.");if(L=x.parse(m[3],3,pr),!L)return null}return new jm(C,A,L)}evaluate(m){const x=this.lhs.evaluate(m),b=this.rhs.evaluate(m);if(l&&this.hasUntypedArgument){const C=Mt(x),A=Mt(b);if(C.kind!==A.kind||C.kind!=="string"&&C.kind!=="number")throw new ue(`Expected arguments for "${n}" to be (string, string) or (number, number), but found (${C.kind}, ${A.kind}) instead.`)}if(this.collator&&!l&&this.hasUntypedArgument){const C=Mt(x),A=Mt(b);if(C.kind!=="string"||A.kind!=="string")return e(m,x,b)}return this.collator?r(m,x,b,this.collator.evaluate(m)):e(m,x,b)}eachChild(m){m(this.lhs),m(this.rhs),this.collator&&m(this.collator)}outputDefined(){return!0}}}const Hs=$n("==",function(n,e,r){return e===r},Hn),Jr=$n("!=",function(n,e,r){return e!==r},function(n,e,r,l){return!Hn(0,e,r,l)}),Li=$n("<",function(n,e,r){return e<r},function(n,e,r,l){return l.compare(e,r)<0}),oa=$n(">",function(n,e,r){return e>r},function(n,e,r,l){return l.compare(e,r)>0}),Pc=$n("<=",function(n,e,r){return e<=r},function(n,e,r,l){return l.compare(e,r)<=0}),aa=$n(">=",function(n,e,r){return e>=r},function(n,e,r,l){return l.compare(e,r)>=0});class la{constructor(e,r,l,p,m){this.type=Xe,this.number=e,this.locale=r,this.currency=l,this.minFractionDigits=p,this.maxFractionDigits=m}static parse(e,r){if(e.length!==3)return r.error("Expected two arguments.");const l=r.parse(e[1],1,Pt);if(!l)return null;const p=e[2];if(typeof p!="object"||Array.isArray(p))return r.error("NumberFormat options argument must be an object.");let m=null;if(p.locale&&(m=r.parse(p.locale,1,Xe),!m))return null;let x=null;if(p.currency&&(x=r.parse(p.currency,1,Xe),!x))return null;let b=null;if(p["min-fraction-digits"]&&(b=r.parse(p["min-fraction-digits"],1,Pt),!b))return null;let C=null;return p["max-fraction-digits"]&&(C=r.parse(p["max-fraction-digits"],1,Pt),!C)?null:new la(l,m,x,b,C)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}}class Po{constructor(e){this.type=Tn,this.sections=e}static parse(e,r){if(e.length<2)return r.error("Expected at least one argument.");const l=e[1];if(!Array.isArray(l)&&typeof l=="object")return r.error("First argument must be an image or text section.");const p=[];let m=!1;for(let x=1;x<=e.length-1;++x){const b=e[x];if(m&&typeof b=="object"&&!Array.isArray(b)){m=!1;let C=null;if(b["font-scale"]&&(C=r.parse(b["font-scale"],1,Pt),!C))return null;let A=null;if(b["text-font"]&&(A=r.parse(b["text-font"],1,Qn(Xe)),!A))return null;let L=null;if(b["text-color"]&&(L=r.parse(b["text-color"],1,nn),!L))return null;const B=p[p.length-1];B.scale=C,B.font=A,B.textColor=L}else{const C=r.parse(e[x],1,qe);if(!C)return null;const A=C.type.kind;if(A!=="string"&&A!=="value"&&A!=="null"&&A!=="resolvedImage")return r.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");m=!0,p.push({content:C,scale:null,font:null,textColor:null})}}return new Po(p)}evaluate(e){return new ct(this.sections.map(r=>{const l=r.content.evaluate(e);return Mt(l)===Cn?new dt("",l,null,null,null):new dt(Ee(l),null,r.scale?r.scale.evaluate(e):null,r.font?r.font.evaluate(e).join(","):null,r.textColor?r.textColor.evaluate(e):null)}))}eachChild(e){for(const r of this.sections)e(r.content),r.scale&&e(r.scale),r.font&&e(r.font),r.textColor&&e(r.textColor)}outputDefined(){return!1}}class Qr{constructor(e){this.type=Cn,this.input=e}static parse(e,r){if(e.length!==2)return r.error("Expected two arguments.");const l=r.parse(e[1],1,Xe);return l?new Qr(l):r.error("No image name provided.")}evaluate(e){const r=this.input.evaluate(e),l=pt.fromString(r);return l&&e.availableImages&&(l.available=e.availableImages.indexOf(r)>-1),l}eachChild(e){e(this.input)}outputDefined(){return!1}}class ol{constructor(e){this.type=Pt,this.input=e}static parse(e,r){if(e.length!==2)return r.error(`Expected 1 argument, but found ${e.length-1} instead.`);const l=r.parse(e[1],1);return l?l.type.kind!=="array"&&l.type.kind!=="string"&&l.type.kind!=="value"?r.error(`Expected argument of type string or array, but found ${Ri(l.type)} instead.`):new ol(l):null}evaluate(e){const r=this.input.evaluate(e);if(typeof r=="string"||Array.isArray(r))return r.length;throw new ue(`Expected value to be of type string or array, but found ${Ri(Mt(r))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}}const Gn={"==":Hs,"!=":Jr,">":oa,"<":Li,">=":aa,"<=":Pc,array:Ze,at:rl,boolean:Ze,case:bs,coalesce:Zs,collator:Ae,format:Po,image:Qr,in:es,"index-of":Ci,interpolate:ws,"interpolate-hcl":ws,"interpolate-lab":ws,length:ol,let:cs,literal:Ie,match:is,number:Ze,"number-format":la,object:Ze,slice:un,step:Vn,string:Ze,"to-boolean":Nt,"to-color":Nt,"to-number":Nt,"to-string":Nt,var:Lr,within:vs};function Kl(n,[e,r,l,p]){e=e.evaluate(n),r=r.evaluate(n),l=l.evaluate(n);const m=p?p.evaluate(n):1,x=Tt(e,r,l,m);if(x)throw new ue(x);return new K(e/255*m,r/255*m,l/255*m,m)}function nr(n,e){return n in e}function Es(n,e){const r=e[n];return r===void 0?null:r}function to(n){return{type:n}}function Ma(n){return{result:"success",value:n}}function Br(n){return{result:"error",value:n}}function We(n){return n["property-type"]==="data-driven"||n["property-type"]==="cross-faded-data-driven"}function Pa(n){return!!n.expression&&n.expression.parameters.indexOf("zoom")>-1}function ui(n){return!!n.expression&&n.expression.interpolated}function $i(n){return n instanceof Number?"number":n instanceof String?"string":n instanceof Boolean?"boolean":Array.isArray(n)?"array":n===null?"null":typeof n}function bi(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}function Di(n){return n}function eo(n,e){const r=e.type==="color",l=n.stops&&typeof n.stops[0][0]=="object",p=l||!(l||n.property!==void 0),m=n.type||(ui(e)?"exponential":"interval");if(r||e.type==="padding"){const A=r?K.parse:ot.parse;(n=we({},n)).stops&&(n.stops=n.stops.map(L=>[L[0],A(L[1])])),n.default=A(n.default?n.default:e.default)}if(n.colorSpace&&n.colorSpace!=="rgb"&&!Xl[n.colorSpace])throw new Error(`Unknown color space: ${n.colorSpace}`);let x,b,C;if(m==="exponential")x=Fr;else if(m==="interval")x=ll;else if(m==="categorical"){x=al,b=Object.create(null);for(const A of n.stops)b[A[0]]=A[1];C=typeof n.stops[0][0]}else{if(m!=="identity")throw new Error(`Unknown function type "${m}"`);x=io}if(l){const A={},L=[];for(let q=0;q<n.stops.length;q++){const H=n.stops[q],st=H[0].zoom;A[st]===void 0&&(A[st]={zoom:st,type:n.type,property:n.property,default:n.default,stops:[]},L.push(st)),A[st].stops.push([H[0].value,H[1]])}const B=[];for(const q of L)B.push([A[q].zoom,eo(A[q],e)]);const V={name:"linear"};return{kind:"composite",interpolationType:V,interpolationFactor:ws.interpolationFactor.bind(void 0,V),zoomStops:B.map(q=>q[0]),evaluate:({zoom:q},H)=>Fr({stops:B,base:n.base},e,q).evaluate(q,H)}}if(p){const A=m==="exponential"?{name:"exponential",base:n.base!==void 0?n.base:1}:null;return{kind:"camera",interpolationType:A,interpolationFactor:ws.interpolationFactor.bind(void 0,A),zoomStops:n.stops.map(L=>L[0]),evaluate:({zoom:L})=>x(n,e,L,b,C)}}return{kind:"source",evaluate(A,L){const B=L&&L.properties?L.properties[n.property]:void 0;return B===void 0?Rr(n.default,e.default):x(n,e,B,b,C)}}}function Rr(n,e,r){return n!==void 0?n:e!==void 0?e:r!==void 0?r:void 0}function al(n,e,r,l,p){return Rr(typeof r===p?l[r]:void 0,n.default,e.default)}function ll(n,e,r){if($i(r)!=="number")return Rr(n.default,e.default);const l=n.stops.length;if(l===1||r<=n.stops[0][0])return n.stops[0][1];if(r>=n.stops[l-1][0])return n.stops[l-1][1];const p=Aa(n.stops.map(m=>m[0]),r);return n.stops[p][1]}function Fr(n,e,r){const l=n.base!==void 0?n.base:1;if($i(r)!=="number")return Rr(n.default,e.default);const p=n.stops.length;if(p===1||r<=n.stops[0][0])return n.stops[0][1];if(r>=n.stops[p-1][0])return n.stops[p-1][1];const m=Aa(n.stops.map(L=>L[0]),r),x=function(L,B,V,q){const H=q-V,st=L-V;return H===0?0:B===1?st/H:(Math.pow(B,st)-1)/(Math.pow(B,H)-1)}(r,l,n.stops[m][0],n.stops[m+1][0]),b=n.stops[m][1],C=n.stops[m+1][1];let A=fn[e.type]||Di;if(n.colorSpace&&n.colorSpace!=="rgb"){const L=Xl[n.colorSpace];A=(B,V)=>L.reverse(L.interpolate(L.forward(B),L.forward(V),x))}return typeof b.evaluate=="function"?{evaluate(...L){const B=b.evaluate.apply(void 0,L),V=C.evaluate.apply(void 0,L);if(B!==void 0&&V!==void 0)return A(B,V,x)}}:A(b,C,x)}function io(n,e,r){switch(e.type){case"color":r=K.parse(r);break;case"formatted":r=ct.fromString(r.toString());break;case"resolvedImage":r=pt.fromString(r.toString());break;case"padding":r=ot.parse(r);break;default:$i(r)===e.type||e.type==="enum"&&e.values[r]||(r=void 0)}return Rr(r,n.default,e.default)}zi.register(Gn,{error:[{kind:"error"},[Xe],(n,[e])=>{throw new ue(e.evaluate(n))}],typeof:[Xe,[qe],(n,[e])=>Ri(Mt(e.evaluate(n)))],"to-rgba":[Qn(Pt,4),[nn],(n,[e])=>e.evaluate(n).toArray()],rgb:[nn,[Pt,Pt,Pt],Kl],rgba:[nn,[Pt,Pt,Pt,Pt],Kl],has:{type:Pe,overloads:[[[Xe],(n,[e])=>nr(e.evaluate(n),n.properties())],[[Xe,Ss],(n,[e,r])=>nr(e.evaluate(n),r.evaluate(n))]]},get:{type:qe,overloads:[[[Xe],(n,[e])=>Es(e.evaluate(n),n.properties())],[[Xe,Ss],(n,[e,r])=>Es(e.evaluate(n),r.evaluate(n))]]},"feature-state":[qe,[Xe],(n,[e])=>Es(e.evaluate(n),n.featureState||{})],properties:[Ss,[],n=>n.properties()],"geometry-type":[Xe,[],n=>n.geometryType()],id:[qe,[],n=>n.id()],zoom:[Pt,[],n=>n.globals.zoom],"heatmap-density":[Pt,[],n=>n.globals.heatmapDensity||0],"line-progress":[Pt,[],n=>n.globals.lineProgress||0],accumulated:[qe,[],n=>n.globals.accumulated===void 0?null:n.globals.accumulated],"+":[Pt,to(Pt),(n,e)=>{let r=0;for(const l of e)r+=l.evaluate(n);return r}],"*":[Pt,to(Pt),(n,e)=>{let r=1;for(const l of e)r*=l.evaluate(n);return r}],"-":{type:Pt,overloads:[[[Pt,Pt],(n,[e,r])=>e.evaluate(n)-r.evaluate(n)],[[Pt],(n,[e])=>-e.evaluate(n)]]},"/":[Pt,[Pt,Pt],(n,[e,r])=>e.evaluate(n)/r.evaluate(n)],"%":[Pt,[Pt,Pt],(n,[e,r])=>e.evaluate(n)%r.evaluate(n)],ln2:[Pt,[],()=>Math.LN2],pi:[Pt,[],()=>Math.PI],e:[Pt,[],()=>Math.E],"^":[Pt,[Pt,Pt],(n,[e,r])=>Math.pow(e.evaluate(n),r.evaluate(n))],sqrt:[Pt,[Pt],(n,[e])=>Math.sqrt(e.evaluate(n))],log10:[Pt,[Pt],(n,[e])=>Math.log(e.evaluate(n))/Math.LN10],ln:[Pt,[Pt],(n,[e])=>Math.log(e.evaluate(n))],log2:[Pt,[Pt],(n,[e])=>Math.log(e.evaluate(n))/Math.LN2],sin:[Pt,[Pt],(n,[e])=>Math.sin(e.evaluate(n))],cos:[Pt,[Pt],(n,[e])=>Math.cos(e.evaluate(n))],tan:[Pt,[Pt],(n,[e])=>Math.tan(e.evaluate(n))],asin:[Pt,[Pt],(n,[e])=>Math.asin(e.evaluate(n))],acos:[Pt,[Pt],(n,[e])=>Math.acos(e.evaluate(n))],atan:[Pt,[Pt],(n,[e])=>Math.atan(e.evaluate(n))],min:[Pt,to(Pt),(n,e)=>Math.min(...e.map(r=>r.evaluate(n)))],max:[Pt,to(Pt),(n,e)=>Math.max(...e.map(r=>r.evaluate(n)))],abs:[Pt,[Pt],(n,[e])=>Math.abs(e.evaluate(n))],round:[Pt,[Pt],(n,[e])=>{const r=e.evaluate(n);return r<0?-Math.round(-r):Math.round(r)}],floor:[Pt,[Pt],(n,[e])=>Math.floor(e.evaluate(n))],ceil:[Pt,[Pt],(n,[e])=>Math.ceil(e.evaluate(n))],"filter-==":[Pe,[Xe,qe],(n,[e,r])=>n.properties()[e.value]===r.value],"filter-id-==":[Pe,[qe],(n,[e])=>n.id()===e.value],"filter-type-==":[Pe,[Xe],(n,[e])=>n.geometryType()===e.value],"filter-<":[Pe,[Xe,qe],(n,[e,r])=>{const l=n.properties()[e.value],p=r.value;return typeof l==typeof p&&l<p}],"filter-id-<":[Pe,[qe],(n,[e])=>{const r=n.id(),l=e.value;return typeof r==typeof l&&r<l}],"filter->":[Pe,[Xe,qe],(n,[e,r])=>{const l=n.properties()[e.value],p=r.value;return typeof l==typeof p&&l>p}],"filter-id->":[Pe,[qe],(n,[e])=>{const r=n.id(),l=e.value;return typeof r==typeof l&&r>l}],"filter-<=":[Pe,[Xe,qe],(n,[e,r])=>{const l=n.properties()[e.value],p=r.value;return typeof l==typeof p&&l<=p}],"filter-id-<=":[Pe,[qe],(n,[e])=>{const r=n.id(),l=e.value;return typeof r==typeof l&&r<=l}],"filter->=":[Pe,[Xe,qe],(n,[e,r])=>{const l=n.properties()[e.value],p=r.value;return typeof l==typeof p&&l>=p}],"filter-id->=":[Pe,[qe],(n,[e])=>{const r=n.id(),l=e.value;return typeof r==typeof l&&r>=l}],"filter-has":[Pe,[qe],(n,[e])=>e.value in n.properties()],"filter-has-id":[Pe,[],n=>n.id()!==null&&n.id()!==void 0],"filter-type-in":[Pe,[Qn(Xe)],(n,[e])=>e.value.indexOf(n.geometryType())>=0],"filter-id-in":[Pe,[Qn(qe)],(n,[e])=>e.value.indexOf(n.id())>=0],"filter-in-small":[Pe,[Xe,Qn(qe)],(n,[e,r])=>r.value.indexOf(n.properties()[e.value])>=0],"filter-in-large":[Pe,[Xe,Qn(qe)],(n,[e,r])=>function(l,p,m,x){for(;m<=x;){const b=m+x>>1;if(p[b]===l)return!0;p[b]>l?x=b-1:m=b+1}return!1}(n.properties()[e.value],r.value,0,r.value.length-1)],all:{type:Pe,overloads:[[[Pe,Pe],(n,[e,r])=>e.evaluate(n)&&r.evaluate(n)],[to(Pe),(n,e)=>{for(const r of e)if(!r.evaluate(n))return!1;return!0}]]},any:{type:Pe,overloads:[[[Pe,Pe],(n,[e,r])=>e.evaluate(n)||r.evaluate(n)],[to(Pe),(n,e)=>{for(const r of e)if(r.evaluate(n))return!0;return!1}]]},"!":[Pe,[Pe],(n,[e])=>!e.evaluate(n)],"is-supported-script":[Pe,[Xe],(n,[e])=>{const r=n.globals&&n.globals.isSupportedScript;return!r||r(e.evaluate(n))}],upcase:[Xe,[Xe],(n,[e])=>e.evaluate(n).toUpperCase()],downcase:[Xe,[Xe],(n,[e])=>e.evaluate(n).toLowerCase()],concat:[Xe,to(qe),(n,e)=>e.map(r=>Ee(r.evaluate(n))).join("")],"resolved-locale":[Xe,[pr],(n,[e])=>e.evaluate(n).resolvedLocale()]});class zo{constructor(e,r){this.expression=e,this._warningHistory={},this._evaluator=new yi,this._defaultValue=r?function(l){return l.type==="color"&&bi(l.default)?new K(0,0,0,0):l.type==="color"?K.parse(l.default)||null:l.type==="padding"?ot.parse(l.default)||null:l.default===void 0?null:l.default}(r):null,this._enumValues=r&&r.type==="enum"?r.values:null}evaluateWithoutErrorHandling(e,r,l,p,m,x){return this._evaluator.globals=e,this._evaluator.feature=r,this._evaluator.featureState=l,this._evaluator.canonical=p,this._evaluator.availableImages=m||null,this._evaluator.formattedSection=x,this.expression.evaluate(this._evaluator)}evaluate(e,r,l,p,m,x){this._evaluator.globals=e,this._evaluator.feature=r||null,this._evaluator.featureState=l||null,this._evaluator.canonical=p,this._evaluator.availableImages=m||null,this._evaluator.formattedSection=x||null;try{const b=this.expression.evaluate(this._evaluator);if(b==null||typeof b=="number"&&b!=b)return this._defaultValue;if(this._enumValues&&!(b in this._enumValues))throw new ue(`Expected value to be one of ${Object.keys(this._enumValues).map(C=>JSON.stringify(C)).join(", ")}, but found ${JSON.stringify(b)} instead.`);return b}catch(b){return this._warningHistory[b.message]||(this._warningHistory[b.message]=!0,typeof console<"u"&&console.warn(b.message)),this._defaultValue}}}function no(n){return Array.isArray(n)&&n.length>0&&typeof n[0]=="string"&&n[0]in Gn}function fr(n,e){const r=new ls(Gn,[],e?function(p){const m={color:nn,string:Xe,number:Pt,enum:Xe,boolean:Pe,formatted:Tn,padding:Pr,resolvedImage:Cn};return p.type==="array"?Qn(m[p.value]||qe,p.length):m[p.type]}(e):void 0),l=r.parse(n,void 0,void 0,void 0,e&&e.type==="string"?{typeAnnotation:"coerce"}:void 0);return l?Ma(new zo(l,e)):Br(r.errors)}class so{constructor(e,r){this.kind=e,this._styleExpression=r,this.isStateDependent=e!=="constant"&&!Vi(r.expression)}evaluateWithoutErrorHandling(e,r,l,p,m,x){return this._styleExpression.evaluateWithoutErrorHandling(e,r,l,p,m,x)}evaluate(e,r,l,p,m,x){return this._styleExpression.evaluate(e,r,l,p,m,x)}}class ro{constructor(e,r,l,p){this.kind=e,this.zoomStops=l,this._styleExpression=r,this.isStateDependent=e!=="camera"&&!Vi(r.expression),this.interpolationType=p}evaluateWithoutErrorHandling(e,r,l,p,m,x){return this._styleExpression.evaluateWithoutErrorHandling(e,r,l,p,m,x)}evaluate(e,r,l,p,m,x){return this._styleExpression.evaluate(e,r,l,p,m,x)}interpolationFactor(e,r,l){return this.interpolationType?ws.interpolationFactor(this.interpolationType,e,r,l):0}}function Yl(n,e){const r=fr(n,e);if(r.result==="error")return r;const l=r.value.expression,p=js(l);if(!p&&!We(e))return Br([new fi("","data expressions not supported")]);const m=ir(l,["zoom"]);if(!m&&!Pa(e))return Br([new fi("","zoom expressions not supported")]);const x=Or(l);return x||m?x instanceof fi?Br([x]):x instanceof ws&&!ui(e)?Br([new fi("",'"interpolate" expressions cannot be used with this property')]):Ma(x?new ro(p?"camera":"composite",r.value,x.labels,x instanceof ws?x.interpolation:void 0):new so(p?"constant":"source",r.value)):Br([new fi("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class za{constructor(e,r){this._parameters=e,this._specification=r,we(this,eo(this._parameters,this._specification))}static deserialize(e){return new za(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}function Or(n){let e=null;if(n instanceof cs)e=Or(n.result);else if(n instanceof Zs){for(const r of n.args)if(e=Or(r),e)break}else(n instanceof Vn||n instanceof ws)&&n.input instanceof zi&&n.input.name==="zoom"&&(e=n);return e instanceof fi||n.eachChild(r=>{const l=Or(r);l instanceof fi?e=l:!e&&l?e=new fi("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&l&&e!==l&&(e=new fi("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),e}function ks(n){const e=n.key,r=n.value,l=n.valueSpec||{},p=n.objectElementValidators||{},m=n.style,x=n.styleSpec;let b=[];const C=$i(r);if(C!=="object")return[new Zt(e,r,`object expected, ${C} found`)];for(const A in r){const L=A.split(".")[0],B=l[L]||l["*"];let V;if(p[L])V=p[L];else if(l[L])V=An;else if(p["*"])V=p["*"];else{if(!l["*"]){b.push(new Zt(e,r[A],`unknown property "${A}"`));continue}V=An}b=b.concat(V({key:(e&&`${e}.`)+A,value:r[A],valueSpec:B,style:m,styleSpec:x,object:r,objectKey:A},r))}for(const A in l)p[A]||l[A].required&&l[A].default===void 0&&r[A]===void 0&&b.push(new Zt(e,r,`missing required property "${A}"`));return b}function Lo(n){const e=n.value,r=n.valueSpec,l=n.style,p=n.styleSpec,m=n.key,x=n.arrayElementValidator||An;if($i(e)!=="array")return[new Zt(m,e,`array expected, ${$i(e)} found`)];if(r.length&&e.length!==r.length)return[new Zt(m,e,`array length ${r.length} expected, length ${e.length} found`)];if(r["min-length"]&&e.length<r["min-length"])return[new Zt(m,e,`array length at least ${r["min-length"]} expected, length ${e.length} found`)];let b={type:r.value,values:r.values};p.$version<7&&(b.function=r.function),$i(r.value)==="object"&&(b=r.value);let C=[];for(let A=0;A<e.length;A++)C=C.concat(x({array:e,arrayIndex:A,value:e[A],valueSpec:b,style:l,styleSpec:p,key:`${m}[${A}]`}));return C}function rn(n){const e=n.key,r=n.value,l=n.valueSpec;let p=$i(r);return p==="number"&&r!=r&&(p="NaN"),p!=="number"?[new Zt(e,r,`number expected, ${p} found`)]:"minimum"in l&&r<l.minimum?[new Zt(e,r,`${r} is less than the minimum value ${l.minimum}`)]:"maximum"in l&&r>l.maximum?[new Zt(e,r,`${r} is greater than the maximum value ${l.maximum}`)]:[]}function Is(n){const e=n.valueSpec,r=ai(n.value.type);let l,p,m,x={};const b=r!=="categorical"&&n.value.property===void 0,C=!b,A=$i(n.value.stops)==="array"&&$i(n.value.stops[0])==="array"&&$i(n.value.stops[0][0])==="object",L=ks({key:n.key,value:n.value,valueSpec:n.styleSpec.function,style:n.style,styleSpec:n.styleSpec,objectElementValidators:{stops:function(q){if(r==="identity")return[new Zt(q.key,q.value,'identity function may not have a "stops" property')];let H=[];const st=q.value;return H=H.concat(Lo({key:q.key,value:st,valueSpec:q.valueSpec,style:q.style,styleSpec:q.styleSpec,arrayElementValidator:B})),$i(st)==="array"&&st.length===0&&H.push(new Zt(q.key,st,"array must have at least one stop")),H},default:function(q){return An({key:q.key,value:q.value,valueSpec:e,style:q.style,styleSpec:q.styleSpec})}}});return r==="identity"&&b&&L.push(new Zt(n.key,n.value,'missing required property "property"')),r==="identity"||n.value.stops||L.push(new Zt(n.key,n.value,'missing required property "stops"')),r==="exponential"&&n.valueSpec.expression&&!ui(n.valueSpec)&&L.push(new Zt(n.key,n.value,"exponential functions not supported")),n.styleSpec.$version>=8&&(C&&!We(n.valueSpec)?L.push(new Zt(n.key,n.value,"property functions not supported")):b&&!Pa(n.valueSpec)&&L.push(new Zt(n.key,n.value,"zoom functions not supported"))),r!=="categorical"&&!A||n.value.property!==void 0||L.push(new Zt(n.key,n.value,'"property" property is required')),L;function B(q){let H=[];const st=q.value,nt=q.key;if($i(st)!=="array")return[new Zt(nt,st,`array expected, ${$i(st)} found`)];if(st.length!==2)return[new Zt(nt,st,`array length 2 expected, length ${st.length} found`)];if(A){if($i(st[0])!=="object")return[new Zt(nt,st,`object expected, ${$i(st[0])} found`)];if(st[0].zoom===void 0)return[new Zt(nt,st,"object stop key must have zoom")];if(st[0].value===void 0)return[new Zt(nt,st,"object stop key must have value")];if(m&&m>ai(st[0].zoom))return[new Zt(nt,st[0].zoom,"stop zoom values must appear in ascending order")];ai(st[0].zoom)!==m&&(m=ai(st[0].zoom),p=void 0,x={}),H=H.concat(ks({key:`${nt}[0]`,value:st[0],valueSpec:{zoom:{}},style:q.style,styleSpec:q.styleSpec,objectElementValidators:{zoom:rn,value:V}}))}else H=H.concat(V({key:`${nt}[0]`,value:st[0],valueSpec:{},style:q.style,styleSpec:q.styleSpec},st));return no(Oe(st[1]))?H.concat([new Zt(`${nt}[1]`,st[1],"expressions are not allowed in function stops.")]):H.concat(An({key:`${nt}[1]`,value:st[1],valueSpec:e,style:q.style,styleSpec:q.styleSpec}))}function V(q,H){const st=$i(q.value),nt=ai(q.value),_t=q.value!==null?q.value:H;if(l){if(st!==l)return[new Zt(q.key,_t,`${st} stop domain type must match previous stop domain type ${l}`)]}else l=st;if(st!=="number"&&st!=="string"&&st!=="boolean")return[new Zt(q.key,_t,"stop domain value must be a number, string, or boolean")];if(st!=="number"&&r!=="categorical"){let At=`number expected, ${st} found`;return We(e)&&r===void 0&&(At+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Zt(q.key,_t,At)]}return r!=="categorical"||st!=="number"||isFinite(nt)&&Math.floor(nt)===nt?r!=="categorical"&&st==="number"&&p!==void 0&&nt<p?[new Zt(q.key,_t,"stop domain values must appear in ascending order")]:(p=nt,r==="categorical"&&nt in x?[new Zt(q.key,_t,"stop domain values must be unique")]:(x[nt]=!0,[])):[new Zt(q.key,_t,`integer expected, found ${nt}`)]}}function Ni(n){const e=(n.expressionContext==="property"?Yl:fr)(Oe(n.value),n.valueSpec);if(e.result==="error")return e.value.map(l=>new Zt(`${n.key}${l.key}`,n.value,l.message));const r=e.value.expression||e.value._styleExpression.expression;if(n.expressionContext==="property"&&n.propertyKey==="text-font"&&!r.outputDefined())return[new Zt(n.key,n.value,`Invalid data expression for "${n.propertyKey}". Output values must be contained as literals within the expression.`)];if(n.expressionContext==="property"&&n.propertyType==="layout"&&!Vi(r))return[new Zt(n.key,n.value,'"feature-state" data expressions are not supported with layout properties.')];if(n.expressionContext==="filter"&&!Vi(r))return[new Zt(n.key,n.value,'"feature-state" data expressions are not supported with filters.')];if(n.expressionContext&&n.expressionContext.indexOf("cluster")===0){if(!ir(r,["zoom","feature-state"]))return[new Zt(n.key,n.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(n.expressionContext==="cluster-initial"&&!js(r))return[new Zt(n.key,n.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function oo(n){const e=n.key,r=n.value,l=n.valueSpec,p=[];return Array.isArray(l.values)?l.values.indexOf(ai(r))===-1&&p.push(new Zt(e,r,`expected one of [${l.values.join(", ")}], ${JSON.stringify(r)} found`)):Object.keys(l.values).indexOf(ai(r))===-1&&p.push(new Zt(e,r,`expected one of [${Object.keys(l.values).join(", ")}], ${JSON.stringify(r)} found`)),p}function ji(n){if(n===!0||n===!1)return!0;if(!Array.isArray(n)||n.length===0)return!1;switch(n[0]){case"has":return n.length>=2&&n[1]!=="$id"&&n[1]!=="$type";case"in":return n.length>=3&&(typeof n[1]!="string"||Array.isArray(n[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return n.length!==3||Array.isArray(n[1])||Array.isArray(n[2]);case"any":case"all":for(const e of n.slice(1))if(!ji(e)&&typeof e!="boolean")return!1;return!0;default:return!0}}const cl={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function $o(n){if(n==null)return{filter:()=>!0,needGeometry:!1};ji(n)||(n=ao(n));const e=fr(n,cl);if(e.result==="error")throw new Error(e.value.map(r=>`${r.key}: ${r.message}`).join(", "));return{filter:(r,l,p)=>e.value.evaluate(r,l,{},p),needGeometry:Do(n)}}function La(n,e){return n<e?-1:n>e?1:0}function Do(n){if(!Array.isArray(n))return!1;if(n[0]==="within")return!0;for(let e=1;e<n.length;e++)if(Do(n[e]))return!0;return!1}function ao(n){if(!n)return!0;const e=n[0];return n.length<=1?e!=="any":e==="=="?hl(n[1],n[2],"=="):e==="!="?Nr(hl(n[1],n[2],"==")):e==="<"||e===">"||e==="<="||e===">="?hl(n[1],n[2],e):e==="any"?(r=n.slice(1),["any"].concat(r.map(ao))):e==="all"?["all"].concat(n.slice(1).map(ao)):e==="none"?["all"].concat(n.slice(1).map(ao).map(Nr)):e==="in"?$a(n[1],n.slice(2)):e==="!in"?Nr($a(n[1],n.slice(2))):e==="has"?lo(n[1]):e==="!has"?Nr(lo(n[1])):e!=="within"||n;var r}function hl(n,e,r){switch(n){case"$type":return[`filter-type-${r}`,e];case"$id":return[`filter-id-${r}`,e];default:return[`filter-${r}`,n,e]}}function $a(n,e){if(e.length===0)return!1;switch(n){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(r=>typeof r!=typeof e[0])?["filter-in-large",n,["literal",e.sort(La)]]:["filter-in-small",n,["literal",e]]}}function lo(n){switch(n){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",n]}}function Nr(n){return["!",n]}function Gs(n){return ji(Oe(n.value))?Ni(we({},n,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Jl(n)}function Jl(n){const e=n.value,r=n.key;if($i(e)!=="array")return[new Zt(r,e,`array expected, ${$i(e)} found`)];const l=n.styleSpec;let p,m=[];if(e.length<1)return[new Zt(r,e,"filter array must have at least 1 element")];switch(m=m.concat(oo({key:`${r}[0]`,value:e[0],valueSpec:l.filter_operator,style:n.style,styleSpec:n.styleSpec})),ai(e[0])){case"<":case"<=":case">":case">=":e.length>=2&&ai(e[1])==="$type"&&m.push(new Zt(r,e,`"$type" cannot be use with operator "${e[0]}"`));case"==":case"!=":e.length!==3&&m.push(new Zt(r,e,`filter array for operator "${e[0]}" must have 3 elements`));case"in":case"!in":e.length>=2&&(p=$i(e[1]),p!=="string"&&m.push(new Zt(`${r}[1]`,e[1],`string expected, ${p} found`)));for(let x=2;x<e.length;x++)p=$i(e[x]),ai(e[1])==="$type"?m=m.concat(oo({key:`${r}[${x}]`,value:e[x],valueSpec:l.geometry_type,style:n.style,styleSpec:n.styleSpec})):p!=="string"&&p!=="number"&&p!=="boolean"&&m.push(new Zt(`${r}[${x}]`,e[x],`string, number, or boolean expected, ${p} found`));break;case"any":case"all":case"none":for(let x=1;x<e.length;x++)m=m.concat(Jl({key:`${r}[${x}]`,value:e[x],style:n.style,styleSpec:n.styleSpec}));break;case"has":case"!has":p=$i(e[1]),e.length!==2?m.push(new Zt(r,e,`filter array for "${e[0]}" operator must have 2 elements`)):p!=="string"&&m.push(new Zt(`${r}[1]`,e[1],`string expected, ${p} found`));break;case"within":p=$i(e[1]),e.length!==2?m.push(new Zt(r,e,`filter array for "${e[0]}" operator must have 2 elements`)):p!=="object"&&m.push(new Zt(`${r}[1]`,e[1],`object expected, ${p} found`))}return m}function ca(n,e){const r=n.key,l=n.style,p=n.styleSpec,m=n.value,x=n.objectKey,b=p[`${e}_${n.layerType}`];if(!b)return[];const C=x.match(/^(.*)-transition$/);if(e==="paint"&&C&&b[C[1]]&&b[C[1]].transition)return An({key:r,value:m,valueSpec:p.transition,style:l,styleSpec:p});const A=n.valueSpec||b[x];if(!A)return[new Zt(r,m,`unknown property "${x}"`)];let L;if($i(m)==="string"&&We(A)&&!A.tokens&&(L=/^{([^}]+)}$/.exec(m)))return[new Zt(r,m,`"${x}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(L[1])} }\`.`)];const B=[];return n.layerType==="symbol"&&(x==="text-field"&&l&&!l.glyphs&&B.push(new Zt(r,m,'use of "text-field" requires a style "glyphs" property')),x==="text-font"&&bi(Oe(m))&&ai(m.type)==="identity"&&B.push(new Zt(r,m,'"text-font" does not support identity functions'))),B.concat(An({key:n.key,value:m,valueSpec:A,style:l,styleSpec:p,expressionContext:"property",propertyType:e,propertyKey:x}))}function Da(n){return ca(n,"paint")}function Ba(n){return ca(n,"layout")}function Ql(n){let e=[];const r=n.value,l=n.key,p=n.style,m=n.styleSpec;r.type||r.ref||e.push(new Zt(l,r,'either "type" or "ref" is required'));let x=ai(r.type);const b=ai(r.ref);if(r.id){const C=ai(r.id);for(let A=0;A<n.arrayIndex;A++){const L=p.layers[A];ai(L.id)===C&&e.push(new Zt(l,r.id,`duplicate layer id "${r.id}", previously used at line ${L.id.__line__}`))}}if("ref"in r){let C;["type","source","source-layer","filter","layout"].forEach(A=>{A in r&&e.push(new Zt(l,r[A],`"${A}" is prohibited for ref layers`))}),p.layers.forEach(A=>{ai(A.id)===b&&(C=A)}),C?C.ref?e.push(new Zt(l,r.ref,"ref cannot reference another ref layer")):x=ai(C.type):e.push(new Zt(l,r.ref,`ref layer "${b}" not found`))}else if(x!=="background")if(r.source){const C=p.sources&&p.sources[r.source],A=C&&ai(C.type);C?A==="vector"&&x==="raster"?e.push(new Zt(l,r.source,`layer "${r.id}" requires a raster source`)):A==="raster"&&x!=="raster"?e.push(new Zt(l,r.source,`layer "${r.id}" requires a vector source`)):A!=="vector"||r["source-layer"]?A==="raster-dem"&&x!=="hillshade"?e.push(new Zt(l,r.source,"raster-dem source can only be used with layer type 'hillshade'.")):x!=="line"||!r.paint||!r.paint["line-gradient"]||A==="geojson"&&C.lineMetrics||e.push(new Zt(l,r,`layer "${r.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):e.push(new Zt(l,r,`layer "${r.id}" must specify a "source-layer"`)):e.push(new Zt(l,r.source,`source "${r.source}" not found`))}else e.push(new Zt(l,r,'missing required property "source"'));return e=e.concat(ks({key:l,value:r,valueSpec:m.layer,style:n.style,styleSpec:n.styleSpec,objectElementValidators:{"*":()=>[],type:()=>An({key:`${l}.type`,value:r.type,valueSpec:m.layer.type,style:n.style,styleSpec:n.styleSpec,object:r,objectKey:"type"}),filter:Gs,layout:C=>ks({layer:r,key:C.key,value:C.value,style:C.style,styleSpec:C.styleSpec,objectElementValidators:{"*":A=>Ba(we({layerType:x},A))}}),paint:C=>ks({layer:r,key:C.key,value:C.value,style:C.style,styleSpec:C.styleSpec,objectElementValidators:{"*":A=>Da(we({layerType:x},A))}})}})),e}function Bo(n){const e=n.value,r=n.key,l=$i(e);return l!=="string"?[new Zt(r,e,`string expected, ${l} found`)]:[]}const tc={promoteId:function({key:n,value:e}){if($i(e)==="string")return Bo({key:n,value:e});{const r=[];for(const l in e)r.push(...Bo({key:`${n}.${l}`,value:e[l]}));return r}}};function ha(n){const e=n.value,r=n.key,l=n.styleSpec,p=n.style;if(!e.type)return[new Zt(r,e,'"type" is required')];const m=ai(e.type);let x;switch(m){case"vector":case"raster":case"raster-dem":return x=ks({key:r,value:e,valueSpec:l[`source_${m.replace("-","_")}`],style:n.style,styleSpec:l,objectElementValidators:tc}),x;case"geojson":if(x=ks({key:r,value:e,valueSpec:l.source_geojson,style:p,styleSpec:l,objectElementValidators:tc}),e.cluster)for(const b in e.clusterProperties){const[C,A]=e.clusterProperties[b],L=typeof C=="string"?[C,["accumulated"],["get",b]]:C;x.push(...Ni({key:`${r}.${b}.map`,value:A,expressionContext:"cluster-map"})),x.push(...Ni({key:`${r}.${b}.reduce`,value:L,expressionContext:"cluster-reduce"}))}return x;case"video":return ks({key:r,value:e,valueSpec:l.source_video,style:p,styleSpec:l});case"image":return ks({key:r,value:e,valueSpec:l.source_image,style:p,styleSpec:l});case"canvas":return[new Zt(r,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return oo({key:`${r}.type`,value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:p,styleSpec:l})}}function ua(n){const e=n.value,r=n.styleSpec,l=r.light,p=n.style;let m=[];const x=$i(e);if(e===void 0)return m;if(x!=="object")return m=m.concat([new Zt("light",e,`object expected, ${x} found`)]),m;for(const b in e){const C=b.match(/^(.*)-transition$/);m=m.concat(C&&l[C[1]]&&l[C[1]].transition?An({key:b,value:e[b],valueSpec:r.transition,style:p,styleSpec:r}):l[b]?An({key:b,value:e[b],valueSpec:l[b],style:p,styleSpec:r}):[new Zt(b,e[b],`unknown property "${b}"`)])}return m}function ns(n){const e=n.value,r=n.styleSpec,l=r.terrain,p=n.style;let m=[];const x=$i(e);if(e===void 0)return m;if(x!=="object")return m=m.concat([new Zt("terrain",e,`object expected, ${x} found`)]),m;for(const b in e)m=m.concat(l[b]?An({key:b,value:e[b],valueSpec:l[b],style:p,styleSpec:r}):[new Zt(b,e[b],`unknown property "${b}"`)]);return m}const da={"*":()=>[],array:Lo,boolean:function(n){const e=n.value,r=n.key,l=$i(e);return l!=="boolean"?[new Zt(r,e,`boolean expected, ${l} found`)]:[]},number:rn,color:function(n){const e=n.key,r=n.value,l=$i(r);return l!=="string"?[new Zt(e,r,`color expected, ${l} found`)]:_e(r)===null?[new Zt(e,r,`color expected, "${r}" found`)]:[]},constants:en,enum:oo,filter:Gs,function:Is,layer:Ql,object:ks,source:ha,light:ua,terrain:ns,string:Bo,formatted:function(n){return Bo(n).length===0?[]:Ni(n)},resolvedImage:function(n){return Bo(n).length===0?[]:Ni(n)},padding:function(n){const e=n.key,r=n.value;if($i(r)==="array"){if(r.length<1||r.length>4)return[new Zt(e,r,`padding requires 1 to 4 values; ${r.length} values found`)];const l={type:"number"};let p=[];for(let m=0;m<r.length;m++)p=p.concat(An({key:`${e}[${m}]`,value:r[m],valueSpec:l}));return p}return rn({key:e,value:r,valueSpec:{}})}};function An(n){const e=n.value,r=n.valueSpec,l=n.styleSpec;return r.expression&&bi(ai(e))?Is(n):r.expression&&no(Oe(e))?Ni(n):r.type&&da[r.type]?da[r.type](n):ks(we({},n,{valueSpec:r.type?l[r.type]:r}))}function zc(n){const e=n.value,r=n.key,l=Bo(n);return l.length||(e.indexOf("{fontstack}")===-1&&l.push(new Zt(r,e,'"glyphs" url must include a "{fontstack}" token')),e.indexOf("{range}")===-1&&l.push(new Zt(r,e,'"glyphs" url must include a "{range}" token'))),l}function As(n,e=vt){let r=[];return r=r.concat(An({key:"",value:n,valueSpec:e.$root,styleSpec:e,style:n,objectElementValidators:{glyphs:zc,"*":()=>[]}})),n.constants&&(r=r.concat(en({key:"constants",value:n.constants,style:n,styleSpec:e}))),ec(r)}function ec(n){return[].concat(n).sort((e,r)=>e.line-r.line)}function mr(n){return function(...e){return ec(n.apply(this,e))}}As.source=mr(ha),As.light=mr(ua),As.terrain=mr(ns),As.layer=mr(Ql),As.filter=mr(Gs),As.paintProperty=mr(Da),As.layoutProperty=mr(Ba);const pa=As,ul=pa.light,Lc=pa.paintProperty,ss=pa.layoutProperty;function Ra(n,e){let r=!1;if(e&&e.length)for(const l of e)n.fire(new pe(new Error(l.message))),r=!0;return r}class co{constructor(e,r,l){const p=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;const x=new Int32Array(this.arrayBuffer);e=x[0],this.d=(r=x[1])+2*(l=x[2]);for(let C=0;C<this.d*this.d;C++){const A=x[3+C],L=x[3+C+1];p.push(A===L?null:x.subarray(A,L))}const b=x[3+p.length+1];this.keys=x.subarray(x[3+p.length],b),this.bboxes=x.subarray(b),this.insert=this._insertReadonly}else{this.d=r+2*l;for(let x=0;x<this.d*this.d;x++)p.push([]);this.keys=[],this.bboxes=[]}this.n=r,this.extent=e,this.padding=l,this.scale=r/e,this.uid=0;const m=l/r*e;this.min=-m,this.max=e+m}insert(e,r,l,p,m){this._forEachCell(r,l,p,m,this._insertCell,this.uid++,void 0,void 0),this.keys.push(e),this.bboxes.push(r),this.bboxes.push(l),this.bboxes.push(p),this.bboxes.push(m)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(e,r,l,p,m,x){this.cells[m].push(x)}query(e,r,l,p,m){const x=this.min,b=this.max;if(e<=x&&r<=x&&b<=l&&b<=p&&!m)return Array.prototype.slice.call(this.keys);{const C=[];return this._forEachCell(e,r,l,p,this._queryCell,C,{},m),C}}_queryCell(e,r,l,p,m,x,b,C){const A=this.cells[m];if(A!==null){const L=this.keys,B=this.bboxes;for(let V=0;V<A.length;V++){const q=A[V];if(b[q]===void 0){const H=4*q;(C?C(B[H+0],B[H+1],B[H+2],B[H+3]):e<=B[H+2]&&r<=B[H+3]&&l>=B[H+0]&&p>=B[H+1])?(b[q]=!0,x.push(L[q])):b[q]=!1}}}}_forEachCell(e,r,l,p,m,x,b,C){const A=this._convertToCellCoord(e),L=this._convertToCellCoord(r),B=this._convertToCellCoord(l),V=this._convertToCellCoord(p);for(let q=A;q<=B;q++)for(let H=L;H<=V;H++){const st=this.d*H+q;if((!C||C(this._convertFromCellCoord(q),this._convertFromCellCoord(H),this._convertFromCellCoord(q+1),this._convertFromCellCoord(H+1)))&&m.call(this,e,r,l,p,st,x,b,C))return}}_convertFromCellCoord(e){return(e-this.padding)/this.scale}_convertToCellCoord(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const e=this.cells,r=3+this.cells.length+1+1;let l=0;for(let x=0;x<this.cells.length;x++)l+=this.cells[x].length;const p=new Int32Array(r+l+this.keys.length+this.bboxes.length);p[0]=this.extent,p[1]=this.n,p[2]=this.padding;let m=r;for(let x=0;x<e.length;x++){const b=e[x];p[3+x]=m,p.set(b,m),m+=b.length}return p[3+e.length]=m,p.set(this.keys,m),m+=this.keys.length,p[3+e.length+1]=m,p.set(this.bboxes,m),m+=this.bboxes.length,p.buffer}static serialize(e,r){const l=e.toArrayBuffer();return r&&r.push(l),{buffer:l}}static deserialize(e){return new co(e.buffer)}}const Ei={};function xe(n,e,r={}){if(Ei[n])throw new Error(`${n} is already registered.`);Object.defineProperty(e,"_classRegistryKey",{value:n,writeable:!1}),Ei[n]={klass:e,omit:r.omit||[],shallow:r.shallow||[]}}xe("Object",Object),xe("TransferableGridIndex",co),xe("Color",K),xe("Error",Error),xe("AJAXError",ft),xe("ResolvedImage",pt),xe("StylePropertyFunction",za),xe("StyleExpression",zo,{omit:["_evaluator"]}),xe("ZoomDependentExpression",ro),xe("ZoomConstantExpression",so),xe("CompoundExpression",zi,{omit:["_evaluate"]});for(const n in Gn)Gn[n]._classRegistryKey||xe(`Expression_${n}`,Gn[n]);function Wi(n){return n&&typeof ArrayBuffer<"u"&&(n instanceof ArrayBuffer||n.constructor&&n.constructor.name==="ArrayBuffer")}function rs(n,e){if(n==null||typeof n=="boolean"||typeof n=="number"||typeof n=="string"||n instanceof Boolean||n instanceof Number||n instanceof String||n instanceof Date||n instanceof RegExp||n instanceof Blob)return n;if(Wi(n)||gn(n))return e&&e.push(n),n;if(ArrayBuffer.isView(n)){const r=n;return e&&e.push(r.buffer),r}if(n instanceof ImageData)return e&&e.push(n.data.buffer),n;if(Array.isArray(n)){const r=[];for(const l of n)r.push(rs(l,e));return r}if(typeof n=="object"){const r=n.constructor,l=r._classRegistryKey;if(!l)throw new Error("can't serialize object of unregistered class");if(!Ei[l])throw new Error(`${l} is not registered.`);const p=r.serialize?r.serialize(n,e):{};if(r.serialize){if(e&&p===e[e.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const m in n){if(!n.hasOwnProperty(m)||Ei[l].omit.indexOf(m)>=0)continue;const x=n[m];p[m]=Ei[l].shallow.indexOf(m)>=0?x:rs(x,e)}n instanceof Error&&(p.message=n.message)}if(p.$name)throw new Error("$name property is reserved for worker serialization logic.");return l!=="Object"&&(p.$name=l),p}throw new Error("can't serialize object of type "+typeof n)}function _n(n){if(n==null||typeof n=="boolean"||typeof n=="number"||typeof n=="string"||n instanceof Boolean||n instanceof Number||n instanceof String||n instanceof Date||n instanceof RegExp||n instanceof Blob||Wi(n)||gn(n)||ArrayBuffer.isView(n)||n instanceof ImageData)return n;if(Array.isArray(n))return n.map(_n);if(typeof n=="object"){const e=n.$name||"Object";if(!Ei[e])throw new Error(`can't deserialize unregistered class ${e}`);const{klass:r}=Ei[e];if(!r)throw new Error(`can't deserialize unregistered class ${e}`);if(r.deserialize)return r.deserialize(n);const l=Object.create(r.prototype);for(const p of Object.keys(n)){if(p==="$name")continue;const m=n[p];l[p]=Ei[e].shallow.indexOf(p)>=0?m:_n(m)}return l}throw new Error("can't deserialize object of type "+typeof n)}class dl{constructor(){this.first=!0}update(e,r){const l=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=l,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=l,!0):(this.lastFloorZoom>l?(this.lastIntegerZoom=l+1,this.lastIntegerZoomTime=r):this.lastFloorZoom<l&&(this.lastIntegerZoom=l,this.lastIntegerZoomTime=r),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=l,!0))}}const he={"Latin-1 Supplement":n=>n>=128&&n<=255,Arabic:n=>n>=1536&&n<=1791,"Arabic Supplement":n=>n>=1872&&n<=1919,"Arabic Extended-A":n=>n>=2208&&n<=2303,"Hangul Jamo":n=>n>=4352&&n<=4607,"Unified Canadian Aboriginal Syllabics":n=>n>=5120&&n<=5759,Khmer:n=>n>=6016&&n<=6143,"Unified Canadian Aboriginal Syllabics Extended":n=>n>=6320&&n<=6399,"General Punctuation":n=>n>=8192&&n<=8303,"Letterlike Symbols":n=>n>=8448&&n<=8527,"Number Forms":n=>n>=8528&&n<=8591,"Miscellaneous Technical":n=>n>=8960&&n<=9215,"Control Pictures":n=>n>=9216&&n<=9279,"Optical Character Recognition":n=>n>=9280&&n<=9311,"Enclosed Alphanumerics":n=>n>=9312&&n<=9471,"Geometric Shapes":n=>n>=9632&&n<=9727,"Miscellaneous Symbols":n=>n>=9728&&n<=9983,"Miscellaneous Symbols and Arrows":n=>n>=11008&&n<=11263,"CJK Radicals Supplement":n=>n>=11904&&n<=12031,"Kangxi Radicals":n=>n>=12032&&n<=12255,"Ideographic Description Characters":n=>n>=12272&&n<=12287,"CJK Symbols and Punctuation":n=>n>=12288&&n<=12351,Hiragana:n=>n>=12352&&n<=12447,Katakana:n=>n>=12448&&n<=12543,Bopomofo:n=>n>=12544&&n<=12591,"Hangul Compatibility Jamo":n=>n>=12592&&n<=12687,Kanbun:n=>n>=12688&&n<=12703,"Bopomofo Extended":n=>n>=12704&&n<=12735,"CJK Strokes":n=>n>=12736&&n<=12783,"Katakana Phonetic Extensions":n=>n>=12784&&n<=12799,"Enclosed CJK Letters and Months":n=>n>=12800&&n<=13055,"CJK Compatibility":n=>n>=13056&&n<=13311,"CJK Unified Ideographs Extension A":n=>n>=13312&&n<=19903,"Yijing Hexagram Symbols":n=>n>=19904&&n<=19967,"CJK Unified Ideographs":n=>n>=19968&&n<=40959,"Yi Syllables":n=>n>=40960&&n<=42127,"Yi Radicals":n=>n>=42128&&n<=42191,"Hangul Jamo Extended-A":n=>n>=43360&&n<=43391,"Hangul Syllables":n=>n>=44032&&n<=55215,"Hangul Jamo Extended-B":n=>n>=55216&&n<=55295,"Private Use Area":n=>n>=57344&&n<=63743,"CJK Compatibility Ideographs":n=>n>=63744&&n<=64255,"Arabic Presentation Forms-A":n=>n>=64336&&n<=65023,"Vertical Forms":n=>n>=65040&&n<=65055,"CJK Compatibility Forms":n=>n>=65072&&n<=65103,"Small Form Variants":n=>n>=65104&&n<=65135,"Arabic Presentation Forms-B":n=>n>=65136&&n<=65279,"Halfwidth and Fullwidth Forms":n=>n>=65280&&n<=65519};function Fa(n){for(const e of n)if(fl(e.charCodeAt(0)))return!0;return!1}function pl(n){for(const e of n)if(!gr(e.charCodeAt(0)))return!1;return!0}function gr(n){return!(he.Arabic(n)||he["Arabic Supplement"](n)||he["Arabic Extended-A"](n)||he["Arabic Presentation Forms-A"](n)||he["Arabic Presentation Forms-B"](n))}function fl(n){return!(n!==746&&n!==747&&(n<4352||!(he["Bopomofo Extended"](n)||he.Bopomofo(n)||he["CJK Compatibility Forms"](n)&&!(n>=65097&&n<=65103)||he["CJK Compatibility Ideographs"](n)||he["CJK Compatibility"](n)||he["CJK Radicals Supplement"](n)||he["CJK Strokes"](n)||!(!he["CJK Symbols and Punctuation"](n)||n>=12296&&n<=12305||n>=12308&&n<=12319||n===12336)||he["CJK Unified Ideographs Extension A"](n)||he["CJK Unified Ideographs"](n)||he["Enclosed CJK Letters and Months"](n)||he["Hangul Compatibility Jamo"](n)||he["Hangul Jamo Extended-A"](n)||he["Hangul Jamo Extended-B"](n)||he["Hangul Jamo"](n)||he["Hangul Syllables"](n)||he.Hiragana(n)||he["Ideographic Description Characters"](n)||he.Kanbun(n)||he["Kangxi Radicals"](n)||he["Katakana Phonetic Extensions"](n)||he.Katakana(n)&&n!==12540||!(!he["Halfwidth and Fullwidth Forms"](n)||n===65288||n===65289||n===65293||n>=65306&&n<=65310||n===65339||n===65341||n===65343||n>=65371&&n<=65503||n===65507||n>=65512&&n<=65519)||!(!he["Small Form Variants"](n)||n>=65112&&n<=65118||n>=65123&&n<=65126)||he["Unified Canadian Aboriginal Syllabics"](n)||he["Unified Canadian Aboriginal Syllabics Extended"](n)||he["Vertical Forms"](n)||he["Yijing Hexagram Symbols"](n)||he["Yi Syllables"](n)||he["Yi Radicals"](n))))}function ic(n){return!(fl(n)||function(e){return!!(he["Latin-1 Supplement"](e)&&(e===167||e===169||e===174||e===177||e===188||e===189||e===190||e===215||e===247)||he["General Punctuation"](e)&&(e===8214||e===8224||e===8225||e===8240||e===8241||e===8251||e===8252||e===8258||e===8263||e===8264||e===8265||e===8273)||he["Letterlike Symbols"](e)||he["Number Forms"](e)||he["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||e===9003||e>=9085&&e<=9114||e>=9150&&e<=9165||e===9167||e>=9169&&e<=9179||e>=9186&&e<=9215)||he["Control Pictures"](e)&&e!==9251||he["Optical Character Recognition"](e)||he["Enclosed Alphanumerics"](e)||he["Geometric Shapes"](e)||he["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||he["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||he["CJK Symbols and Punctuation"](e)||he.Katakana(e)||he["Private Use Area"](e)||he["CJK Compatibility Forms"](e)||he["Small Form Variants"](e)||he["Halfwidth and Fullwidth Forms"](e)||e===8734||e===8756||e===8757||e>=9984&&e<=10087||e>=10102&&e<=10131||e===65532||e===65533)}(n))}function nc(n){return n>=1424&&n<=2303||he["Arabic Presentation Forms-A"](n)||he["Arabic Presentation Forms-B"](n)}function $c(n,e){return!(!e&&nc(n)||n>=2304&&n<=3583||n>=3840&&n<=4255||he.Khmer(n))}function Oa(n){for(const e of n)if(nc(e.charCodeAt(0)))return!0;return!1}const bn="deferred",ml="loading",fa="loaded";let Ts=null,Wn="unavailable",Mi=null;const Ro=function(n){n&&typeof n=="string"&&n.indexOf("NetworkError")>-1&&(Wn="error"),Ts&&Ts(n)};function Ur(){gl.fire(new Ve("pluginStateChange",{pluginStatus:Wn,pluginURL:Mi}))}const gl=new ci,ho=function(){return Wn},Fo=function(){if(Wn!==bn||!Mi)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Wn=ml,Ur(),Mi&&Yt({url:Mi},n=>{n?Ro(n):(Wn=fa,Ur())})},hs={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Wn===fa||hs.applyArabicShaping!=null,isLoading:()=>Wn===ml,setState(n){if(!Ne())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");Wn=n.pluginStatus,Mi=n.pluginURL},isParsed(){if(!Ne())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return hs.applyArabicShaping!=null&&hs.processBidirectionalText!=null&&hs.processStyledBidirectionalText!=null},getPluginURL(){if(!Ne())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return Mi}};class on{constructor(e,r){this.zoom=e,r?(this.now=r.now,this.fadeDuration=r.fadeDuration,this.zoomHistory=r.zoomHistory,this.transition=r.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new dl,this.transition={})}isSupportedScript(e){return function(r,l){for(const p of r)if(!$c(p.charCodeAt(0),l))return!1;return!0}(e,hs.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const e=this.zoom,r=e-Math.floor(e),l=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:r+(1-r)*l}:{fromScale:.5,toScale:1,t:1-(1-l)*r}}}class yr{constructor(e,r){this.property=e,this.value=r,this.expression=function(l,p){if(bi(l))return new za(l,p);if(no(l)){const m=Yl(l,p);if(m.result==="error")throw new Error(m.value.map(x=>`${x.key}: ${x.message}`).join(", "));return m.value}{let m=l;return p.type==="color"&&typeof l=="string"?m=K.parse(l):p.type!=="padding"||typeof l!="number"&&!Array.isArray(l)||(m=ot.parse(l)),{kind:"constant",evaluate:()=>m}}}(r===void 0?e.specification.default:r,e.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(e,r,l){return this.property.possiblyEvaluate(this,e,r,l)}}class vi{constructor(e){this.property=e,this.value=new yr(e,void 0)}transitioned(e,r){return new sc(this.property,this.value,r,Te({},e.transition,this.transition),e.now)}untransitioned(){return new sc(this.property,this.value,null,{},0)}}class Na{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)}getValue(e){return Ce(this._values[e].value.value)}setValue(e,r){Object.prototype.hasOwnProperty.call(this._values,e)||(this._values[e]=new vi(this._values[e].property)),this._values[e].value=new yr(this._values[e].property,r===null?void 0:Ce(r))}getTransition(e){return Ce(this._values[e].transition)}setTransition(e,r){Object.prototype.hasOwnProperty.call(this._values,e)||(this._values[e]=new vi(this._values[e].property)),this._values[e].transition=Ce(r)||void 0}serialize(){const e={};for(const r of Object.keys(this._values)){const l=this.getValue(r);l!==void 0&&(e[r]=l);const p=this.getTransition(r);p!==void 0&&(e[`${r}-transition`]=p)}return e}transitioned(e,r){const l=new rc(this._properties);for(const p of Object.keys(this._values))l._values[p]=this._values[p].transitioned(e,r._values[p]);return l}untransitioned(){const e=new rc(this._properties);for(const r of Object.keys(this._values))e._values[r]=this._values[r].untransitioned();return e}}class sc{constructor(e,r,l,p,m){this.property=e,this.value=r,this.begin=m+p.delay||0,this.end=this.begin+p.duration||0,e.specification.transition&&(p.delay||p.duration)&&(this.prior=l)}possiblyEvaluate(e,r,l){const p=e.now||0,m=this.value.possiblyEvaluate(e,r,l),x=this.prior;if(x){if(p>this.end)return this.prior=null,m;if(this.value.isDataDriven())return this.prior=null,m;if(p<this.begin)return x.possiblyEvaluate(e,r,l);{const b=(p-this.begin)/(this.end-this.begin);return this.property.interpolate(x.possiblyEvaluate(e,r,l),m,function(C){if(C<=0)return 0;if(C>=1)return 1;const A=C*C,L=A*C;return 4*(C<.5?L:3*(C-A)+L-.75)}(b))}}return m}}class rc{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)}possiblyEvaluate(e,r,l){const p=new _r(this._properties);for(const m of Object.keys(this._values))p._values[m]=this._values[m].possiblyEvaluate(e,r,l);return p}hasTransition(){for(const e of Object.keys(this._values))if(this._values[e].prior)return!0;return!1}}class Dc{constructor(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)}getValue(e){return Ce(this._values[e].value)}setValue(e,r){this._values[e]=new yr(this._values[e].property,r===null?void 0:Ce(r))}serialize(){const e={};for(const r of Object.keys(this._values)){const l=this.getValue(r);l!==void 0&&(e[r]=l)}return e}possiblyEvaluate(e,r,l){const p=new _r(this._properties);for(const m of Object.keys(this._values))p._values[m]=this._values[m].possiblyEvaluate(e,r,l);return p}}class Ms{constructor(e,r,l){this.property=e,this.value=r,this.parameters=l}isConstant(){return this.value.kind==="constant"}constantOr(e){return this.value.kind==="constant"?this.value.value:e}evaluate(e,r,l,p){return this.property.evaluate(this.value,this.parameters,e,r,l,p)}}class _r{constructor(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)}get(e){return this._values[e]}}class ze{constructor(e){this.specification=e}possiblyEvaluate(e,r){if(e.isDataDriven())throw new Error("Value should not be data driven");return e.expression.evaluate(r)}interpolate(e,r,l){const p=fn[this.specification.type];return p?p(e,r,l):e}}class Ue{constructor(e,r){this.specification=e,this.overrides=r}possiblyEvaluate(e,r,l,p){return new Ms(this,e.expression.kind==="constant"||e.expression.kind==="camera"?{kind:"constant",value:e.expression.evaluate(r,null,{},l,p)}:e.expression,r)}interpolate(e,r,l){if(e.value.kind!=="constant"||r.value.kind!=="constant")return e;if(e.value.value===void 0||r.value.value===void 0)return new Ms(this,{kind:"constant",value:void 0},e.parameters);const p=fn[this.specification.type];return p?new Ms(this,{kind:"constant",value:p(e.value.value,r.value.value,l)},e.parameters):e}evaluate(e,r,l,p,m,x){return e.kind==="constant"?e.value:e.evaluate(r,l,p,m,x)}}class Ps extends Ue{possiblyEvaluate(e,r,l,p){if(e.value===void 0)return new Ms(this,{kind:"constant",value:void 0},r);if(e.expression.kind==="constant"){const m=e.expression.evaluate(r,null,{},l,p),x=e.property.specification.type==="resolvedImage"&&typeof m!="string"?m.name:m,b=this._calculate(x,x,x,r);return new Ms(this,{kind:"constant",value:b},r)}if(e.expression.kind==="camera"){const m=this._calculate(e.expression.evaluate({zoom:r.zoom-1}),e.expression.evaluate({zoom:r.zoom}),e.expression.evaluate({zoom:r.zoom+1}),r);return new Ms(this,{kind:"constant",value:m},r)}return new Ms(this,e.expression,r)}evaluate(e,r,l,p,m,x){if(e.kind==="source"){const b=e.evaluate(r,l,p,m,x);return this._calculate(b,b,b,r)}return e.kind==="composite"?this._calculate(e.evaluate({zoom:Math.floor(r.zoom)-1},l,p),e.evaluate({zoom:Math.floor(r.zoom)},l,p),e.evaluate({zoom:Math.floor(r.zoom)+1},l,p),r):e.value}_calculate(e,r,l,p){return p.zoom>p.zoomHistory.lastIntegerZoom?{from:e,to:r}:{from:l,to:r}}interpolate(e){return e}}class xr{constructor(e){this.specification=e}possiblyEvaluate(e,r,l,p){if(e.value!==void 0){if(e.expression.kind==="constant"){const m=e.expression.evaluate(r,null,{},l,p);return this._calculate(m,m,m,r)}return this._calculate(e.expression.evaluate(new on(Math.floor(r.zoom-1),r)),e.expression.evaluate(new on(Math.floor(r.zoom),r)),e.expression.evaluate(new on(Math.floor(r.zoom+1),r)),r)}}_calculate(e,r,l,p){return p.zoom>p.zoomHistory.lastIntegerZoom?{from:e,to:r}:{from:l,to:r}}interpolate(e){return e}}class us{constructor(e){this.specification=e}possiblyEvaluate(e,r,l,p){return!!e.expression.evaluate(r,null,{},l,p)}interpolate(){return!1}}class an{constructor(e){this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const r in e){const l=e[r];l.specification.overridable&&this.overridableProperties.push(r);const p=this.defaultPropertyValues[r]=new yr(l,void 0),m=this.defaultTransitionablePropertyValues[r]=new vi(l);this.defaultTransitioningPropertyValues[r]=m.untransitioned(),this.defaultPossiblyEvaluatedValues[r]=p.possiblyEvaluate({})}}}xe("DataDrivenProperty",Ue),xe("DataConstantProperty",ze),xe("CrossFadedDataDrivenProperty",Ps),xe("CrossFadedProperty",xr),xe("ColorRampProperty",us);const sr="-transition";class zs extends ci{constructor(e,r){if(super(),this.id=e.id,this.type=e.type,this._featureFilter={filter:()=>!0,needGeometry:!1},e.type!=="custom"&&(this.metadata=e.metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,e.type!=="background"&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),r.layout&&(this._unevaluatedLayout=new Dc(r.layout)),r.paint)){this._transitionablePaint=new Na(r.paint);for(const l in e.paint)this.setPaintProperty(l,e.paint[l],{validate:!1});for(const l in e.layout)this.setLayoutProperty(l,e.layout[l],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new _r(r.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(e){return e==="visibility"?this.visibility:this._unevaluatedLayout.getValue(e)}setLayoutProperty(e,r,l={}){r!=null&&this._validate(ss,`layers.${this.id}.layout.${e}`,e,r,l)||(e!=="visibility"?this._unevaluatedLayout.setValue(e,r):this.visibility=r)}getPaintProperty(e){return e.endsWith(sr)?this._transitionablePaint.getTransition(e.slice(0,-sr.length)):this._transitionablePaint.getValue(e)}setPaintProperty(e,r,l={}){if(r!=null&&this._validate(Lc,`layers.${this.id}.paint.${e}`,e,r,l))return!1;if(e.endsWith(sr))return this._transitionablePaint.setTransition(e.slice(0,-sr.length),r||void 0),!1;{const p=this._transitionablePaint._values[e],m=p.property.specification["property-type"]==="cross-faded-data-driven",x=p.value.isDataDriven(),b=p.value;this._transitionablePaint.setValue(e,r),this._handleSpecialPaintPropertyUpdate(e);const C=this._transitionablePaint._values[e].value;return C.isDataDriven()||x||m||this._handleOverridablePaintPropertyUpdate(e,b,C)}}_handleSpecialPaintPropertyUpdate(e){}_handleOverridablePaintPropertyUpdate(e,r,l){return!1}isHidden(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||this.visibility==="none"}updateTransitions(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(e,r){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,r)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,r)}serialize(){const e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),li(e,(r,l)=>!(r===void 0||l==="layout"&&!Object.keys(r).length||l==="paint"&&!Object.keys(r).length))}_validate(e,r,l,p,m={}){return(!m||m.validate!==!1)&&Ra(this,e.call(pa,{key:r,layerType:this.type,objectKey:l,value:p,styleSpec:vt,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const e in this.paint._values){const r=this.paint.get(e);if(r instanceof Ms&&We(r.property.specification)&&(r.value.kind==="source"||r.value.kind==="composite")&&r.value.isStateDependent)return!0}return!1}}const oc={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class rr{constructor(e,r){this._structArray=e,this._pos1=r*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class xn{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(e,r){return e._trim(),r&&(e.isTransferred=!0,r.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}static deserialize(e){const r=Object.create(this.prototype);return r.arrayBuffer=e.arrayBuffer,r.length=e.length,r.capacity=e.arrayBuffer.byteLength/r.bytesPerElement,r._refreshViews(),r}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(e){this.reserve(e),this.length=e}reserve(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const r=this.uint8;this._refreshViews(),r&&this.uint8.set(r)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Sn(n,e=1){let r=0,l=0;return{members:n.map(p=>{const m=oc[p.type].BYTES_PER_ELEMENT,x=r=yl(r,Math.max(e,m)),b=p.components||1;return l=Math.max(l,m),r+=m*b,{name:p.name,type:p.type,components:b,offset:x}}),size:yl(r,Math.max(l,e)),alignment:e}}function yl(n,e){return Math.ceil(n/e)*e}class uo extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,r){const l=this.length;return this.resize(l+1),this.emplace(l,e,r)}emplace(e,r,l){const p=2*e;return this.int16[p+0]=r,this.int16[p+1]=l,e}}uo.prototype.bytesPerElement=4,xe("StructArrayLayout2i4",uo);class d extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,r,l,p){const m=this.length;return this.resize(m+1),this.emplace(m,e,r,l,p)}emplace(e,r,l,p,m){const x=4*e;return this.int16[x+0]=r,this.int16[x+1]=l,this.int16[x+2]=p,this.int16[x+3]=m,e}}d.prototype.bytesPerElement=8,xe("StructArrayLayout4i8",d);class i extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,r,l,p,m,x){const b=this.length;return this.resize(b+1),this.emplace(b,e,r,l,p,m,x)}emplace(e,r,l,p,m,x,b){const C=6*e;return this.int16[C+0]=r,this.int16[C+1]=l,this.int16[C+2]=p,this.int16[C+3]=m,this.int16[C+4]=x,this.int16[C+5]=b,e}}i.prototype.bytesPerElement=12,xe("StructArrayLayout2i4i12",i);class o extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,r,l,p,m,x){const b=this.length;return this.resize(b+1),this.emplace(b,e,r,l,p,m,x)}emplace(e,r,l,p,m,x,b){const C=4*e,A=8*e;return this.int16[C+0]=r,this.int16[C+1]=l,this.uint8[A+4]=p,this.uint8[A+5]=m,this.uint8[A+6]=x,this.uint8[A+7]=b,e}}o.prototype.bytesPerElement=8,xe("StructArrayLayout2i4ub8",o);class c extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,r){const l=this.length;return this.resize(l+1),this.emplace(l,e,r)}emplace(e,r,l){const p=2*e;return this.float32[p+0]=r,this.float32[p+1]=l,e}}c.prototype.bytesPerElement=8,xe("StructArrayLayout2f8",c);class f extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,r,l,p,m,x,b,C,A,L){const B=this.length;return this.resize(B+1),this.emplace(B,e,r,l,p,m,x,b,C,A,L)}emplace(e,r,l,p,m,x,b,C,A,L,B){const V=10*e;return this.uint16[V+0]=r,this.uint16[V+1]=l,this.uint16[V+2]=p,this.uint16[V+3]=m,this.uint16[V+4]=x,this.uint16[V+5]=b,this.uint16[V+6]=C,this.uint16[V+7]=A,this.uint16[V+8]=L,this.uint16[V+9]=B,e}}f.prototype.bytesPerElement=20,xe("StructArrayLayout10ui20",f);class _ extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,r,l,p,m,x,b,C,A,L,B,V){const q=this.length;return this.resize(q+1),this.emplace(q,e,r,l,p,m,x,b,C,A,L,B,V)}emplace(e,r,l,p,m,x,b,C,A,L,B,V,q){const H=12*e;return this.int16[H+0]=r,this.int16[H+1]=l,this.int16[H+2]=p,this.int16[H+3]=m,this.uint16[H+4]=x,this.uint16[H+5]=b,this.uint16[H+6]=C,this.uint16[H+7]=A,this.int16[H+8]=L,this.int16[H+9]=B,this.int16[H+10]=V,this.int16[H+11]=q,e}}_.prototype.bytesPerElement=24,xe("StructArrayLayout4i4ui4i24",_);class w extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,r,l){const p=this.length;return this.resize(p+1),this.emplace(p,e,r,l)}emplace(e,r,l,p){const m=3*e;return this.float32[m+0]=r,this.float32[m+1]=l,this.float32[m+2]=p,e}}w.prototype.bytesPerElement=12,xe("StructArrayLayout3f12",w);class S extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e){const r=this.length;return this.resize(r+1),this.emplace(r,e)}emplace(e,r){return this.uint32[1*e+0]=r,e}}S.prototype.bytesPerElement=4,xe("StructArrayLayout1ul4",S);class E extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,r,l,p,m,x,b,C,A){const L=this.length;return this.resize(L+1),this.emplace(L,e,r,l,p,m,x,b,C,A)}emplace(e,r,l,p,m,x,b,C,A,L){const B=10*e,V=5*e;return this.int16[B+0]=r,this.int16[B+1]=l,this.int16[B+2]=p,this.int16[B+3]=m,this.int16[B+4]=x,this.int16[B+5]=b,this.uint32[V+3]=C,this.uint16[B+8]=A,this.uint16[B+9]=L,e}}E.prototype.bytesPerElement=20,xe("StructArrayLayout6i1ul2ui20",E);class P extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,r,l,p,m,x){const b=this.length;return this.resize(b+1),this.emplace(b,e,r,l,p,m,x)}emplace(e,r,l,p,m,x,b){const C=6*e;return this.int16[C+0]=r,this.int16[C+1]=l,this.int16[C+2]=p,this.int16[C+3]=m,this.int16[C+4]=x,this.int16[C+5]=b,e}}P.prototype.bytesPerElement=12,xe("StructArrayLayout2i2i2i12",P);class $ extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,r,l,p,m){const x=this.length;return this.resize(x+1),this.emplace(x,e,r,l,p,m)}emplace(e,r,l,p,m,x){const b=4*e,C=8*e;return this.float32[b+0]=r,this.float32[b+1]=l,this.float32[b+2]=p,this.int16[C+6]=m,this.int16[C+7]=x,e}}$.prototype.bytesPerElement=16,xe("StructArrayLayout2f1f2i16",$);class O extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,r,l,p){const m=this.length;return this.resize(m+1),this.emplace(m,e,r,l,p)}emplace(e,r,l,p,m){const x=12*e,b=3*e;return this.uint8[x+0]=r,this.uint8[x+1]=l,this.float32[b+1]=p,this.float32[b+2]=m,e}}O.prototype.bytesPerElement=12,xe("StructArrayLayout2ub2f12",O);class j extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,r,l){const p=this.length;return this.resize(p+1),this.emplace(p,e,r,l)}emplace(e,r,l,p){const m=3*e;return this.uint16[m+0]=r,this.uint16[m+1]=l,this.uint16[m+2]=p,e}}j.prototype.bytesPerElement=6,xe("StructArrayLayout3ui6",j);class tt extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,r,l,p,m,x,b,C,A,L,B,V,q,H,st,nt,_t){const At=this.length;return this.resize(At+1),this.emplace(At,e,r,l,p,m,x,b,C,A,L,B,V,q,H,st,nt,_t)}emplace(e,r,l,p,m,x,b,C,A,L,B,V,q,H,st,nt,_t,At){const gt=24*e,Ct=12*e,Vt=48*e;return this.int16[gt+0]=r,this.int16[gt+1]=l,this.uint16[gt+2]=p,this.uint16[gt+3]=m,this.uint32[Ct+2]=x,this.uint32[Ct+3]=b,this.uint32[Ct+4]=C,this.uint16[gt+10]=A,this.uint16[gt+11]=L,this.uint16[gt+12]=B,this.float32[Ct+7]=V,this.float32[Ct+8]=q,this.uint8[Vt+36]=H,this.uint8[Vt+37]=st,this.uint8[Vt+38]=nt,this.uint32[Ct+10]=_t,this.int16[gt+22]=At,e}}tt.prototype.bytesPerElement=48,xe("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",tt);class J extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,r,l,p,m,x,b,C,A,L,B,V,q,H,st,nt,_t,At,gt,Ct,Vt,Ut,be,De,me,ce,re,ge){const de=this.length;return this.resize(de+1),this.emplace(de,e,r,l,p,m,x,b,C,A,L,B,V,q,H,st,nt,_t,At,gt,Ct,Vt,Ut,be,De,me,ce,re,ge)}emplace(e,r,l,p,m,x,b,C,A,L,B,V,q,H,st,nt,_t,At,gt,Ct,Vt,Ut,be,De,me,ce,re,ge,de){const Jt=34*e,Ge=17*e;return this.int16[Jt+0]=r,this.int16[Jt+1]=l,this.int16[Jt+2]=p,this.int16[Jt+3]=m,this.int16[Jt+4]=x,this.int16[Jt+5]=b,this.int16[Jt+6]=C,this.int16[Jt+7]=A,this.uint16[Jt+8]=L,this.uint16[Jt+9]=B,this.uint16[Jt+10]=V,this.uint16[Jt+11]=q,this.uint16[Jt+12]=H,this.uint16[Jt+13]=st,this.uint16[Jt+14]=nt,this.uint16[Jt+15]=_t,this.uint16[Jt+16]=At,this.uint16[Jt+17]=gt,this.uint16[Jt+18]=Ct,this.uint16[Jt+19]=Vt,this.uint16[Jt+20]=Ut,this.uint16[Jt+21]=be,this.uint16[Jt+22]=De,this.uint32[Ge+12]=me,this.float32[Ge+13]=ce,this.float32[Ge+14]=re,this.float32[Ge+15]=ge,this.float32[Ge+16]=de,e}}J.prototype.bytesPerElement=68,xe("StructArrayLayout8i15ui1ul4f68",J);class Q extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e){const r=this.length;return this.resize(r+1),this.emplace(r,e)}emplace(e,r){return this.float32[1*e+0]=r,e}}Q.prototype.bytesPerElement=4,xe("StructArrayLayout1f4",Q);class ht extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,r,l){const p=this.length;return this.resize(p+1),this.emplace(p,e,r,l)}emplace(e,r,l,p){const m=3*e;return this.int16[m+0]=r,this.int16[m+1]=l,this.int16[m+2]=p,e}}ht.prototype.bytesPerElement=6,xe("StructArrayLayout3i6",ht);class mt extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,r,l){const p=this.length;return this.resize(p+1),this.emplace(p,e,r,l)}emplace(e,r,l,p){const m=4*e;return this.uint32[2*e+0]=r,this.uint16[m+2]=l,this.uint16[m+3]=p,e}}mt.prototype.bytesPerElement=8,xe("StructArrayLayout1ul2ui8",mt);class xt extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,r){const l=this.length;return this.resize(l+1),this.emplace(l,e,r)}emplace(e,r,l){const p=2*e;return this.uint16[p+0]=r,this.uint16[p+1]=l,e}}xt.prototype.bytesPerElement=4,xe("StructArrayLayout2ui4",xt);class it extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e){const r=this.length;return this.resize(r+1),this.emplace(r,e)}emplace(e,r){return this.uint16[1*e+0]=r,e}}it.prototype.bytesPerElement=2,xe("StructArrayLayout1ui2",it);class Et extends xn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,r,l,p){const m=this.length;return this.resize(m+1),this.emplace(m,e,r,l,p)}emplace(e,r,l,p,m){const x=4*e;return this.float32[x+0]=r,this.float32[x+1]=l,this.float32[x+2]=p,this.float32[x+3]=m,e}}Et.prototype.bytesPerElement=16,xe("StructArrayLayout4f16",Et);class wt extends rr{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new ve(this.anchorPointX,this.anchorPointY)}}wt.prototype.size=20;class $t extends E{get(e){return new wt(this,e)}}xe("CollisionBoxArray",$t);class Dt extends rr{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(e){this._structArray.uint8[this._pos1+37]=e}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(e){this._structArray.uint8[this._pos1+38]=e}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(e){this._structArray.uint32[this._pos4+10]=e}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Dt.prototype.size=48;class Wt extends tt{get(e){return new Dt(this,e)}}xe("PlacedSymbolArray",Wt);class zt extends rr{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(e){this._structArray.uint32[this._pos4+12]=e}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get textOffset0(){return this._structArray.float32[this._pos4+14]}get textOffset1(){return this._structArray.float32[this._pos4+15]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+16]}}zt.prototype.size=68;class fe extends J{get(e){return new zt(this,e)}}xe("SymbolInstanceArray",fe);class se extends Q{getoffsetX(e){return this.float32[1*e+0]}}xe("GlyphOffsetArray",se);class ye extends ht{getx(e){return this.int16[3*e+0]}gety(e){return this.int16[3*e+1]}gettileUnitDistanceFromAnchor(e){return this.int16[3*e+2]}}xe("SymbolLineVertexArray",ye);class ni extends rr{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}ni.prototype.size=8;class di extends mt{get(e){return new ni(this,e)}}xe("FeatureIndexArray",di);class Le extends uo{}class Ii extends uo{}class Ke extends uo{}class ki extends i{}class wi extends o{}class qi extends c{}class Dn extends f{}class or extends _{}class jn extends w{}class ar extends S{}class Vr extends P{}class Ls extends O{}class ds extends j{}class vr extends xt{}const jr=Sn([{name:"a_pos",components:2,type:"Int16"}],4),{members:Mn}=jr;class pi{constructor(e=[]){this.segments=e}prepareSegment(e,r,l,p){let m=this.segments[this.segments.length-1];return e>pi.MAX_VERTEX_ARRAY_LENGTH&&ii(`Max vertices per segment is ${pi.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${e}`),(!m||m.vertexLength+e>pi.MAX_VERTEX_ARRAY_LENGTH||m.sortKey!==p)&&(m={vertexOffset:r.length,primitiveOffset:l.length,vertexLength:0,primitiveLength:0},p!==void 0&&(m.sortKey=p),this.segments.push(m)),m}get(){return this.segments}destroy(){for(const e of this.segments)for(const r in e.vaos)e.vaos[r].destroy()}static simpleSegment(e,r,l,p){return new pi([{vertexOffset:e,primitiveOffset:r,vertexLength:l,primitiveLength:p,vaos:{},sortKey:0}])}}function Fi(n,e){return 256*(n=lt(Math.floor(n),0,255))+lt(Math.floor(e),0,255)}pi.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,xe("SegmentVector",pi);const Bn=Sn([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Rn={exports:{}},ln={exports:{}};ln.exports=function(n,e){var r,l,p,m,x,b,C,A;for(l=n.length-(r=3&n.length),p=e,x=3432918353,b=461845907,A=0;A<l;)C=255&n.charCodeAt(A)|(255&n.charCodeAt(++A))<<8|(255&n.charCodeAt(++A))<<16|(255&n.charCodeAt(++A))<<24,++A,p=27492+(65535&(m=5*(65535&(p=(p^=C=(65535&(C=(C=(65535&C)*x+(((C>>>16)*x&65535)<<16)&4294967295)<<15|C>>>17))*b+(((C>>>16)*b&65535)<<16)&4294967295)<<13|p>>>19))+((5*(p>>>16)&65535)<<16)&4294967295))+((58964+(m>>>16)&65535)<<16);switch(C=0,r){case 3:C^=(255&n.charCodeAt(A+2))<<16;case 2:C^=(255&n.charCodeAt(A+1))<<8;case 1:p^=C=(65535&(C=(C=(65535&(C^=255&n.charCodeAt(A)))*x+(((C>>>16)*x&65535)<<16)&4294967295)<<15|C>>>17))*b+(((C>>>16)*b&65535)<<16)&4294967295}return p^=n.length,p=2246822507*(65535&(p^=p>>>16))+((2246822507*(p>>>16)&65535)<<16)&4294967295,p=3266489909*(65535&(p^=p>>>13))+((3266489909*(p>>>16)&65535)<<16)&4294967295,(p^=p>>>16)>>>0};var Fn={exports:{}};Fn.exports=function(n,e){for(var r,l=n.length,p=e^l,m=0;l>=4;)r=1540483477*(65535&(r=255&n.charCodeAt(m)|(255&n.charCodeAt(++m))<<8|(255&n.charCodeAt(++m))<<16|(255&n.charCodeAt(++m))<<24))+((1540483477*(r>>>16)&65535)<<16),p=1540483477*(65535&p)+((1540483477*(p>>>16)&65535)<<16)^(r=1540483477*(65535&(r^=r>>>24))+((1540483477*(r>>>16)&65535)<<16)),l-=4,++m;switch(l){case 3:p^=(255&n.charCodeAt(m+2))<<16;case 2:p^=(255&n.charCodeAt(m+1))<<8;case 1:p=1540483477*(65535&(p^=255&n.charCodeAt(m)))+((1540483477*(p>>>16)&65535)<<16)}return p=1540483477*(65535&(p^=p>>>13))+((1540483477*(p>>>16)&65535)<<16),(p^=p>>>15)>>>0};var Cs=ln.exports,_l=Fn.exports;Rn.exports=Cs,Rn.exports.murmur3=Cs,Rn.exports.murmur2=_l;class Oo{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(e,r,l,p){this.ids.push(ac(e)),this.positions.push(r,l,p)}getPositions(e){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const r=ac(e);let l=0,p=this.ids.length-1;for(;l<p;){const x=l+p>>1;this.ids[x]>=r?p=x:l=x+1}const m=[];for(;this.ids[l]===r;)m.push({index:this.positions[3*l],start:this.positions[3*l+1],end:this.positions[3*l+2]}),l++;return m}static serialize(e,r){const l=new Float64Array(e.ids),p=new Uint32Array(e.positions);return xl(l,p,0,l.length-1),r&&r.push(l.buffer,p.buffer),{ids:l,positions:p}}static deserialize(e){const r=new Oo;return r.ids=e.ids,r.positions=e.positions,r.indexed=!0,r}}function ac(n){const e=+n;return!isNaN(e)&&e<=Number.MAX_SAFE_INTEGER?e:Rn.exports(String(n))}function xl(n,e,r,l){for(;r<l;){const p=n[r+l>>1];let m=r-1,x=l+1;for(;;){do m++;while(n[m]<p);do x--;while(n[x]>p);if(m>=x)break;qr(n,m,x),qr(e,3*m,3*x),qr(e,3*m+1,3*x+1),qr(e,3*m+2,3*x+2)}x-r<l-x?(xl(n,e,r,x),r=x+1):(xl(n,e,x+1,l),l=x)}}function qr(n,e,r){const l=n[e];n[e]=n[r],n[r]=l}xe("FeaturePositionMap",Oo);class po{constructor(e,r){this.gl=e.gl,this.location=r}}class wr extends po{constructor(e,r){super(e,r),this.current=0}set(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))}}class No extends po{constructor(e,r){super(e,r),this.current=[0,0,0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))}}class $s extends po{constructor(e,r){super(e,r),this.current=K.transparent}set(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))}}const Bc=new Float32Array(16);function Rc(n){return[Fi(255*n.r,255*n.g),Fi(255*n.b,255*n.a)]}class vl{constructor(e,r,l){this.value=e,this.uniformNames=r.map(p=>`u_${p}`),this.type=l}setUniform(e,r,l){e.set(l.constantOr(this.value))}getBinding(e,r,l){return this.type==="color"?new $s(e,r):new wr(e,r)}}class Ua{constructor(e,r){this.uniformNames=r.map(l=>`u_${l}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(e,r){this.pixelRatioFrom=r.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=r.tlbr,this.patternTo=e.tlbr}setUniform(e,r,l,p){const m=p==="u_pattern_to"?this.patternTo:p==="u_pattern_from"?this.patternFrom:p==="u_pixel_ratio_to"?this.pixelRatioTo:p==="u_pixel_ratio_from"?this.pixelRatioFrom:null;m&&e.set(m)}getBinding(e,r,l){return l.substr(0,9)==="u_pattern"?new No(e,r):new wr(e,r)}}class fo{constructor(e,r,l,p){this.expression=e,this.type=l,this.maxValue=0,this.paintVertexAttributes=r.map(m=>({name:`a_${m}`,type:"Float32",components:l==="color"?2:1,offset:0})),this.paintVertexArray=new p}populatePaintArray(e,r,l,p,m){const x=this.paintVertexArray.length,b=this.expression.evaluate(new on(0),r,{},p,[],m);this.paintVertexArray.resize(e),this._setPaintValue(x,e,b)}updatePaintArray(e,r,l,p){const m=this.expression.evaluate({zoom:0},l,p);this._setPaintValue(e,r,m)}_setPaintValue(e,r,l){if(this.type==="color"){const p=Rc(l);for(let m=e;m<r;m++)this.paintVertexArray.emplace(m,p[0],p[1])}else{for(let p=e;p<r;p++)this.paintVertexArray.emplace(p,l);this.maxValue=Math.max(this.maxValue,Math.abs(l))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ws{constructor(e,r,l,p,m,x){this.expression=e,this.uniformNames=r.map(b=>`u_${b}_t`),this.type=l,this.useIntegerZoom=p,this.zoom=m,this.maxValue=0,this.paintVertexAttributes=r.map(b=>({name:`a_${b}`,type:"Float32",components:l==="color"?4:2,offset:0})),this.paintVertexArray=new x}populatePaintArray(e,r,l,p,m){const x=this.expression.evaluate(new on(this.zoom),r,{},p,[],m),b=this.expression.evaluate(new on(this.zoom+1),r,{},p,[],m),C=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(C,e,x,b)}updatePaintArray(e,r,l,p){const m=this.expression.evaluate({zoom:this.zoom},l,p),x=this.expression.evaluate({zoom:this.zoom+1},l,p);this._setPaintValue(e,r,m,x)}_setPaintValue(e,r,l,p){if(this.type==="color"){const m=Rc(l),x=Rc(p);for(let b=e;b<r;b++)this.paintVertexArray.emplace(b,m[0],m[1],x[0],x[1])}else{for(let m=e;m<r;m++)this.paintVertexArray.emplace(m,l,p);this.maxValue=Math.max(this.maxValue,Math.abs(l),Math.abs(p))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(e,r){const l=this.useIntegerZoom?Math.floor(r.zoom):r.zoom,p=lt(this.expression.interpolationFactor(l,this.zoom,this.zoom+1),0,1);e.set(p)}getBinding(e,r,l){return new wr(e,r)}}class Uo{constructor(e,r,l,p,m,x){this.expression=e,this.type=r,this.useIntegerZoom=l,this.zoom=p,this.layerId=x,this.zoomInPaintVertexArray=new m,this.zoomOutPaintVertexArray=new m}populatePaintArray(e,r,l){const p=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(p,e,r.patterns&&r.patterns[this.layerId],l)}updatePaintArray(e,r,l,p,m){this._setPaintValues(e,r,l.patterns&&l.patterns[this.layerId],m)}_setPaintValues(e,r,l,p){if(!p||!l)return;const{min:m,mid:x,max:b}=l,C=p[m],A=p[x],L=p[b];if(C&&A&&L)for(let B=e;B<r;B++)this.zoomInPaintVertexArray.emplace(B,A.tl[0],A.tl[1],A.br[0],A.br[1],C.tl[0],C.tl[1],C.br[0],C.br[1],A.pixelRatio,C.pixelRatio),this.zoomOutPaintVertexArray.emplace(B,A.tl[0],A.tl[1],A.br[0],A.br[1],L.tl[0],L.tl[1],L.br[0],L.br[1],A.pixelRatio,L.pixelRatio)}upload(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,Bn.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,Bn.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class xh{constructor(e,r,l){this.binders={},this._buffers=[];const p=[];for(const m in e.paint._values){if(!l(m))continue;const x=e.paint.get(m);if(!(x instanceof Ms&&We(x.property.specification)))continue;const b=mo(m,e.type),C=x.value,A=x.property.specification.type,L=x.property.useIntegerZoom,B=x.property.specification["property-type"],V=B==="cross-faded"||B==="cross-faded-data-driven";if(C.kind==="constant")this.binders[m]=V?new Ua(C.value,b):new vl(C.value,b,A),p.push(`/u_${m}`);else if(C.kind==="source"||V){const q=vh(m,A,"source");this.binders[m]=V?new Uo(C,A,L,r,q,e.id):new fo(C,b,A,q),p.push(`/a_${m}`)}else{const q=vh(m,A,"composite");this.binders[m]=new Ws(C,b,A,L,r,q),p.push(`/z_${m}`)}}this.cacheKey=p.sort().join("")}getMaxValue(e){const r=this.binders[e];return r instanceof fo||r instanceof Ws?r.maxValue:0}populatePaintArrays(e,r,l,p,m){for(const x in this.binders){const b=this.binders[x];(b instanceof fo||b instanceof Ws||b instanceof Uo)&&b.populatePaintArray(e,r,l,p,m)}}setConstantPatternPositions(e,r){for(const l in this.binders){const p=this.binders[l];p instanceof Ua&&p.setConstantPatternPositions(e,r)}}updatePaintArrays(e,r,l,p,m){let x=!1;for(const b in e){const C=r.getPositions(b);for(const A of C){const L=l.feature(A.index);for(const B in this.binders){const V=this.binders[B];if((V instanceof fo||V instanceof Ws||V instanceof Uo)&&V.expression.isStateDependent===!0){const q=p.paint.get(B);V.expression=q.value,V.updatePaintArray(A.start,A.end,L,e[b],m),x=!0}}}}return x}defines(){const e=[];for(const r in this.binders){const l=this.binders[r];(l instanceof vl||l instanceof Ua)&&e.push(...l.uniformNames.map(p=>`#define HAS_UNIFORM_${p}`))}return e}getBinderAttributes(){const e=[];for(const r in this.binders){const l=this.binders[r];if(l instanceof fo||l instanceof Ws)for(let p=0;p<l.paintVertexAttributes.length;p++)e.push(l.paintVertexAttributes[p].name);else if(l instanceof Uo)for(let p=0;p<Bn.members.length;p++)e.push(Bn.members[p].name)}return e}getBinderUniforms(){const e=[];for(const r in this.binders){const l=this.binders[r];if(l instanceof vl||l instanceof Ua||l instanceof Ws)for(const p of l.uniformNames)e.push(p)}return e}getPaintVertexBuffers(){return this._buffers}getUniforms(e,r){const l=[];for(const p in this.binders){const m=this.binders[p];if(m instanceof vl||m instanceof Ua||m instanceof Ws){for(const x of m.uniformNames)if(r[x]){const b=m.getBinding(e,r[x],x);l.push({name:x,property:p,binding:b})}}}return l}setUniforms(e,r,l,p){for(const{name:m,property:x,binding:b}of r)this.binders[x].setUniform(b,p,l.get(x),m)}updatePaintBuffers(e){this._buffers=[];for(const r in this.binders){const l=this.binders[r];if(e&&l instanceof Uo){const p=e.fromScale===2?l.zoomInPaintVertexBuffer:l.zoomOutPaintVertexBuffer;p&&this._buffers.push(p)}else(l instanceof fo||l instanceof Ws)&&l.paintVertexBuffer&&this._buffers.push(l.paintVertexBuffer)}}upload(e){for(const r in this.binders){const l=this.binders[r];(l instanceof fo||l instanceof Ws||l instanceof Uo)&&l.upload(e)}this.updatePaintBuffers()}destroy(){for(const e in this.binders){const r=this.binders[e];(r instanceof fo||r instanceof Ws||r instanceof Uo)&&r.destroy()}}}class ma{constructor(e,r,l=()=>!0){this.programConfigurations={};for(const p of e)this.programConfigurations[p.id]=new xh(p,r,l);this.needsUpload=!1,this._featureMap=new Oo,this._bufferOffset=0}populatePaintArrays(e,r,l,p,m,x){for(const b in this.programConfigurations)this.programConfigurations[b].populatePaintArrays(e,r,p,m,x);r.id!==void 0&&this._featureMap.add(r.id,l,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}updatePaintArrays(e,r,l,p){for(const m of l)this.needsUpload=this.programConfigurations[m.id].updatePaintArrays(e,this._featureMap,r,m,p)||this.needsUpload}get(e){return this.programConfigurations[e]}upload(e){if(this.needsUpload){for(const r in this.programConfigurations)this.programConfigurations[r].upload(e);this.needsUpload=!1}}destroy(){for(const e in this.programConfigurations)this.programConfigurations[e].destroy()}}function mo(n,e){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[n]||[n.replace(`${e}-`,"").replace(/-/g,"_")]}function vh(n,e,r){const l={color:{source:c,composite:Et},number:{source:Q,composite:c}},p=function(m){return{"line-pattern":{source:Dn,composite:Dn},"fill-pattern":{source:Dn,composite:Dn},"fill-extrusion-pattern":{source:Dn,composite:Dn}}[m]}(n);return p&&p[r]||l[e][r]}xe("ConstantBinder",vl),xe("CrossFadedConstantBinder",Ua),xe("SourceExpressionBinder",fo),xe("CrossFadedCompositeBinder",Uo),xe("CompositeExpressionBinder",Ws),xe("ProgramConfiguration",xh,{omit:["_buffers"]}),xe("ProgramConfigurationSet",ma);var Pn=8192;const wl=Math.pow(2,14)-1,lc=-wl-1;function go(n){const e=Pn/n.extent,r=n.loadGeometry();for(let l=0;l<r.length;l++){const p=r[l];for(let m=0;m<p.length;m++){const x=p[m],b=Math.round(x.x*e),C=Math.round(x.y*e);x.x=lt(b,lc,wl),x.y=lt(C,lc,wl),(b<x.x||b>x.x+1||C<x.y||C>x.y+1)&&ii("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return r}function ga(n,e){return{type:n.type,id:n.id,properties:n.properties,geometry:e?go(n):[]}}function cc(n,e,r,l,p){n.emplaceBack(2*e+(l+1)/2,2*r+(p+1)/2)}class Fc{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(r=>r.id),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Ii,this.indexArray=new ds,this.segments=new pi,this.programConfigurations=new ma(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter(r=>r.isStateDependent()).map(r=>r.id)}populate(e,r,l){const p=this.layers[0],m=[];let x=null,b=!1;p.type==="circle"&&(x=p.layout.get("circle-sort-key"),b=!x.isConstant());for(const{feature:C,id:A,index:L,sourceLayerIndex:B}of e){const V=this.layers[0]._featureFilter.needGeometry,q=ga(C,V);if(!this.layers[0]._featureFilter.filter(new on(this.zoom),q,l))continue;const H=b?x.evaluate(q,{},l):void 0,st={id:A,properties:C.properties,type:C.type,sourceLayerIndex:B,index:L,geometry:V?q.geometry:go(C),patterns:{},sortKey:H};m.push(st)}b&&m.sort((C,A)=>C.sortKey-A.sortKey);for(const C of m){const{geometry:A,index:L,sourceLayerIndex:B}=C,V=e[L].feature;this.addFeature(C,A,L,l),r.featureIndex.insert(V,A,L,B,this.index)}}update(e,r,l){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,r,this.stateDependentLayers,l)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Mn),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,r,l,p){for(const m of r)for(const x of m){const b=x.x,C=x.y;if(b<0||b>=Pn||C<0||C>=Pn)continue;const A=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),L=A.vertexLength;cc(this.layoutVertexArray,b,C,-1,-1),cc(this.layoutVertexArray,b,C,1,-1),cc(this.layoutVertexArray,b,C,1,1),cc(this.layoutVertexArray,b,C,-1,1),this.indexArray.emplaceBack(L,L+1,L+2),this.indexArray.emplaceBack(L,L+3,L+2),A.vertexLength+=4,A.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,l,{},p)}}function Va(n,e){for(let r=0;r<n.length;r++)if(ja(e,n[r]))return!0;for(let r=0;r<e.length;r++)if(ja(n,e[r]))return!0;return!!Uc(n,e)}function Oc(n,e,r){return!!ja(n,e)||!!Vc(e,n,r)}function hc(n,e){if(n.length===1)return bh(e,n[0]);for(let r=0;r<e.length;r++){const l=e[r];for(let p=0;p<l.length;p++)if(ja(n,l[p]))return!0}for(let r=0;r<n.length;r++)if(bh(e,n[r]))return!0;for(let r=0;r<e.length;r++)if(Uc(n,e[r]))return!0;return!1}function Nc(n,e,r){if(n.length>1){if(Uc(n,e))return!0;for(let l=0;l<e.length;l++)if(Vc(e[l],n,r))return!0}for(let l=0;l<n.length;l++)if(Vc(n[l],e,r))return!0;return!1}function Uc(n,e){if(n.length===0||e.length===0)return!1;for(let r=0;r<n.length-1;r++){const l=n[r],p=n[r+1];for(let m=0;m<e.length-1;m++)if(Kh(l,p,e[m],e[m+1]))return!0}return!1}function Kh(n,e,r,l){return dn(n,r,l)!==dn(e,r,l)&&dn(n,e,r)!==dn(n,e,l)}function Vc(n,e,r){const l=r*r;if(e.length===1)return n.distSqr(e[0])<l;for(let p=1;p<e.length;p++)if(wh(n,e[p-1],e[p])<l)return!0;return!1}function wh(n,e,r){const l=e.distSqr(r);if(l===0)return n.distSqr(e);const p=((n.x-e.x)*(r.x-e.x)+(n.y-e.y)*(r.y-e.y))/l;return n.distSqr(p<0?e:p>1?r:r.sub(e)._mult(p)._add(e))}function bh(n,e){let r,l,p,m=!1;for(let x=0;x<n.length;x++){r=n[x];for(let b=0,C=r.length-1;b<r.length;C=b++)l=r[b],p=r[C],l.y>e.y!=p.y>e.y&&e.x<(p.x-l.x)*(e.y-l.y)/(p.y-l.y)+l.x&&(m=!m)}return m}function ja(n,e){let r=!1;for(let l=0,p=n.length-1;l<n.length;p=l++){const m=n[l],x=n[p];m.y>e.y!=x.y>e.y&&e.x<(x.x-m.x)*(e.y-m.y)/(x.y-m.y)+m.x&&(r=!r)}return r}function Yh(n,e,r){const l=r[0],p=r[2];if(n.x<l.x&&e.x<l.x||n.x>p.x&&e.x>p.x||n.y<l.y&&e.y<l.y||n.y>p.y&&e.y>p.y)return!1;const m=dn(n,e,r[0]);return m!==dn(n,e,r[1])||m!==dn(n,e,r[2])||m!==dn(n,e,r[3])}function yo(n,e,r){const l=e.paint.get(n).value;return l.kind==="constant"?l.value:r.programConfigurations.get(e.id).getMaxValue(n)}function Vo(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function qa(n,e,r,l,p){if(!e[0]&&!e[1])return n;const m=ve.convert(e)._mult(p);r==="viewport"&&m._rotate(-l);const x=[];for(let b=0;b<n.length;b++)x.push(n[b].sub(m));return x}xe("CircleBucket",Fc,{omit:["layers"]});const ya=new an({"circle-sort-key":new Ue(vt.layout_circle["circle-sort-key"])});var jc={paint:new an({"circle-radius":new Ue(vt.paint_circle["circle-radius"]),"circle-color":new Ue(vt.paint_circle["circle-color"]),"circle-blur":new Ue(vt.paint_circle["circle-blur"]),"circle-opacity":new Ue(vt.paint_circle["circle-opacity"]),"circle-translate":new ze(vt.paint_circle["circle-translate"]),"circle-translate-anchor":new ze(vt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new ze(vt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new ze(vt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Ue(vt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Ue(vt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Ue(vt.paint_circle["circle-stroke-opacity"])}),layout:ya},Xn=1e-6,ps=typeof Float32Array<"u"?Float32Array:Array;function kh(){var n=new ps(9);return ps!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[5]=0,n[6]=0,n[7]=0),n[0]=1,n[4]=1,n[8]=1,n}function qc(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function uc(n,e,r){var l=e[0],p=e[1],m=e[2],x=e[3],b=e[4],C=e[5],A=e[6],L=e[7],B=e[8],V=e[9],q=e[10],H=e[11],st=e[12],nt=e[13],_t=e[14],At=e[15],gt=r[0],Ct=r[1],Vt=r[2],Ut=r[3];return n[0]=gt*l+Ct*b+Vt*B+Ut*st,n[1]=gt*p+Ct*C+Vt*V+Ut*nt,n[2]=gt*m+Ct*A+Vt*q+Ut*_t,n[3]=gt*x+Ct*L+Vt*H+Ut*At,n[4]=(gt=r[4])*l+(Ct=r[5])*b+(Vt=r[6])*B+(Ut=r[7])*st,n[5]=gt*p+Ct*C+Vt*V+Ut*nt,n[6]=gt*m+Ct*A+Vt*q+Ut*_t,n[7]=gt*x+Ct*L+Vt*H+Ut*At,n[8]=(gt=r[8])*l+(Ct=r[9])*b+(Vt=r[10])*B+(Ut=r[11])*st,n[9]=gt*p+Ct*C+Vt*V+Ut*nt,n[10]=gt*m+Ct*A+Vt*q+Ut*_t,n[11]=gt*x+Ct*L+Vt*H+Ut*At,n[12]=(gt=r[12])*l+(Ct=r[13])*b+(Vt=r[14])*B+(Ut=r[15])*st,n[13]=gt*p+Ct*C+Vt*V+Ut*nt,n[14]=gt*m+Ct*A+Vt*q+Ut*_t,n[15]=gt*x+Ct*L+Vt*H+Ut*At,n}Math.hypot||(Math.hypot=function(){for(var n=0,e=arguments.length;e--;)n+=arguments[e]*arguments[e];return Math.sqrt(n)});var bl,Jh=uc;function dc(){var n=new ps(3);return ps!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n}function pc(n,e,r){var l=new ps(3);return l[0]=n,l[1]=e,l[2]=r,l}function Za(n,e,r){var l=e[0],p=e[1],m=e[2],x=e[3];return n[0]=r[0]*l+r[4]*p+r[8]*m+r[12]*x,n[1]=r[1]*l+r[5]*p+r[9]*m+r[13]*x,n[2]=r[2]*l+r[6]*p+r[10]*m+r[14]*x,n[3]=r[3]*l+r[7]*p+r[11]*m+r[15]*x,n}function Th(){var n=new ps(4);return ps!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n[3]=1,n}function fc(n,e){const r=Za([],[n.x,n.y,0,1],e);return new ve(r[0]/r[3],r[1]/r[3])}dc(),bl=new ps(4),ps!=Float32Array&&(bl[0]=0,bl[1]=0,bl[2]=0,bl[3]=0),dc(),pc(1,0,0),pc(0,1,0),Th(),Th(),kh(),function(){var n;n=new ps(2),ps!=Float32Array&&(n[0]=0,n[1]=0)}();class Ch extends Fc{}xe("HeatmapBucket",Ch,{omit:["layers"]});var Qh={paint:new an({"heatmap-radius":new Ue(vt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Ue(vt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new ze(vt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new us(vt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new ze(vt.paint_heatmap["heatmap-opacity"])})};function kl(n,{width:e,height:r},l,p){if(p){if(p instanceof Uint8ClampedArray)p=new Uint8Array(p.buffer);else if(p.length!==e*r*l)throw new RangeError(`mismatched image size. expected: ${p.length} but got: ${e*r*l}`)}else p=new Uint8Array(e*r*l);return n.width=e,n.height=r,n.data=p,n}function Sh(n,{width:e,height:r},l){if(e===n.width&&r===n.height)return;const p=kl({},{width:e,height:r},l);Zc(n,p,{x:0,y:0},{x:0,y:0},{width:Math.min(n.width,e),height:Math.min(n.height,r)},l),n.width=e,n.height=r,n.data=p.data}function Zc(n,e,r,l,p,m){if(p.width===0||p.height===0)return e;if(p.width>n.width||p.height>n.height||r.x>n.width-p.width||r.y>n.height-p.height)throw new RangeError("out of range source coordinates for image copy");if(p.width>e.width||p.height>e.height||l.x>e.width-p.width||l.y>e.height-p.height)throw new RangeError("out of range destination coordinates for image copy");const x=n.data,b=e.data;if(x===b)throw new Error("srcData equals dstData, so image is already copied");for(let C=0;C<p.height;C++){const A=((r.y+C)*n.width+r.x)*m,L=((l.y+C)*e.width+l.x)*m;for(let B=0;B<p.width*m;B++)b[L+B]=x[A+B]}return e}class Tl{constructor(e,r){kl(this,e,1,r)}resize(e){Sh(this,e,1)}clone(){return new Tl({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,r,l,p,m){Zc(e,r,l,p,m,1)}}class Xs{constructor(e,r){kl(this,e,4,r)}resize(e){Sh(this,e,4)}replace(e,r){r?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}clone(){return new Xs({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,r,l,p,m){Zc(e,r,l,p,m,4)}}function Ha(n){const e={},r=n.resolution||256,l=n.clips?n.clips.length:1,p=n.image||new Xs({width:r,height:l});if(Math.log(r)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${r}`);const m=(x,b,C)=>{e[n.evaluationKey]=C;const A=n.expression.evaluate(e);p.data[x+b+0]=Math.floor(255*A.r/A.a),p.data[x+b+1]=Math.floor(255*A.g/A.a),p.data[x+b+2]=Math.floor(255*A.b/A.a),p.data[x+b+3]=Math.floor(255*A.a)};if(n.clips)for(let x=0,b=0;x<l;++x,b+=4*r)for(let C=0,A=0;C<r;C++,A+=4){const L=C/(r-1),{start:B,end:V}=n.clips[x];m(b,A,B*(1-L)+V*L)}else for(let x=0,b=0;x<r;x++,b+=4)m(0,b,x/(r-1));return p}xe("AlphaImage",Tl),xe("RGBAImage",Xs);var _o={paint:new an({"hillshade-illumination-direction":new ze(vt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new ze(vt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new ze(vt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new ze(vt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new ze(vt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new ze(vt.paint_hillshade["hillshade-accent-color"])})};const gi=Sn([{name:"a_pos",components:2,type:"Int16"}],4),{members:br}=gi;var Ga={exports:{}};function mc(n,e,r){r=r||2;var l,p,m,x,b,C,A,L=e&&e.length,B=L?e[0]*r:n.length,V=jo(n,0,B,r,!0),q=[];if(!V||V.next===V.prev)return q;if(L&&(V=function(st,nt,_t,At){var gt,Ct,Vt,Ut=[];for(gt=0,Ct=nt.length;gt<Ct;gt++)(Vt=jo(st,nt[gt]*At,gt<Ct-1?nt[gt+1]*At:st.length,At,!1))===Vt.next&&(Vt.steiner=!0),Ut.push(su(Vt));for(Ut.sort(eu),gt=0;gt<Ut.length;gt++)_t=iu(Ut[gt],_t);return _t}(n,e,V,r)),n.length>80*r){l=m=n[0],p=x=n[1];for(var H=r;H<B;H+=r)(b=n[H])<l&&(l=b),(C=n[H+1])<p&&(p=C),b>m&&(m=b),C>x&&(x=C);A=(A=Math.max(m-l,x-p))!==0?32767/A:0}return xo(V,q,r,l,p,A,0),q}function jo(n,e,r,l,p){var m,x;if(p===vo(n,e,r,l)>0)for(m=e;m<r;m+=l)x=Zo(m,n[m],n[m+1],x);else for(m=r-l;m>=e;m-=l)x=Zo(m,n[m],n[m+1],x);return x&&lr(x,x.next)&&(xa(x),x=x.next),x}function _a(n,e){if(!n)return n;e||(e=n);var r,l=n;do if(r=!1,l.steiner||!lr(l,l.next)&&mn(l.prev,l,l.next)!==0)l=l.next;else{if(xa(l),(l=e=l.prev)===l.next)break;r=!0}while(r||l!==e);return e}function xo(n,e,r,l,p,m,x){if(n){!x&&m&&function(L,B,V,q){var H=L;do H.z===0&&(H.z=Sl(H.x,H.y,B,V,q)),H.prevZ=H.prev,H.nextZ=H.next,H=H.next;while(H!==L);H.prevZ.nextZ=null,H.prevZ=null,function(st){var nt,_t,At,gt,Ct,Vt,Ut,be,De=1;do{for(_t=st,st=null,Ct=null,Vt=0;_t;){for(Vt++,At=_t,Ut=0,nt=0;nt<De&&(Ut++,At=At.nextZ);nt++);for(be=De;Ut>0||be>0&&At;)Ut!==0&&(be===0||!At||_t.z<=At.z)?(gt=_t,_t=_t.nextZ,Ut--):(gt=At,At=At.nextZ,be--),Ct?Ct.nextZ=gt:st=gt,gt.prevZ=Ct,Ct=gt;_t=At}Ct.nextZ=null,De*=2}while(Vt>1)}(H)}(n,l,p,m);for(var b,C,A=n;n.prev!==n.next;)if(b=n.prev,C=n.next,m?tu(n,l,p,m):Hc(n))e.push(b.i/r|0),e.push(n.i/r|0),e.push(C.i/r|0),xa(n),n=C.next,A=C.next;else if((n=C)===A){x?x===1?xo(n=Cl(_a(n),e,r),e,r,l,p,m,2):x===2&&Gc(n,e,r,l,p,m):xo(_a(n),e,r,l,p,m,1);break}}}function Hc(n){var e=n.prev,r=n,l=n.next;if(mn(e,r,l)>=0)return!1;for(var p=e.x,m=r.x,x=l.x,b=e.y,C=r.y,A=l.y,L=p<m?p<x?p:x:m<x?m:x,B=b<C?b<A?b:A:C<A?C:A,V=p>m?p>x?p:x:m>x?m:x,q=b>C?b>A?b:A:C>A?C:A,H=l.next;H!==e;){if(H.x>=L&&H.x<=V&&H.y>=B&&H.y<=q&&qo(p,b,m,C,x,A,H.x,H.y)&&mn(H.prev,H,H.next)>=0)return!1;H=H.next}return!0}function tu(n,e,r,l){var p=n.prev,m=n,x=n.next;if(mn(p,m,x)>=0)return!1;for(var b=p.x,C=m.x,A=x.x,L=p.y,B=m.y,V=x.y,q=b<C?b<A?b:A:C<A?C:A,H=L<B?L<V?L:V:B<V?B:V,st=b>C?b>A?b:A:C>A?C:A,nt=L>B?L>V?L:V:B>V?B:V,_t=Sl(q,H,e,r,l),At=Sl(st,nt,e,r,l),gt=n.prevZ,Ct=n.nextZ;gt&&gt.z>=_t&&Ct&&Ct.z<=At;){if(gt.x>=q&&gt.x<=st&&gt.y>=H&&gt.y<=nt&&gt!==p&&gt!==x&&qo(b,L,C,B,A,V,gt.x,gt.y)&&mn(gt.prev,gt,gt.next)>=0||(gt=gt.prevZ,Ct.x>=q&&Ct.x<=st&&Ct.y>=H&&Ct.y<=nt&&Ct!==p&&Ct!==x&&qo(b,L,C,B,A,V,Ct.x,Ct.y)&&mn(Ct.prev,Ct,Ct.next)>=0))return!1;Ct=Ct.nextZ}for(;gt&&gt.z>=_t;){if(gt.x>=q&&gt.x<=st&&gt.y>=H&&gt.y<=nt&&gt!==p&&gt!==x&&qo(b,L,C,B,A,V,gt.x,gt.y)&&mn(gt.prev,gt,gt.next)>=0)return!1;gt=gt.prevZ}for(;Ct&&Ct.z<=At;){if(Ct.x>=q&&Ct.x<=st&&Ct.y>=H&&Ct.y<=nt&&Ct!==p&&Ct!==x&&qo(b,L,C,B,A,V,Ct.x,Ct.y)&&mn(Ct.prev,Ct,Ct.next)>=0)return!1;Ct=Ct.nextZ}return!0}function Cl(n,e,r){var l=n;do{var p=l.prev,m=l.next.next;!lr(p,m)&&Eh(p,l,l.next,m)&&El(p,m)&&El(m,p)&&(e.push(p.i/r|0),e.push(l.i/r|0),e.push(m.i/r|0),xa(l),xa(l.next),l=n=m),l=l.next}while(l!==n);return _a(l)}function Gc(n,e,r,l,p,m){var x=n;do{for(var b=x.next.next;b!==x.prev;){if(x.i!==b.i&&Wc(x,b)){var C=Ih(x,b);return x=_a(x,x.next),C=_a(C,C.next),xo(x,e,r,l,p,m,0),void xo(C,e,r,l,p,m,0)}b=b.next}x=x.next}while(x!==n)}function eu(n,e){return n.x-e.x}function iu(n,e){var r=function(p,m){var x,b=m,C=p.x,A=p.y,L=-1/0;do{if(A<=b.y&&A>=b.next.y&&b.next.y!==b.y){var B=b.x+(A-b.y)*(b.next.x-b.x)/(b.next.y-b.y);if(B<=C&&B>L&&(L=B,x=b.x<b.next.x?b:b.next,B===C))return x}b=b.next}while(b!==m);if(!x)return null;var V,q=x,H=x.x,st=x.y,nt=1/0;b=x;do C>=b.x&&b.x>=H&&C!==b.x&&qo(A<st?C:L,A,H,st,A<st?L:C,A,b.x,b.y)&&(V=Math.abs(A-b.y)/(C-b.x),El(b,p)&&(V<nt||V===nt&&(b.x>x.x||b.x===x.x&&nu(x,b)))&&(x=b,nt=V)),b=b.next;while(b!==q);return x}(n,e);if(!r)return e;var l=Ih(r,n);return _a(l,l.next),_a(r,r.next)}function nu(n,e){return mn(n.prev,n,e.prev)<0&&mn(e.next,n,n.next)<0}function Sl(n,e,r,l,p){return(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=(n-r)*p|0)|n<<8))|n<<4))|n<<2))|n<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-l)*p|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function su(n){var e=n,r=n;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==n);return r}function qo(n,e,r,l,p,m,x,b){return(p-x)*(e-b)>=(n-x)*(m-b)&&(n-x)*(l-b)>=(r-x)*(e-b)&&(r-x)*(m-b)>=(p-x)*(l-b)}function Wc(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!function(r,l){var p=r;do{if(p.i!==r.i&&p.next.i!==r.i&&p.i!==l.i&&p.next.i!==l.i&&Eh(p,p.next,r,l))return!0;p=p.next}while(p!==r);return!1}(n,e)&&(El(n,e)&&El(e,n)&&function(r,l){var p=r,m=!1,x=(r.x+l.x)/2,b=(r.y+l.y)/2;do p.y>b!=p.next.y>b&&p.next.y!==p.y&&x<(p.next.x-p.x)*(b-p.y)/(p.next.y-p.y)+p.x&&(m=!m),p=p.next;while(p!==r);return m}(n,e)&&(mn(n.prev,n,e.prev)||mn(n,e.prev,e))||lr(n,e)&&mn(n.prev,n,n.next)>0&&mn(e.prev,e,e.next)>0)}function mn(n,e,r){return(e.y-n.y)*(r.x-e.x)-(e.x-n.x)*(r.y-e.y)}function lr(n,e){return n.x===e.x&&n.y===e.y}function Eh(n,e,r,l){var p=Wa(mn(n,e,r)),m=Wa(mn(n,e,l)),x=Wa(mn(r,l,n)),b=Wa(mn(r,l,e));return p!==m&&x!==b||!(p!==0||!gc(n,r,e))||!(m!==0||!gc(n,l,e))||!(x!==0||!gc(r,n,l))||!(b!==0||!gc(r,e,l))}function gc(n,e,r){return e.x<=Math.max(n.x,r.x)&&e.x>=Math.min(n.x,r.x)&&e.y<=Math.max(n.y,r.y)&&e.y>=Math.min(n.y,r.y)}function Wa(n){return n>0?1:n<0?-1:0}function El(n,e){return mn(n.prev,n,n.next)<0?mn(n,e,n.next)>=0&&mn(n,n.prev,e)>=0:mn(n,e,n.prev)<0||mn(n,n.next,e)<0}function Ih(n,e){var r=new Il(n.i,n.x,n.y),l=new Il(e.i,e.x,e.y),p=n.next,m=e.prev;return n.next=e,e.prev=n,r.next=p,p.prev=r,l.next=r,r.prev=l,m.next=l,l.prev=m,l}function Zo(n,e,r,l){var p=new Il(n,e,r);return l?(p.next=l.next,p.prev=l,l.next.prev=p,l.next=p):(p.prev=p,p.next=p),p}function xa(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function Il(n,e,r){this.i=n,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function vo(n,e,r,l){for(var p=0,m=e,x=r-l;m<r;m+=l)p+=(n[x]-n[m])*(n[m+1]+n[x+1]),x=m;return p}function Al(n,e,r,l,p){Ah(n,e,r||0,l||n.length-1,p||ru)}function Ah(n,e,r,l,p){for(;l>r;){if(l-r>600){var m=l-r+1,x=e-r+1,b=Math.log(m),C=.5*Math.exp(2*b/3),A=.5*Math.sqrt(b*C*(m-C)/m)*(x-m/2<0?-1:1);Ah(n,e,Math.max(r,Math.floor(e-x*C/m+A)),Math.min(l,Math.floor(e+(m-x)*C/m+A)),p)}var L=n[e],B=r,V=l;for(os(n,r,e),p(n[l],L)>0&&os(n,r,l);B<V;){for(os(n,B,V),B++,V--;p(n[B],L)<0;)B++;for(;p(n[V],L)>0;)V--}p(n[r],L)===0?os(n,r,V):os(n,++V,l),V<=e&&(r=V+1),e<=V&&(l=V-1)}}function os(n,e,r){var l=n[e];n[e]=n[r],n[r]=l}function ru(n,e){return n<e?-1:n>e?1:0}function Xc(n,e){const r=n.length;if(r<=1)return[n];const l=[];let p,m;for(let x=0;x<r;x++){const b=wn(n[x]);b!==0&&(n[x].area=Math.abs(b),m===void 0&&(m=b<0),m===b<0?(p&&l.push(p),p=[n[x]]):p.push(n[x]))}if(p&&l.push(p),e>1)for(let x=0;x<l.length;x++)l[x].length<=e||(Al(l[x],e,1,l[x].length-1,Kc),l[x]=l[x].slice(0,e));return l}function Kc(n,e){return e.area-n.area}function Yc(n,e,r){const l=r.patternDependencies;let p=!1;for(const m of e){const x=m.paint.get(`${n}-pattern`);x.isConstant()||(p=!0);const b=x.constantOr(null);b&&(p=!0,l[b.to]=!0,l[b.from]=!0)}return p}function Ml(n,e,r,l,p){const m=p.patternDependencies;for(const x of e){const b=x.paint.get(`${n}-pattern`).value;if(b.kind!=="constant"){let C=b.evaluate({zoom:l-1},r,{},p.availableImages),A=b.evaluate({zoom:l},r,{},p.availableImages),L=b.evaluate({zoom:l+1},r,{},p.availableImages);C=C&&C.name?C.name:C,A=A&&A.name?A.name:A,L=L&&L.name?L.name:L,m[C]=!0,m[A]=!0,m[L]=!0,r.patterns[x.id]={min:C,mid:A,max:L}}}return r}Ga.exports=mc,Ga.exports.default=mc,mc.deviation=function(n,e,r,l){var p=e&&e.length,m=Math.abs(vo(n,0,p?e[0]*r:n.length,r));if(p)for(var x=0,b=e.length;x<b;x++)m-=Math.abs(vo(n,e[x]*r,x<b-1?e[x+1]*r:n.length,r));var C=0;for(x=0;x<l.length;x+=3){var A=l[x]*r,L=l[x+1]*r,B=l[x+2]*r;C+=Math.abs((n[A]-n[B])*(n[L+1]-n[A+1])-(n[A]-n[L])*(n[B+1]-n[A+1]))}return m===0&&C===0?0:Math.abs((C-m)/m)},mc.flatten=function(n){for(var e=n[0][0].length,r={vertices:[],holes:[],dimensions:e},l=0,p=0;p<n.length;p++){for(var m=0;m<n[p].length;m++)for(var x=0;x<e;x++)r.vertices.push(n[p][m][x]);p>0&&r.holes.push(l+=n[p-1].length)}return r};class Pl{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(r=>r.id),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ke,this.indexArray=new ds,this.indexArray2=new vr,this.programConfigurations=new ma(e.layers,e.zoom),this.segments=new pi,this.segments2=new pi,this.stateDependentLayerIds=this.layers.filter(r=>r.isStateDependent()).map(r=>r.id)}populate(e,r,l){this.hasPattern=Yc("fill",this.layers,r);const p=this.layers[0].layout.get("fill-sort-key"),m=!p.isConstant(),x=[];for(const{feature:b,id:C,index:A,sourceLayerIndex:L}of e){const B=this.layers[0]._featureFilter.needGeometry,V=ga(b,B);if(!this.layers[0]._featureFilter.filter(new on(this.zoom),V,l))continue;const q=m?p.evaluate(V,{},l,r.availableImages):void 0,H={id:C,properties:b.properties,type:b.type,sourceLayerIndex:L,index:A,geometry:B?V.geometry:go(b),patterns:{},sortKey:q};x.push(H)}m&&x.sort((b,C)=>b.sortKey-C.sortKey);for(const b of x){const{geometry:C,index:A,sourceLayerIndex:L}=b;if(this.hasPattern){const B=Ml("fill",this.layers,b,this.zoom,r);this.patternFeatures.push(B)}else this.addFeature(b,C,A,l,{});r.featureIndex.insert(e[A].feature,C,A,L,this.index)}}update(e,r,l){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,r,this.stateDependentLayers,l)}addFeatures(e,r,l){for(const p of this.patternFeatures)this.addFeature(p,p.geometry,p.index,r,l)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,br),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(e,r,l,p,m){for(const x of Xc(r,500)){let b=0;for(const q of x)b+=q.length;const C=this.segments.prepareSegment(b,this.layoutVertexArray,this.indexArray),A=C.vertexLength,L=[],B=[];for(const q of x){if(q.length===0)continue;q!==x[0]&&B.push(L.length/2);const H=this.segments2.prepareSegment(q.length,this.layoutVertexArray,this.indexArray2),st=H.vertexLength;this.layoutVertexArray.emplaceBack(q[0].x,q[0].y),this.indexArray2.emplaceBack(st+q.length-1,st),L.push(q[0].x),L.push(q[0].y);for(let nt=1;nt<q.length;nt++)this.layoutVertexArray.emplaceBack(q[nt].x,q[nt].y),this.indexArray2.emplaceBack(st+nt-1,st+nt),L.push(q[nt].x),L.push(q[nt].y);H.vertexLength+=q.length,H.primitiveLength+=q.length}const V=Ga.exports(L,B);for(let q=0;q<V.length;q+=3)this.indexArray.emplaceBack(A+V[q],A+V[q+1],A+V[q+2]);C.vertexLength+=b,C.primitiveLength+=V.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,l,m,p)}}xe("FillBucket",Pl,{omit:["layers","patternFeatures"]});const va=new an({"fill-sort-key":new Ue(vt.layout_fill["fill-sort-key"])});var ou={paint:new an({"fill-antialias":new ze(vt.paint_fill["fill-antialias"]),"fill-opacity":new Ue(vt.paint_fill["fill-opacity"]),"fill-color":new Ue(vt.paint_fill["fill-color"]),"fill-outline-color":new Ue(vt.paint_fill["fill-outline-color"]),"fill-translate":new ze(vt.paint_fill["fill-translate"]),"fill-translate-anchor":new ze(vt.paint_fill["fill-translate-anchor"]),"fill-pattern":new Ps(vt.paint_fill["fill-pattern"])}),layout:va};const zl=Sn([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),kr=Sn([{name:"a_centroid",components:2,type:"Int16"}],4),{members:Jc}=zl;var fs={},au=ve,Ho=Ds;function Ds(n,e,r,l,p){this.properties={},this.extent=r,this.type=0,this._pbf=n,this._geometry=-1,this._keys=l,this._values=p,n.readFields(Qc,this,e)}function Qc(n,e,r){n==1?e.id=r.readVarint():n==2?function(l,p){for(var m=l.readVarint()+l.pos;l.pos<m;){var x=p._keys[l.readVarint()],b=p._values[l.readVarint()];p.properties[x]=b}}(r,e):n==3?e.type=r.readVarint():n==4&&(e._geometry=r.pos)}function lu(n){for(var e,r,l=0,p=0,m=n.length,x=m-1;p<m;x=p++)l+=((r=n[x]).x-(e=n[p]).x)*(e.y+r.y);return l}Ds.types=["Unknown","Point","LineString","Polygon"],Ds.prototype.loadGeometry=function(){var n=this._pbf;n.pos=this._geometry;for(var e,r=n.readVarint()+n.pos,l=1,p=0,m=0,x=0,b=[];n.pos<r;){if(p<=0){var C=n.readVarint();l=7&C,p=C>>3}if(p--,l===1||l===2)m+=n.readSVarint(),x+=n.readSVarint(),l===1&&(e&&b.push(e),e=[]),e.push(new au(m,x));else{if(l!==7)throw new Error("unknown command "+l);e&&e.push(e[0].clone())}}return e&&b.push(e),b},Ds.prototype.bbox=function(){var n=this._pbf;n.pos=this._geometry;for(var e=n.readVarint()+n.pos,r=1,l=0,p=0,m=0,x=1/0,b=-1/0,C=1/0,A=-1/0;n.pos<e;){if(l<=0){var L=n.readVarint();r=7&L,l=L>>3}if(l--,r===1||r===2)(p+=n.readSVarint())<x&&(x=p),p>b&&(b=p),(m+=n.readSVarint())<C&&(C=m),m>A&&(A=m);else if(r!==7)throw new Error("unknown command "+r)}return[x,C,b,A]},Ds.prototype.toGeoJSON=function(n,e,r){var l,p,m=this.extent*Math.pow(2,r),x=this.extent*n,b=this.extent*e,C=this.loadGeometry(),A=Ds.types[this.type];function L(q){for(var H=0;H<q.length;H++){var st=q[H];q[H]=[360*(st.x+x)/m-180,360/Math.PI*Math.atan(Math.exp((180-360*(st.y+b)/m)*Math.PI/180))-90]}}switch(this.type){case 1:var B=[];for(l=0;l<C.length;l++)B[l]=C[l][0];L(C=B);break;case 2:for(l=0;l<C.length;l++)L(C[l]);break;case 3:for(C=function(q){var H=q.length;if(H<=1)return[q];for(var st,nt,_t=[],At=0;At<H;At++){var gt=lu(q[At]);gt!==0&&(nt===void 0&&(nt=gt<0),nt===gt<0?(st&&_t.push(st),st=[q[At]]):st.push(q[At]))}return st&&_t.push(st),_t}(C),l=0;l<C.length;l++)for(p=0;p<C[l].length;p++)L(C[l][p])}C.length===1?C=C[0]:A="Multi"+A;var V={type:"Feature",geometry:{type:A,coordinates:C},properties:this.properties};return"id"in this&&(V.id=this.id),V};var cu=Ho,yc=_c;function _c(n,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=n,this._keys=[],this._values=[],this._features=[],n.readFields(th,this,e),this.length=this._features.length}function th(n,e,r){n===15?e.version=r.readVarint():n===1?e.name=r.readString():n===5?e.extent=r.readVarint():n===2?e._features.push(r.pos):n===3?e._keys.push(r.readString()):n===4&&e._values.push(function(l){for(var p=null,m=l.readVarint()+l.pos;l.pos<m;){var x=l.readVarint()>>3;p=x===1?l.readString():x===2?l.readFloat():x===3?l.readDouble():x===4?l.readVarint64():x===5?l.readVarint():x===6?l.readSVarint():x===7?l.readBoolean():null}return p}(r))}_c.prototype.feature=function(n){if(n<0||n>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[n];var e=this._pbf.readVarint()+this._pbf.pos;return new cu(this._pbf,e,this.extent,this._keys,this._values)};var hu=yc;function wo(n,e,r){if(n===3){var l=new hu(r,r.readVarint()+r.pos);l.length&&(e[l.name]=l)}}fs.VectorTile=function(n,e){this.layers=n.readFields(wo,{},e)},fs.VectorTileFeature=Ho,fs.VectorTileLayer=yc;const eh=fs.VectorTileFeature.types,bo=Math.pow(2,13);function Ll(n,e,r,l,p,m,x,b){n.emplaceBack(e,r,2*Math.floor(l*bo)+x,p*bo*2,m*bo*2,Math.round(b))}class ko{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(r=>r.id),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new ki,this.centroidVertexArray=new Le,this.indexArray=new ds,this.programConfigurations=new ma(e.layers,e.zoom),this.segments=new pi,this.stateDependentLayerIds=this.layers.filter(r=>r.isStateDependent()).map(r=>r.id)}populate(e,r,l){this.features=[],this.hasPattern=Yc("fill-extrusion",this.layers,r);for(const{feature:p,id:m,index:x,sourceLayerIndex:b}of e){const C=this.layers[0]._featureFilter.needGeometry,A=ga(p,C);if(!this.layers[0]._featureFilter.filter(new on(this.zoom),A,l))continue;const L={id:m,sourceLayerIndex:b,index:x,geometry:C?A.geometry:go(p),properties:p.properties,type:p.type,patterns:{}};this.hasPattern?this.features.push(Ml("fill-extrusion",this.layers,L,this.zoom,r)):this.addFeature(L,L.geometry,x,l,{}),r.featureIndex.insert(p,L.geometry,x,b,this.index,!0)}}addFeatures(e,r,l){for(const p of this.features){const{geometry:m}=p;this.addFeature(p,m,p.index,r,l)}}update(e,r,l){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,r,this.stateDependentLayers,l)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Jc),this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,kr.members,!0),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(e,r,l,p,m){const x={x:0,y:0,vertexCount:0};for(const b of Xc(r,500)){let C=0;for(const H of b)C+=H.length;let A=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const H of b){if(H.length===0||$l(H))continue;let st=0;for(let nt=0;nt<H.length;nt++){const _t=H[nt];if(nt>=1){const At=H[nt-1];if(!ih(_t,At)){A.vertexLength+4>pi.MAX_VERTEX_ARRAY_LENGTH&&(A=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const gt=_t.sub(At)._perp()._unit(),Ct=At.dist(_t);st+Ct>32768&&(st=0),Ll(this.layoutVertexArray,_t.x,_t.y,gt.x,gt.y,0,0,st),Ll(this.layoutVertexArray,_t.x,_t.y,gt.x,gt.y,0,1,st),x.x+=2*_t.x,x.y+=2*_t.y,x.vertexCount+=2,st+=Ct,Ll(this.layoutVertexArray,At.x,At.y,gt.x,gt.y,0,0,st),Ll(this.layoutVertexArray,At.x,At.y,gt.x,gt.y,0,1,st),x.x+=2*At.x,x.y+=2*At.y,x.vertexCount+=2;const Vt=A.vertexLength;this.indexArray.emplaceBack(Vt,Vt+2,Vt+1),this.indexArray.emplaceBack(Vt+1,Vt+2,Vt+3),A.vertexLength+=4,A.primitiveLength+=2}}}}if(A.vertexLength+C>pi.MAX_VERTEX_ARRAY_LENGTH&&(A=this.segments.prepareSegment(C,this.layoutVertexArray,this.indexArray)),eh[e.type]!=="Polygon")continue;const L=[],B=[],V=A.vertexLength;for(const H of b)if(H.length!==0){H!==b[0]&&B.push(L.length/2);for(let st=0;st<H.length;st++){const nt=H[st];Ll(this.layoutVertexArray,nt.x,nt.y,0,0,1,1,0),x.x+=nt.x,x.y+=nt.y,x.vertexCount+=1,L.push(nt.x),L.push(nt.y)}}const q=Ga.exports(L,B);for(let H=0;H<q.length;H+=3)this.indexArray.emplaceBack(V+q[H],V+q[H+2],V+q[H+1]);A.primitiveLength+=q.length/3,A.vertexLength+=C}for(let b=0;b<x.vertexCount;b++)this.centroidVertexArray.emplaceBack(Math.floor(x.x/x.vertexCount),Math.floor(x.y/x.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,l,m,p)}}function ih(n,e){return n.x===e.x&&(n.x<0||n.x>Pn)||n.y===e.y&&(n.y<0||n.y>Pn)}function $l(n){return n.every(e=>e.x<0)||n.every(e=>e.x>Pn)||n.every(e=>e.y<0)||n.every(e=>e.y>Pn)}xe("FillExtrusionBucket",ko,{omit:["layers","features"]});var uu={paint:new an({"fill-extrusion-opacity":new ze(vt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Ue(vt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new ze(vt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new ze(vt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Ps(vt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Ue(vt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Ue(vt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new ze(vt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function Dl(n,e){return n.x*e.x+n.y*e.y}function Mh(n,e){if(n.length===1){let r=0;const l=e[r++];let p;for(;!p||l.equals(p);)if(p=e[r++],!p)return 1/0;for(;r<e.length;r++){const m=e[r],x=n[0],b=p.sub(l),C=m.sub(l),A=x.sub(l),L=Dl(b,b),B=Dl(b,C),V=Dl(C,C),q=Dl(A,b),H=Dl(A,C),st=L*V-B*B,nt=(V*q-B*H)/st,_t=(L*H-B*q)/st,At=l.z*(1-nt-_t)+p.z*nt+m.z*_t;if(isFinite(At))return At}return 1/0}{let r=1/0;for(const l of e)r=Math.min(r,l.z);return r}}const nh=Sn([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:sh}=nh,rh=Sn([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:du}=rh,pu=fs.VectorTileFeature.types,fu=Math.cos(Math.PI/180*37.5),xc=Math.pow(2,14)/.5;class oh{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(r=>r.id),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(r=>{this.gradients[r.id]={}}),this.layoutVertexArray=new wi,this.layoutVertexArray2=new qi,this.indexArray=new ds,this.programConfigurations=new ma(e.layers,e.zoom),this.segments=new pi,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(r=>r.isStateDependent()).map(r=>r.id)}populate(e,r,l){this.hasPattern=Yc("line",this.layers,r);const p=this.layers[0].layout.get("line-sort-key"),m=!p.isConstant(),x=[];for(const{feature:b,id:C,index:A,sourceLayerIndex:L}of e){const B=this.layers[0]._featureFilter.needGeometry,V=ga(b,B);if(!this.layers[0]._featureFilter.filter(new on(this.zoom),V,l))continue;const q=m?p.evaluate(V,{},l):void 0,H={id:C,properties:b.properties,type:b.type,sourceLayerIndex:L,index:A,geometry:B?V.geometry:go(b),patterns:{},sortKey:q};x.push(H)}m&&x.sort((b,C)=>b.sortKey-C.sortKey);for(const b of x){const{geometry:C,index:A,sourceLayerIndex:L}=b;if(this.hasPattern){const B=Ml("line",this.layers,b,this.zoom,r);this.patternFeatures.push(B)}else this.addFeature(b,C,A,l,{});r.featureIndex.insert(e[A].feature,C,A,L,this.index)}}update(e,r,l){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,r,this.stateDependentLayers,l)}addFeatures(e,r,l){for(const p of this.patternFeatures)this.addFeature(p,p.geometry,p.index,r,l)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,du)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,sh),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(e){if(e.properties&&Object.prototype.hasOwnProperty.call(e.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(e.properties,"mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}addFeature(e,r,l,p,m){const x=this.layers[0].layout,b=x.get("line-join").evaluate(e,{}),C=x.get("line-cap"),A=x.get("line-miter-limit"),L=x.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(const B of r)this.addLine(B,e,b,C,A,L);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,l,m,p)}addLine(e,r,l,p,m,x){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let _t=0;_t<e.length-1;_t++)this.totalDistance+=e[_t].dist(e[_t+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const b=pu[r.type]==="Polygon";let C=e.length;for(;C>=2&&e[C-1].equals(e[C-2]);)C--;let A=0;for(;A<C-1&&e[A].equals(e[A+1]);)A++;if(C<(b?3:2))return;l==="bevel"&&(m=1.05);const L=this.overscaling<=16?122880/(512*this.overscaling):0,B=this.segments.prepareSegment(10*C,this.layoutVertexArray,this.indexArray);let V,q,H,st,nt;this.e1=this.e2=-1,b&&(V=e[C-2],nt=e[A].sub(V)._unit()._perp());for(let _t=A;_t<C;_t++){if(H=_t===C-1?b?e[A+1]:void 0:e[_t+1],H&&e[_t].equals(H))continue;nt&&(st=nt),V&&(q=V),V=e[_t],nt=H?H.sub(V)._unit()._perp():st,st=st||nt;let At=st.add(nt);At.x===0&&At.y===0||At._unit();const gt=st.x*nt.x+st.y*nt.y,Ct=At.x*nt.x+At.y*nt.y,Vt=Ct!==0?1/Ct:1/0,Ut=2*Math.sqrt(2-2*Ct),be=Ct<fu&&q&&H,De=st.x*nt.y-st.y*nt.x>0;if(be&&_t>A){const re=V.dist(q);if(re>2*L){const ge=V.sub(V.sub(q)._mult(L/re)._round());this.updateDistance(q,ge),this.addCurrentVertex(ge,st,0,0,B),q=ge}}const me=q&&H;let ce=me?l:b?"butt":p;if(me&&ce==="round"&&(Vt<x?ce="miter":Vt<=2&&(ce="fakeround")),ce==="miter"&&Vt>m&&(ce="bevel"),ce==="bevel"&&(Vt>2&&(ce="flipbevel"),Vt<m&&(ce="miter")),q&&this.updateDistance(q,V),ce==="miter")At._mult(Vt),this.addCurrentVertex(V,At,0,0,B);else if(ce==="flipbevel"){if(Vt>100)At=nt.mult(-1);else{const re=Vt*st.add(nt).mag()/st.sub(nt).mag();At._perp()._mult(re*(De?-1:1))}this.addCurrentVertex(V,At,0,0,B),this.addCurrentVertex(V,At.mult(-1),0,0,B)}else if(ce==="bevel"||ce==="fakeround"){const re=-Math.sqrt(Vt*Vt-1),ge=De?re:0,de=De?0:re;if(q&&this.addCurrentVertex(V,st,ge,de,B),ce==="fakeround"){const Jt=Math.round(180*Ut/Math.PI/20);for(let Ge=1;Ge<Jt;Ge++){let Fe=Ge/Jt;if(Fe!==.5){const vn=Fe-.5;Fe+=Fe*vn*(Fe-1)*((1.0904+gt*(gt*(3.55645-1.43519*gt)-3.2452))*vn*vn+(.848013+gt*(.215638*gt-1.06021)))}const _i=nt.sub(st)._mult(Fe)._add(st)._unit()._mult(De?-1:1);this.addHalfVertex(V,_i.x,_i.y,!1,De,0,B)}}H&&this.addCurrentVertex(V,nt,-ge,-de,B)}else if(ce==="butt")this.addCurrentVertex(V,At,0,0,B);else if(ce==="square"){const re=q?1:-1;this.addCurrentVertex(V,At,re,re,B)}else ce==="round"&&(q&&(this.addCurrentVertex(V,st,0,0,B),this.addCurrentVertex(V,st,1,1,B,!0)),H&&(this.addCurrentVertex(V,nt,-1,-1,B,!0),this.addCurrentVertex(V,nt,0,0,B)));if(be&&_t<C-1){const re=V.dist(H);if(re>2*L){const ge=V.add(H.sub(V)._mult(L/re)._round());this.updateDistance(V,ge),this.addCurrentVertex(ge,nt,0,0,B),V=ge}}}}addCurrentVertex(e,r,l,p,m,x=!1){const b=r.y*p-r.x,C=-r.y-r.x*p;this.addHalfVertex(e,r.x+r.y*l,r.y-r.x*l,x,!1,l,m),this.addHalfVertex(e,b,C,x,!0,-p,m),this.distance>xc/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(e,r,l,p,m,x))}addHalfVertex({x:e,y:r},l,p,m,x,b,C){const A=.5*(this.lineClips?this.scaledDistance*(xc-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((e<<1)+(m?1:0),(r<<1)+(x?1:0),Math.round(63*l)+128,Math.round(63*p)+128,1+(b===0?0:b<0?-1:1)|(63&A)<<2,A>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const L=C.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,L),C.primitiveLength++),x?this.e2=L:this.e1=L}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(e,r){this.distance+=e.dist(r),this.updateScaledDistance()}}xe("LineBucket",oh,{omit:["layers","patternFeatures"]});const mu=new an({"line-cap":new ze(vt.layout_line["line-cap"]),"line-join":new Ue(vt.layout_line["line-join"]),"line-miter-limit":new ze(vt.layout_line["line-miter-limit"]),"line-round-limit":new ze(vt.layout_line["line-round-limit"]),"line-sort-key":new Ue(vt.layout_line["line-sort-key"])});var Ph={paint:new an({"line-opacity":new Ue(vt.paint_line["line-opacity"]),"line-color":new Ue(vt.paint_line["line-color"]),"line-translate":new ze(vt.paint_line["line-translate"]),"line-translate-anchor":new ze(vt.paint_line["line-translate-anchor"]),"line-width":new Ue(vt.paint_line["line-width"]),"line-gap-width":new Ue(vt.paint_line["line-gap-width"]),"line-offset":new Ue(vt.paint_line["line-offset"]),"line-blur":new Ue(vt.paint_line["line-blur"]),"line-dasharray":new xr(vt.paint_line["line-dasharray"]),"line-pattern":new Ps(vt.paint_line["line-pattern"]),"line-gradient":new us(vt.paint_line["line-gradient"])}),layout:mu};const zh=new class extends Ue{possiblyEvaluate(n,e){return e=new on(Math.floor(e.zoom),{now:e.now,fadeDuration:e.fadeDuration,zoomHistory:e.zoomHistory,transition:e.transition}),super.possiblyEvaluate(n,e)}evaluate(n,e,r,l){return e=Te({},e,{zoom:Math.floor(e.zoom)}),super.evaluate(n,e,r,l)}}(Ph.paint.properties["line-width"].specification);function Lh(n,e){return e>0?e+2*n:n}zh.useIntegerZoom=!0;const gu=Sn([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),ah=Sn([{name:"a_projected_pos",components:3,type:"Float32"}],4);Sn([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const yu=Sn([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Sn([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const $h=Sn([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),_u=Sn([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function xu(n,e,r){return n.sections.forEach(l=>{l.text=function(p,m,x){const b=m.layout.get("text-transform").evaluate(x,{});return b==="uppercase"?p=p.toLocaleUpperCase():b==="lowercase"&&(p=p.toLocaleLowerCase()),hs.applyArabicShaping&&(p=hs.applyArabicShaping(p)),p}(l.text,e,r)}),n}Sn([{name:"triangle",components:3,type:"Uint16"}]),Sn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Sn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Sn([{type:"Float32",name:"offsetX"}]),Sn([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);const wa={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var qn=24,To=s,Dh=function(n,e,r,l,p){var m,x,b=8*p-l-1,C=(1<<b)-1,A=C>>1,L=-7,B=r?p-1:0,V=r?-1:1,q=n[e+B];for(B+=V,m=q&(1<<-L)-1,q>>=-L,L+=b;L>0;m=256*m+n[e+B],B+=V,L-=8);for(x=m&(1<<-L)-1,m>>=-L,L+=l;L>0;x=256*x+n[e+B],B+=V,L-=8);if(m===0)m=1-A;else{if(m===C)return x?NaN:1/0*(q?-1:1);x+=Math.pow(2,l),m-=A}return(q?-1:1)*x*Math.pow(2,m-l)},t=function(n,e,r,l,p,m){var x,b,C,A=8*m-p-1,L=(1<<A)-1,B=L>>1,V=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,q=l?0:m-1,H=l?1:-1,st=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(b=isNaN(e)?1:0,x=L):(x=Math.floor(Math.log(e)/Math.LN2),e*(C=Math.pow(2,-x))<1&&(x--,C*=2),(e+=x+B>=1?V/C:V*Math.pow(2,1-B))*C>=2&&(x++,C/=2),x+B>=L?(b=0,x=L):x+B>=1?(b=(e*C-1)*Math.pow(2,p),x+=B):(b=e*Math.pow(2,B-1)*Math.pow(2,p),x=0));p>=8;n[r+q]=255&b,q+=H,b/=256,p-=8);for(x=x<<p|b,A+=p;A>0;n[r+q]=255&x,q+=H,x/=256,A-=8);n[r+q-H]|=128*st};function s(n){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(n)?n:new Uint8Array(n||0),this.pos=0,this.type=0,this.length=this.buf.length}s.Varint=0,s.Fixed64=1,s.Bytes=2,s.Fixed32=5;var a,u=4294967296,y=1/u,v=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function T(n){return n.type===s.Bytes?n.readVarint()+n.pos:n.pos+1}function z(n,e,r){return r?4294967296*e+(n>>>0):4294967296*(e>>>0)+(n>>>0)}function F(n,e,r){var l=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));r.realloc(l);for(var p=r.pos-1;p>=n;p--)r.buf[p+l]=r.buf[p]}function X(n,e){for(var r=0;r<n.length;r++)e.writeVarint(n[r])}function Y(n,e){for(var r=0;r<n.length;r++)e.writeSVarint(n[r])}function yt(n,e){for(var r=0;r<n.length;r++)e.writeFloat(n[r])}function It(n,e){for(var r=0;r<n.length;r++)e.writeDouble(n[r])}function Kt(n,e){for(var r=0;r<n.length;r++)e.writeBoolean(n[r])}function ke(n,e){for(var r=0;r<n.length;r++)e.writeFixed32(n[r])}function si(n,e){for(var r=0;r<n.length;r++)e.writeSFixed32(n[r])}function Je(n,e){for(var r=0;r<n.length;r++)e.writeFixed64(n[r])}function Tr(n,e){for(var r=0;r<n.length;r++)e.writeSFixed64(n[r])}function Go(n,e){return(n[e]|n[e+1]<<8|n[e+2]<<16)+16777216*n[e+3]}function Zr(n,e,r){n[r]=e,n[r+1]=e>>>8,n[r+2]=e>>>16,n[r+3]=e>>>24}function Wo(n,e){return(n[e]|n[e+1]<<8|n[e+2]<<16)+(n[e+3]<<24)}function vc(n,e,r){n===1&&r.readMessage(Xo,e)}function Xo(n,e,r){if(n===3){const{id:l,bitmap:p,width:m,height:x,left:b,top:C,advance:A}=r.readMessage(Hr,{});e.push({id:l,bitmap:new Tl({width:m+6,height:x+6},p),metrics:{width:m,height:x,left:b,top:C,advance:A}})}}function Hr(n,e,r){n===1?e.id=r.readVarint():n===2?e.bitmap=r.readBytes():n===3?e.width=r.readVarint():n===4?e.height=r.readVarint():n===5?e.left=r.readSVarint():n===6?e.top=r.readSVarint():n===7&&(e.advance=r.readVarint())}function Xa(n){let e=0,r=0;for(const x of n)e+=x.w*x.h,r=Math.max(r,x.w);n.sort((x,b)=>b.h-x.h);const l=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),r),h:1/0}];let p=0,m=0;for(const x of n)for(let b=l.length-1;b>=0;b--){const C=l[b];if(!(x.w>C.w||x.h>C.h)){if(x.x=C.x,x.y=C.y,m=Math.max(m,x.y+x.h),p=Math.max(p,x.x+x.w),x.w===C.w&&x.h===C.h){const A=l.pop();b<l.length&&(l[b]=A)}else x.h===C.h?(C.x+=x.w,C.w-=x.w):x.w===C.w?(C.y+=x.h,C.h-=x.h):(l.push({x:C.x+x.w,y:C.y,w:C.w-x.w,h:x.h}),C.y+=x.h,C.h-=x.h);break}}return{w:p,h:m,fill:e/(p*m)||0}}s.prototype={destroy:function(){this.buf=null},readFields:function(n,e,r){for(r=r||this.length;this.pos<r;){var l=this.readVarint(),p=l>>3,m=this.pos;this.type=7&l,n(p,e,this),this.pos===m&&this.skip(l)}return e},readMessage:function(n,e){return this.readFields(n,e,this.readVarint()+this.pos)},readFixed32:function(){var n=Go(this.buf,this.pos);return this.pos+=4,n},readSFixed32:function(){var n=Wo(this.buf,this.pos);return this.pos+=4,n},readFixed64:function(){var n=Go(this.buf,this.pos)+Go(this.buf,this.pos+4)*u;return this.pos+=8,n},readSFixed64:function(){var n=Go(this.buf,this.pos)+Wo(this.buf,this.pos+4)*u;return this.pos+=8,n},readFloat:function(){var n=Dh(this.buf,this.pos,!0,23,4);return this.pos+=4,n},readDouble:function(){var n=Dh(this.buf,this.pos,!0,52,8);return this.pos+=8,n},readVarint:function(n){var e,r,l=this.buf;return e=127&(r=l[this.pos++]),r<128?e:(e|=(127&(r=l[this.pos++]))<<7,r<128?e:(e|=(127&(r=l[this.pos++]))<<14,r<128?e:(e|=(127&(r=l[this.pos++]))<<21,r<128?e:function(p,m,x){var b,C,A=x.buf;if(b=(112&(C=A[x.pos++]))>>4,C<128||(b|=(127&(C=A[x.pos++]))<<3,C<128)||(b|=(127&(C=A[x.pos++]))<<10,C<128)||(b|=(127&(C=A[x.pos++]))<<17,C<128)||(b|=(127&(C=A[x.pos++]))<<24,C<128)||(b|=(1&(C=A[x.pos++]))<<31,C<128))return z(p,b,m);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(r=l[this.pos]))<<28,n,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var n=this.readVarint();return n%2==1?(n+1)/-2:n/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var n=this.readVarint()+this.pos,e=this.pos;return this.pos=n,n-e>=12&&v?function(r,l,p){return v.decode(r.subarray(l,p))}(this.buf,e,n):function(r,l,p){for(var m="",x=l;x<p;){var b,C,A,L=r[x],B=null,V=L>239?4:L>223?3:L>191?2:1;if(x+V>p)break;V===1?L<128&&(B=L):V===2?(192&(b=r[x+1]))==128&&(B=(31&L)<<6|63&b)<=127&&(B=null):V===3?(C=r[x+2],(192&(b=r[x+1]))==128&&(192&C)==128&&((B=(15&L)<<12|(63&b)<<6|63&C)<=2047||B>=55296&&B<=57343)&&(B=null)):V===4&&(C=r[x+2],A=r[x+3],(192&(b=r[x+1]))==128&&(192&C)==128&&(192&A)==128&&((B=(15&L)<<18|(63&b)<<12|(63&C)<<6|63&A)<=65535||B>=1114112)&&(B=null)),B===null?(B=65533,V=1):B>65535&&(B-=65536,m+=String.fromCharCode(B>>>10&1023|55296),B=56320|1023&B),m+=String.fromCharCode(B),x+=V}return m}(this.buf,e,n)},readBytes:function(){var n=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,n);return this.pos=n,e},readPackedVarint:function(n,e){if(this.type!==s.Bytes)return n.push(this.readVarint(e));var r=T(this);for(n=n||[];this.pos<r;)n.push(this.readVarint(e));return n},readPackedSVarint:function(n){if(this.type!==s.Bytes)return n.push(this.readSVarint());var e=T(this);for(n=n||[];this.pos<e;)n.push(this.readSVarint());return n},readPackedBoolean:function(n){if(this.type!==s.Bytes)return n.push(this.readBoolean());var e=T(this);for(n=n||[];this.pos<e;)n.push(this.readBoolean());return n},readPackedFloat:function(n){if(this.type!==s.Bytes)return n.push(this.readFloat());var e=T(this);for(n=n||[];this.pos<e;)n.push(this.readFloat());return n},readPackedDouble:function(n){if(this.type!==s.Bytes)return n.push(this.readDouble());var e=T(this);for(n=n||[];this.pos<e;)n.push(this.readDouble());return n},readPackedFixed32:function(n){if(this.type!==s.Bytes)return n.push(this.readFixed32());var e=T(this);for(n=n||[];this.pos<e;)n.push(this.readFixed32());return n},readPackedSFixed32:function(n){if(this.type!==s.Bytes)return n.push(this.readSFixed32());var e=T(this);for(n=n||[];this.pos<e;)n.push(this.readSFixed32());return n},readPackedFixed64:function(n){if(this.type!==s.Bytes)return n.push(this.readFixed64());var e=T(this);for(n=n||[];this.pos<e;)n.push(this.readFixed64());return n},readPackedSFixed64:function(n){if(this.type!==s.Bytes)return n.push(this.readSFixed64());var e=T(this);for(n=n||[];this.pos<e;)n.push(this.readSFixed64());return n},skip:function(n){var e=7&n;if(e===s.Varint)for(;this.buf[this.pos++]>127;);else if(e===s.Bytes)this.pos=this.readVarint()+this.pos;else if(e===s.Fixed32)this.pos+=4;else{if(e!==s.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(n,e){this.writeVarint(n<<3|e)},realloc:function(n){for(var e=this.length||16;e<this.pos+n;)e*=2;if(e!==this.length){var r=new Uint8Array(e);r.set(this.buf),this.buf=r,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(n){this.realloc(4),Zr(this.buf,n,this.pos),this.pos+=4},writeSFixed32:function(n){this.realloc(4),Zr(this.buf,n,this.pos),this.pos+=4},writeFixed64:function(n){this.realloc(8),Zr(this.buf,-1&n,this.pos),Zr(this.buf,Math.floor(n*y),this.pos+4),this.pos+=8},writeSFixed64:function(n){this.realloc(8),Zr(this.buf,-1&n,this.pos),Zr(this.buf,Math.floor(n*y),this.pos+4),this.pos+=8},writeVarint:function(n){(n=+n||0)>268435455||n<0?function(e,r){var l,p;if(e>=0?(l=e%4294967296|0,p=e/4294967296|0):(p=~(-e/4294967296),4294967295^(l=~(-e%4294967296))?l=l+1|0:(l=0,p=p+1|0)),e>=18446744073709552e3||e<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");r.realloc(10),function(m,x,b){b.buf[b.pos++]=127&m|128,m>>>=7,b.buf[b.pos++]=127&m|128,m>>>=7,b.buf[b.pos++]=127&m|128,m>>>=7,b.buf[b.pos++]=127&m|128,b.buf[b.pos]=127&(m>>>=7)}(l,0,r),function(m,x){var b=(7&m)<<4;x.buf[x.pos++]|=b|((m>>>=3)?128:0),m&&(x.buf[x.pos++]=127&m|((m>>>=7)?128:0),m&&(x.buf[x.pos++]=127&m|((m>>>=7)?128:0),m&&(x.buf[x.pos++]=127&m|((m>>>=7)?128:0),m&&(x.buf[x.pos++]=127&m|((m>>>=7)?128:0),m&&(x.buf[x.pos++]=127&m)))))}(p,r)}(n,this):(this.realloc(4),this.buf[this.pos++]=127&n|(n>127?128:0),n<=127||(this.buf[this.pos++]=127&(n>>>=7)|(n>127?128:0),n<=127||(this.buf[this.pos++]=127&(n>>>=7)|(n>127?128:0),n<=127||(this.buf[this.pos++]=n>>>7&127))))},writeSVarint:function(n){this.writeVarint(n<0?2*-n-1:2*n)},writeBoolean:function(n){this.writeVarint(Boolean(n))},writeString:function(n){n=String(n),this.realloc(4*n.length),this.pos++;var e=this.pos;this.pos=function(l,p,m){for(var x,b,C=0;C<p.length;C++){if((x=p.charCodeAt(C))>55295&&x<57344){if(!b){x>56319||C+1===p.length?(l[m++]=239,l[m++]=191,l[m++]=189):b=x;continue}if(x<56320){l[m++]=239,l[m++]=191,l[m++]=189,b=x;continue}x=b-55296<<10|x-56320|65536,b=null}else b&&(l[m++]=239,l[m++]=191,l[m++]=189,b=null);x<128?l[m++]=x:(x<2048?l[m++]=x>>6|192:(x<65536?l[m++]=x>>12|224:(l[m++]=x>>18|240,l[m++]=x>>12&63|128),l[m++]=x>>6&63|128),l[m++]=63&x|128)}return m}(this.buf,n,this.pos);var r=this.pos-e;r>=128&&F(e,r,this),this.pos=e-1,this.writeVarint(r),this.pos+=r},writeFloat:function(n){this.realloc(4),t(this.buf,n,this.pos,!0,23,4),this.pos+=4},writeDouble:function(n){this.realloc(8),t(this.buf,n,this.pos,!0,52,8),this.pos+=8},writeBytes:function(n){var e=n.length;this.writeVarint(e),this.realloc(e);for(var r=0;r<e;r++)this.buf[this.pos++]=n[r]},writeRawMessage:function(n,e){this.pos++;var r=this.pos;n(e,this);var l=this.pos-r;l>=128&&F(r,l,this),this.pos=r-1,this.writeVarint(l),this.pos+=l},writeMessage:function(n,e,r){this.writeTag(n,s.Bytes),this.writeRawMessage(e,r)},writePackedVarint:function(n,e){e.length&&this.writeMessage(n,X,e)},writePackedSVarint:function(n,e){e.length&&this.writeMessage(n,Y,e)},writePackedBoolean:function(n,e){e.length&&this.writeMessage(n,Kt,e)},writePackedFloat:function(n,e){e.length&&this.writeMessage(n,yt,e)},writePackedDouble:function(n,e){e.length&&this.writeMessage(n,It,e)},writePackedFixed32:function(n,e){e.length&&this.writeMessage(n,ke,e)},writePackedSFixed32:function(n,e){e.length&&this.writeMessage(n,si,e)},writePackedFixed64:function(n,e){e.length&&this.writeMessage(n,Je,e)},writePackedSFixed64:function(n,e){e.length&&this.writeMessage(n,Tr,e)},writeBytesField:function(n,e){this.writeTag(n,s.Bytes),this.writeBytes(e)},writeFixed32Field:function(n,e){this.writeTag(n,s.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(n,e){this.writeTag(n,s.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(n,e){this.writeTag(n,s.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(n,e){this.writeTag(n,s.Fixed64),this.writeSFixed64(e)},writeVarintField:function(n,e){this.writeTag(n,s.Varint),this.writeVarint(e)},writeSVarintField:function(n,e){this.writeTag(n,s.Varint),this.writeSVarint(e)},writeStringField:function(n,e){this.writeTag(n,s.Bytes),this.writeString(e)},writeFloatField:function(n,e){this.writeTag(n,s.Fixed32),this.writeFloat(e)},writeDoubleField:function(n,e){this.writeTag(n,s.Fixed64),this.writeDouble(e)},writeBooleanField:function(n,e){this.writeVarintField(n,Boolean(e))}};class Bl{constructor(e,{pixelRatio:r,version:l,stretchX:p,stretchY:m,content:x}){this.paddedRect=e,this.pixelRatio=r,this.stretchX=p,this.stretchY=m,this.content=x,this.version=l}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class wc{constructor(e,r){const l={},p={};this.haveRenderCallbacks=[];const m=[];this.addImages(e,l,m),this.addImages(r,p,m);const{w:x,h:b}=Xa(m),C=new Xs({width:x||1,height:b||1});for(const A in e){const L=e[A],B=l[A].paddedRect;Xs.copy(L.data,C,{x:0,y:0},{x:B.x+1,y:B.y+1},L.data)}for(const A in r){const L=r[A],B=p[A].paddedRect,V=B.x+1,q=B.y+1,H=L.data.width,st=L.data.height;Xs.copy(L.data,C,{x:0,y:0},{x:V,y:q},L.data),Xs.copy(L.data,C,{x:0,y:st-1},{x:V,y:q-1},{width:H,height:1}),Xs.copy(L.data,C,{x:0,y:0},{x:V,y:q+st},{width:H,height:1}),Xs.copy(L.data,C,{x:H-1,y:0},{x:V-1,y:q},{width:1,height:st}),Xs.copy(L.data,C,{x:0,y:0},{x:V+H,y:q},{width:1,height:st})}this.image=C,this.iconPositions=l,this.patternPositions=p}addImages(e,r,l){for(const p in e){const m=e[p],x={x:0,y:0,w:m.data.width+2,h:m.data.height+2};l.push(x),r[p]=new Bl(x,m),m.hasRenderCallback&&this.haveRenderCallbacks.push(p)}}patchUpdatedImages(e,r){e.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const l in e.updatedImages)this.patchUpdatedImage(this.iconPositions[l],e.getImage(l),r),this.patchUpdatedImage(this.patternPositions[l],e.getImage(l),r)}patchUpdatedImage(e,r,l){if(!e||!r||e.version===r.version)return;e.version=r.version;const[p,m]=e.tl;l.update(r.data,void 0,{x:p,y:m})}}xe("ImagePosition",Bl),xe("ImageAtlas",wc),h.WritingMode=void 0,(a=h.WritingMode||(h.WritingMode={}))[a.none=0]="none",a[a.horizontal=1]="horizontal",a[a.vertical=2]="vertical",a[a.horizontalOnly=3]="horizontalOnly";const lh=-17;class vu{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(e,r){const l=new vu;return l.scale=e||1,l.fontStack=r,l}static forImage(e){const r=new vu;return r.imageName=e,r}}class Bh{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(e,r){const l=new Bh;for(let p=0;p<e.sections.length;p++){const m=e.sections[p];m.image?l.addImageSection(m):l.addTextSection(m,r)}return l}length(){return this.text.length}getSection(e){return this.sections[this.sectionIndex[e]]}getSectionIndex(e){return this.sectionIndex[e]}getCharCode(e){return this.text.charCodeAt(e)}verticalizePunctuation(){this.text=function(e){let r="";for(let l=0;l<e.length;l++){const p=e.charCodeAt(l+1)||null,m=e.charCodeAt(l-1)||null;r+=p&&ic(p)&&!wa[e[l+1]]||m&&ic(m)&&!wa[e[l-1]]||!wa[e[l]]?e[l]:wa[e[l]]}return r}(this.text)}trim(){let e=0;for(let l=0;l<this.text.length&&Bu[this.text.charCodeAt(l)];l++)e++;let r=this.text.length;for(let l=this.text.length-1;l>=0&&l>=e&&Bu[this.text.charCodeAt(l)];l--)r--;this.text=this.text.substring(e,r),this.sectionIndex=this.sectionIndex.slice(e,r)}substring(e,r){const l=new Bh;return l.text=this.text.substring(e,r),l.sectionIndex=this.sectionIndex.slice(e,r),l.sections=this.sections,l}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((e,r)=>Math.max(e,this.sections[r].scale),0)}addTextSection(e,r){this.text+=e.text,this.sections.push(vu.forText(e.scale,e.fontStack||r));const l=this.sections.length-1;for(let p=0;p<e.text.length;++p)this.sectionIndex.push(l)}addImageSection(e){const r=e.image?e.image.name:"";if(r.length===0)return void ii("Can't add FormattedSection with an empty image.");const l=this.getNextImageSectionCharCode();l?(this.text+=String.fromCharCode(l),this.sections.push(vu.forImage(r)),this.sectionIndex.push(this.sections.length-1)):ii("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Du(n,e,r,l,p,m,x,b,C,A,L,B,V,q,H,st){const nt=Bh.fromFeature(n,p);let _t;B===h.WritingMode.vertical&&nt.verticalizePunctuation();const{processBidirectionalText:At,processStyledBidirectionalText:gt}=hs;if(At&&nt.sections.length===1){_t=[];const Ut=At(nt.toString(),xd(nt,A,m,e,l,q,H));for(const be of Ut){const De=new Bh;De.text=be,De.sections=nt.sections;for(let me=0;me<be.length;me++)De.sectionIndex.push(0);_t.push(De)}}else if(gt){_t=[];const Ut=gt(nt.text,nt.sectionIndex,xd(nt,A,m,e,l,q,H));for(const be of Ut){const De=new Bh;De.text=be[0],De.sectionIndex=be[1],De.sections=nt.sections,_t.push(De)}}else _t=function(Ut,be){const De=[],me=Ut.text;let ce=0;for(const re of be)De.push(Ut.substring(ce,re)),ce=re;return ce<me.length&&De.push(Ut.substring(ce,me.length)),De}(nt,xd(nt,A,m,e,l,q,H));const Ct=[],Vt={positionedLines:Ct,text:nt.toString(),top:L[1],bottom:L[1],left:L[0],right:L[0],writingMode:B,iconsInText:!1,verticalizable:!1};return function(Ut,be,De,me,ce,re,ge,de,Jt,Ge,Fe,_i){let vn=0,kn=lh,as=0,So=0;const Bs=de==="right"?1:de==="left"?0:.5;let Kn=0;for(const Yn of ce){Yn.trim();const Fs=Yn.getMaxScale(),Ys=(Fs-1)*qn,cr={positionedGlyphs:[],lineOffset:0};Ut.positionedLines[Kn]=cr;const Sr=cr.positionedGlyphs;let Er=0;if(!Yn.length()){kn+=re,++Kn;continue}for(let gs=0;gs<Yn.length();gs++){const Si=Yn.getSection(gs),Gr=Yn.getSectionIndex(gs),Os=Yn.getCharCode(gs);let Js=0,Ko=null,ba=null,ka=null,Fl=qn;const Yo=!(Jt===h.WritingMode.horizontal||!Fe&&!fl(Os)||Fe&&(Bu[Os]||(ms=Os,he.Arabic(ms)||he["Arabic Supplement"](ms)||he["Arabic Extended-A"](ms)||he["Arabic Presentation Forms-A"](ms)||he["Arabic Presentation Forms-B"](ms))));if(Si.imageName){const Eo=me[Si.imageName];if(!Eo)continue;ka=Si.imageName,Ut.iconsInText=Ut.iconsInText||!0,ba=Eo.paddedRect;const Ir=Eo.displaySize;Si.scale=Si.scale*qn/_i,Ko={width:Ir[0],height:Ir[1],left:1,top:-3,advance:Yo?Ir[1]:Ir[0]},Js=Ys+(qn-Ir[1]*Si.scale),Fl=Ko.advance;const Ol=Yo?Ir[0]*Si.scale-qn*Fs:Ir[1]*Si.scale-qn*Fs;Ol>0&&Ol>Er&&(Er=Ol)}else{const Eo=De[Si.fontStack],Ir=Eo&&Eo[Os];if(Ir&&Ir.rect)ba=Ir.rect,Ko=Ir.metrics;else{const Ol=be[Si.fontStack],ku=Ol&&Ol[Os];if(!ku)continue;Ko=ku.metrics}Js=(Fs-Si.scale)*qn}Yo?(Ut.verticalizable=!0,Sr.push({glyph:Os,imageName:ka,x:vn,y:kn+Js,vertical:Yo,scale:Si.scale,fontStack:Si.fontStack,sectionIndex:Gr,metrics:Ko,rect:ba}),vn+=Fl*Si.scale+Ge):(Sr.push({glyph:Os,imageName:ka,x:vn,y:kn+Js,vertical:Yo,scale:Si.scale,fontStack:Si.fontStack,sectionIndex:Gr,metrics:Ko,rect:ba}),vn+=Ko.advance*Si.scale+Ge)}Sr.length!==0&&(as=Math.max(vn-Ge,as),Hm(Sr,0,Sr.length-1,Bs,Er)),vn=0;const En=re*Fs+Er;cr.lineOffset=Math.max(Er,Ys),kn+=En,So=Math.max(En,So),++Kn}var ms;const Rs=kn-lh,{horizontalAlign:Ks,verticalAlign:Cr}=vd(ge);(function(Yn,Fs,Ys,cr,Sr,Er,En,gs,Si){const Gr=(Fs-Ys)*Sr;let Os=0;Os=Er!==En?-gs*cr-lh:(-cr*Si+.5)*En;for(const Js of Yn)for(const Ko of Js.positionedGlyphs)Ko.x+=Gr,Ko.y+=Os})(Ut.positionedLines,Bs,Ks,Cr,as,So,re,Rs,ce.length),Ut.top+=-Cr*Rs,Ut.bottom=Ut.top+Rs,Ut.left+=-Ks*as,Ut.right=Ut.left+as}(Vt,e,r,l,_t,x,b,C,B,A,V,st),!function(Ut){for(const be of Ut)if(be.positionedGlyphs.length!==0)return!1;return!0}(Ct)&&Vt}const Bu={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},qm={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Ip(n,e,r,l,p,m){if(e.imageName){const x=l[e.imageName];return x?x.displaySize[0]*e.scale*qn/m+p:0}{const x=r[e.fontStack],b=x&&x[n];return b?b.metrics.advance*e.scale+p:0}}function Ap(n,e,r,l){const p=Math.pow(n-e,2);return l?n<e?p/2:2*p:p+Math.abs(r)*r}function Zm(n,e,r){let l=0;return n===10&&(l-=1e4),r&&(l+=150),n!==40&&n!==65288||(l+=50),e!==41&&e!==65289||(l+=50),l}function Mp(n,e,r,l,p,m){let x=null,b=Ap(e,r,p,m);for(const C of l){const A=Ap(e-C.x,r,p,m)+C.badness;A<=b&&(x=C,b=A)}return{index:n,x:e,priorBreak:x,badness:b}}function Pp(n){return n?Pp(n.priorBreak).concat(n.index):[]}function xd(n,e,r,l,p,m,x){if(m!=="point")return[];if(!n)return[];const b=[],C=function(V,q,H,st,nt,_t){let At=0;for(let gt=0;gt<V.length();gt++){const Ct=V.getSection(gt);At+=Ip(V.getCharCode(gt),Ct,st,nt,q,_t)}return At/Math.max(1,Math.ceil(At/H))}(n,e,r,l,p,x),A=n.text.indexOf("")>=0;let L=0;for(let V=0;V<n.length();V++){const q=n.getSection(V),H=n.getCharCode(V);if(Bu[H]||(L+=Ip(H,q,l,p,e,x)),V<n.length()-1){const st=!((B=H)<11904||!(he["Bopomofo Extended"](B)||he.Bopomofo(B)||he["CJK Compatibility Forms"](B)||he["CJK Compatibility Ideographs"](B)||he["CJK Compatibility"](B)||he["CJK Radicals Supplement"](B)||he["CJK Strokes"](B)||he["CJK Symbols and Punctuation"](B)||he["CJK Unified Ideographs Extension A"](B)||he["CJK Unified Ideographs"](B)||he["Enclosed CJK Letters and Months"](B)||he["Halfwidth and Fullwidth Forms"](B)||he.Hiragana(B)||he["Ideographic Description Characters"](B)||he["Kangxi Radicals"](B)||he["Katakana Phonetic Extensions"](B)||he.Katakana(B)||he["Vertical Forms"](B)||he["Yi Radicals"](B)||he["Yi Syllables"](B)));(qm[H]||st||q.imageName)&&b.push(Mp(V+1,L,C,b,Zm(H,n.getCharCode(V+1),st&&A),!1))}}var B;return Pp(Mp(n.length(),L,C,b,0,!0))}function vd(n){let e=.5,r=.5;switch(n){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(n){case"bottom":case"bottom-right":case"bottom-left":r=1;break;case"top":case"top-right":case"top-left":r=0}return{horizontalAlign:e,verticalAlign:r}}function Hm(n,e,r,l,p){if(!l&&!p)return;const m=n[r],x=(n[r].x+m.metrics.advance*m.scale)*l;for(let b=e;b<=r;b++)n[b].x-=x,n[b].y+=p}function Gm(n,e,r){const{horizontalAlign:l,verticalAlign:p}=vd(r),m=e[0]-n.displaySize[0]*l,x=e[1]-n.displaySize[1]*p;return{image:n,top:x,bottom:x+n.displaySize[1],left:m,right:m+n.displaySize[0]}}function zp(n,e,r,l,p,m){const x=n.image;let b;if(x.content){const nt=x.content,_t=x.pixelRatio||1;b=[nt[0]/_t,nt[1]/_t,x.displaySize[0]-nt[2]/_t,x.displaySize[1]-nt[3]/_t]}const C=e.left*m,A=e.right*m;let L,B,V,q;r==="width"||r==="both"?(q=p[0]+C-l[3],B=p[0]+A+l[1]):(q=p[0]+(C+A-x.displaySize[0])/2,B=q+x.displaySize[0]);const H=e.top*m,st=e.bottom*m;return r==="height"||r==="both"?(L=p[1]+H-l[0],V=p[1]+st+l[2]):(L=p[1]+(H+st-x.displaySize[1])/2,V=L+x.displaySize[1]),{image:x,top:L,right:B,bottom:V,left:q,collisionPadding:b}}const Rl=128;function Lp(n,e){const{expression:r}=e;if(r.kind==="constant")return{kind:"constant",layoutSize:r.evaluate(new on(n+1))};if(r.kind==="source")return{kind:"source"};{const{zoomStops:l,interpolationType:p}=r;let m=0;for(;m<l.length&&l[m]<=n;)m++;m=Math.max(0,m-1);let x=m;for(;x<l.length&&l[x]<n+1;)x++;x=Math.min(l.length-1,x);const b=l[m],C=l[x];return r.kind==="composite"?{kind:"composite",minZoom:b,maxZoom:C,interpolationType:p}:{kind:"camera",minZoom:b,maxZoom:C,minSize:r.evaluate(new on(b)),maxSize:r.evaluate(new on(C)),interpolationType:p}}}class bc extends ve{constructor(e,r,l,p){super(e,r),this.angle=l,p!==void 0&&(this.segment=p)}clone(){return new bc(this.x,this.y,this.angle,this.segment)}}function $p(n,e,r,l,p){if(e.segment===void 0)return!0;let m=e,x=e.segment+1,b=0;for(;b>-r/2;){if(x--,x<0)return!1;b-=n[x].dist(m),m=n[x]}b+=n[x].dist(n[x+1]),x++;const C=[];let A=0;for(;b<r/2;){const L=n[x],B=n[x+1];if(!B)return!1;let V=n[x-1].angleTo(L)-L.angleTo(B);for(V=Math.abs((V+3*Math.PI)%(2*Math.PI)-Math.PI),C.push({distance:b,angleDelta:V}),A+=V;b-C[0].distance>l;)A-=C.shift().angleDelta;if(A>p)return!1;x++,b+=L.dist(B)}return!0}function Dp(n){let e=0;for(let r=0;r<n.length-1;r++)e+=n[r].dist(n[r+1]);return e}function Bp(n,e,r){return n?.6*e*r:0}function Rp(n,e){return Math.max(n?n.right-n.left:0,e?e.right-e.left:0)}function Wm(n,e,r,l,p,m){const x=Bp(r,p,m),b=Rp(r,l)*m;let C=0;const A=Dp(n)/2;for(let L=0;L<n.length-1;L++){const B=n[L],V=n[L+1],q=B.dist(V);if(C+q>A){const H=(A-C)/q,st=Ki(B.x,V.x,H),nt=Ki(B.y,V.y,H),_t=new bc(st,nt,V.angleTo(B),L);return _t._round(),!x||$p(n,_t,b,x,e)?_t:void 0}C+=q}}function Xm(n,e,r,l,p,m,x,b,C){const A=Bp(l,m,x),L=Rp(l,p),B=L*x,V=n[0].x===0||n[0].x===C||n[0].y===0||n[0].y===C;return e-B<e/4&&(e=B+e/4),Fp(n,V?e/2*b%e:(L/2+2*m)*x*b%e,e,A,r,B,V,!1,C)}function Fp(n,e,r,l,p,m,x,b,C){const A=m/2,L=Dp(n);let B=0,V=e-r,q=[];for(let H=0;H<n.length-1;H++){const st=n[H],nt=n[H+1],_t=st.dist(nt),At=nt.angleTo(st);for(;V+r<B+_t;){V+=r;const gt=(V-B)/_t,Ct=Ki(st.x,nt.x,gt),Vt=Ki(st.y,nt.y,gt);if(Ct>=0&&Ct<C&&Vt>=0&&Vt<C&&V-A>=0&&V+A<=L){const Ut=new bc(Ct,Vt,At,H);Ut._round(),l&&!$p(n,Ut,m,l,p)||q.push(Ut)}}B+=_t}return b||q.length||x||(q=Fp(n,B/2,r,l,p,m,x,!0,C)),q}function Op(n,e,r,l,p){const m=[];for(let x=0;x<n.length;x++){const b=n[x];let C;for(let A=0;A<b.length-1;A++){let L=b[A],B=b[A+1];L.x<e&&B.x<e||(L.x<e?L=new ve(e,L.y+(e-L.x)/(B.x-L.x)*(B.y-L.y))._round():B.x<e&&(B=new ve(e,L.y+(e-L.x)/(B.x-L.x)*(B.y-L.y))._round()),L.y<r&&B.y<r||(L.y<r?L=new ve(L.x+(r-L.y)/(B.y-L.y)*(B.x-L.x),r)._round():B.y<r&&(B=new ve(L.x+(r-L.y)/(B.y-L.y)*(B.x-L.x),r)._round()),L.x>=l&&B.x>=l||(L.x>=l?L=new ve(l,L.y+(l-L.x)/(B.x-L.x)*(B.y-L.y))._round():B.x>=l&&(B=new ve(l,L.y+(l-L.x)/(B.x-L.x)*(B.y-L.y))._round()),L.y>=p&&B.y>=p||(L.y>=p?L=new ve(L.x+(p-L.y)/(B.y-L.y)*(B.x-L.x),p)._round():B.y>=p&&(B=new ve(L.x+(p-L.y)/(B.y-L.y)*(B.x-L.x),p)._round()),C&&L.equals(C[C.length-1])||(C=[L],m.push(C)),C.push(B)))))}}return m}function Np(n,e,r,l){const p=[],m=n.image,x=m.pixelRatio,b=m.paddedRect.w-2,C=m.paddedRect.h-2,A=n.right-n.left,L=n.bottom-n.top,B=m.stretchX||[[0,b]],V=m.stretchY||[[0,C]],q=(re,ge)=>re+ge[1]-ge[0],H=B.reduce(q,0),st=V.reduce(q,0),nt=b-H,_t=C-st;let At=0,gt=H,Ct=0,Vt=st,Ut=0,be=nt,De=0,me=_t;if(m.content&&l){const re=m.content;At=Ru(B,0,re[0]),Ct=Ru(V,0,re[1]),gt=Ru(B,re[0],re[2]),Vt=Ru(V,re[1],re[3]),Ut=re[0]-At,De=re[1]-Ct,be=re[2]-re[0]-gt,me=re[3]-re[1]-Vt}const ce=(re,ge,de,Jt)=>{const Ge=Fu(re.stretch-At,gt,A,n.left),Fe=Ou(re.fixed-Ut,be,re.stretch,H),_i=Fu(ge.stretch-Ct,Vt,L,n.top),vn=Ou(ge.fixed-De,me,ge.stretch,st),kn=Fu(de.stretch-At,gt,A,n.left),as=Ou(de.fixed-Ut,be,de.stretch,H),So=Fu(Jt.stretch-Ct,Vt,L,n.top),Bs=Ou(Jt.fixed-De,me,Jt.stretch,st),Kn=new ve(Ge,_i),ms=new ve(kn,_i),Rs=new ve(kn,So),Ks=new ve(Ge,So),Cr=new ve(Fe/x,vn/x),Yn=new ve(as/x,Bs/x),Fs=e*Math.PI/180;if(Fs){const Sr=Math.sin(Fs),Er=Math.cos(Fs),En=[Er,-Sr,Sr,Er];Kn._matMult(En),ms._matMult(En),Ks._matMult(En),Rs._matMult(En)}const Ys=re.stretch+re.fixed,cr=ge.stretch+ge.fixed;return{tl:Kn,tr:ms,bl:Ks,br:Rs,tex:{x:m.paddedRect.x+1+Ys,y:m.paddedRect.y+1+cr,w:de.stretch+de.fixed-Ys,h:Jt.stretch+Jt.fixed-cr},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Cr,pixelOffsetBR:Yn,minFontScaleX:be/x/A,minFontScaleY:me/x/L,isSDF:r}};if(l&&(m.stretchX||m.stretchY)){const re=Up(B,nt,H),ge=Up(V,_t,st);for(let de=0;de<re.length-1;de++){const Jt=re[de],Ge=re[de+1];for(let Fe=0;Fe<ge.length-1;Fe++)p.push(ce(Jt,ge[Fe],Ge,ge[Fe+1]))}}else p.push(ce({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:b+1},{fixed:0,stretch:C+1}));return p}function Ru(n,e,r){let l=0;for(const p of n)l+=Math.max(e,Math.min(r,p[1]))-Math.max(e,Math.min(r,p[0]));return l}function Up(n,e,r){const l=[{fixed:-1,stretch:0}];for(const[p,m]of n){const x=l[l.length-1];l.push({fixed:p-x.stretch,stretch:x.stretch}),l.push({fixed:p-x.stretch,stretch:x.stretch+(m-p)})}return l.push({fixed:e+1,stretch:r}),l}function Fu(n,e,r,l){return n/e*r+l}function Ou(n,e,r,l){return n-e*r/l}xe("Anchor",bc);class Nu{constructor(e,r,l,p,m,x,b,C,A,L){if(this.boxStartIndex=e.length,A){let B=x.top,V=x.bottom;const q=x.collisionPadding;q&&(B-=q[1],V+=q[3]);let H=V-B;H>0&&(H=Math.max(10,H),this.circleDiameter=H)}else{let B=x.top*b-C[0],V=x.bottom*b+C[2],q=x.left*b-C[3],H=x.right*b+C[1];const st=x.collisionPadding;if(st&&(q-=st[0]*b,B-=st[1]*b,H+=st[2]*b,V+=st[3]*b),L){const nt=new ve(q,B),_t=new ve(H,B),At=new ve(q,V),gt=new ve(H,V),Ct=L*Math.PI/180;nt._rotate(Ct),_t._rotate(Ct),At._rotate(Ct),gt._rotate(Ct),q=Math.min(nt.x,_t.x,At.x,gt.x),H=Math.max(nt.x,_t.x,At.x,gt.x),B=Math.min(nt.y,_t.y,At.y,gt.y),V=Math.max(nt.y,_t.y,At.y,gt.y)}e.emplaceBack(r.x,r.y,q,B,H,V,l,p,m)}this.boxEndIndex=e.length}}class Km{constructor(e=[],r=Ym){if(this.data=e,this.length=this.data.length,this.compare=r,this.length>0)for(let l=(this.length>>1)-1;l>=0;l--)this._down(l)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const e=this.data[0],r=this.data.pop();return this.length--,this.length>0&&(this.data[0]=r,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:r,compare:l}=this,p=r[e];for(;e>0;){const m=e-1>>1,x=r[m];if(l(p,x)>=0)break;r[e]=x,e=m}r[e]=p}_down(e){const{data:r,compare:l}=this,p=this.length>>1,m=r[e];for(;e<p;){let x=1+(e<<1),b=r[x];const C=x+1;if(C<this.length&&l(r[C],b)<0&&(x=C,b=r[C]),l(b,m)>=0)break;r[e]=b,e=x}r[e]=m}}function Ym(n,e){return n<e?-1:n>e?1:0}function Jm(n,e=1,r=!1){let l=1/0,p=1/0,m=-1/0,x=-1/0;const b=n[0];for(let q=0;q<b.length;q++){const H=b[q];(!q||H.x<l)&&(l=H.x),(!q||H.y<p)&&(p=H.y),(!q||H.x>m)&&(m=H.x),(!q||H.y>x)&&(x=H.y)}const C=Math.min(m-l,x-p);let A=C/2;const L=new Km([],Qm);if(C===0)return new ve(l,p);for(let q=l;q<m;q+=C)for(let H=p;H<x;H+=C)L.push(new Rh(q+A,H+A,A,n));let B=function(q){let H=0,st=0,nt=0;const _t=q[0];for(let At=0,gt=_t.length,Ct=gt-1;At<gt;Ct=At++){const Vt=_t[At],Ut=_t[Ct],be=Vt.x*Ut.y-Ut.x*Vt.y;st+=(Vt.x+Ut.x)*be,nt+=(Vt.y+Ut.y)*be,H+=3*be}return new Rh(st/H,nt/H,0,q)}(n),V=L.length;for(;L.length;){const q=L.pop();(q.d>B.d||!B.d)&&(B=q,r&&console.log("found best %d after %d probes",Math.round(1e4*q.d)/1e4,V)),q.max-B.d<=e||(A=q.h/2,L.push(new Rh(q.p.x-A,q.p.y-A,A,n)),L.push(new Rh(q.p.x+A,q.p.y-A,A,n)),L.push(new Rh(q.p.x-A,q.p.y+A,A,n)),L.push(new Rh(q.p.x+A,q.p.y+A,A,n)),V+=4)}return r&&(console.log(`num probes: ${V}`),console.log(`best distance: ${B.d}`)),B.p}function Qm(n,e){return e.max-n.max}function Rh(n,e,r,l){this.p=new ve(n,e),this.h=r,this.d=function(p,m){let x=!1,b=1/0;for(let C=0;C<m.length;C++){const A=m[C];for(let L=0,B=A.length,V=B-1;L<B;V=L++){const q=A[L],H=A[V];q.y>p.y!=H.y>p.y&&p.x<(H.x-q.x)*(p.y-q.y)/(H.y-q.y)+q.x&&(x=!x),b=Math.min(b,wh(p,q,H))}}return(x?1:-1)*Math.sqrt(b)}(this.p,l),this.max=this.d+this.h*Math.SQRT2}const wd=Number.POSITIVE_INFINITY;function Vp(n,e){return e[1]!==wd?function(r,l,p){let m=0,x=0;switch(l=Math.abs(l),p=Math.abs(p),r){case"top-right":case"top-left":case"top":x=p-7;break;case"bottom-right":case"bottom-left":case"bottom":x=7-p}switch(r){case"top-right":case"bottom-right":case"right":m=-l;break;case"top-left":case"bottom-left":case"left":m=l}return[m,x]}(n,e[0],e[1]):function(r,l){let p=0,m=0;l<0&&(l=0);const x=l/Math.sqrt(2);switch(r){case"top-right":case"top-left":m=x-7;break;case"bottom-right":case"bottom-left":m=7-x;break;case"bottom":m=7-l;break;case"top":m=l-7}switch(r){case"top-right":case"bottom-right":p=-x;break;case"top-left":case"bottom-left":p=x;break;case"left":p=l;break;case"right":p=-l}return[p,m]}(n,e[0])}function bd(n){switch(n){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function tg(n,e,r,l,p,m,x,b,C,A,L){let B=m.textMaxSize.evaluate(e,{});B===void 0&&(B=x);const V=n.layers[0].layout,q=V.get("icon-offset").evaluate(e,{},L),H=qp(r.horizontal),st=x/24,nt=n.tilePixelRatio*st,_t=n.tilePixelRatio*B/24,At=n.tilePixelRatio*b,gt=n.tilePixelRatio*V.get("symbol-spacing"),Ct=V.get("text-padding")*n.tilePixelRatio,Vt=function(Jt,Ge,Fe,_i=1){const vn=Jt.get("icon-padding").evaluate(Ge,{},Fe),kn=vn&&vn.values;return[kn[0]*_i,kn[1]*_i,kn[2]*_i,kn[3]*_i]}(V,e,L,n.tilePixelRatio),Ut=V.get("text-max-angle")/180*Math.PI,be=V.get("text-rotation-alignment")!=="viewport"&&V.get("symbol-placement")!=="point",De=V.get("icon-rotation-alignment")==="map"&&V.get("symbol-placement")!=="point",me=V.get("symbol-placement"),ce=gt/2,re=V.get("icon-text-fit");let ge;l&&re!=="none"&&(n.allowVerticalPlacement&&r.vertical&&(ge=zp(l,r.vertical,re,V.get("icon-text-fit-padding"),q,st)),H&&(l=zp(l,H,re,V.get("icon-text-fit-padding"),q,st)));const de=(Jt,Ge)=>{Ge.x<0||Ge.x>=Pn||Ge.y<0||Ge.y>=Pn||function(Fe,_i,vn,kn,as,So,Bs,Kn,ms,Rs,Ks,Cr,Yn,Fs,Ys,cr,Sr,Er,En,gs,Si,Gr,Os,Js,Ko){const ba=Fe.addToLineVertexArray(_i,vn);let ka,Fl,Yo,Eo,Ir=0,Ol=0,ku=0,af=0,zd=-1,Ld=-1;const Nl={};let lf=Rn.exports(""),$d=0,Dd=0;if(Kn._unevaluatedLayout.getValue("text-radial-offset")===void 0?[$d,Dd]=Kn.layout.get("text-offset").evaluate(Si,{},Js).map(Ar=>Ar*qn):($d=Kn.layout.get("text-radial-offset").evaluate(Si,{},Js)*qn,Dd=wd),Fe.allowVerticalPlacement&&kn.vertical){const Ar=Kn.layout.get("text-rotate").evaluate(Si,{},Js)+90;Yo=new Nu(ms,_i,Rs,Ks,Cr,kn.vertical,Yn,Fs,Ys,Ar),Bs&&(Eo=new Nu(ms,_i,Rs,Ks,Cr,Bs,Sr,Er,Ys,Ar))}if(as){const Ar=Kn.layout.get("icon-rotate").evaluate(Si,{}),Ka=Kn.layout.get("icon-text-fit")!=="none",Tu=Np(as,Ar,Os,Ka),Cu=Bs?Np(Bs,Ar,Os,Ka):void 0;Fl=new Nu(ms,_i,Rs,Ks,Cr,as,Sr,Er,!1,Ar),Ir=4*Tu.length;const uf=Fe.iconSizeData;let hh=null;uf.kind==="source"?(hh=[Rl*Kn.layout.get("icon-size").evaluate(Si,{})],hh[0]>kc&&ii(`${Fe.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):uf.kind==="composite"&&(hh=[Rl*Gr.compositeIconSizes[0].evaluate(Si,{},Js),Rl*Gr.compositeIconSizes[1].evaluate(Si,{},Js)],(hh[0]>kc||hh[1]>kc)&&ii(`${Fe.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),Fe.addSymbols(Fe.icon,Tu,hh,gs,En,Si,h.WritingMode.none,_i,ba.lineStartIndex,ba.lineLength,-1,Js),zd=Fe.icon.placedSymbolArray.length-1,Cu&&(Ol=4*Cu.length,Fe.addSymbols(Fe.icon,Cu,hh,gs,En,Si,h.WritingMode.vertical,_i,ba.lineStartIndex,ba.lineLength,-1,Js),Ld=Fe.icon.placedSymbolArray.length-1)}const cf=Object.keys(kn.horizontal);for(const Ar of cf){const Ka=kn.horizontal[Ar];if(!ka){lf=Rn.exports(Ka.text);const Cu=Kn.layout.get("text-rotate").evaluate(Si,{},Js);ka=new Nu(ms,_i,Rs,Ks,Cr,Ka,Yn,Fs,Ys,Cu)}const Tu=Ka.positionedLines.length===1;if(ku+=jp(Fe,_i,Ka,So,Kn,Ys,Si,cr,ba,kn.vertical?h.WritingMode.horizontal:h.WritingMode.horizontalOnly,Tu?cf:[Ar],Nl,zd,Gr,Js),Tu)break}kn.vertical&&(af+=jp(Fe,_i,kn.vertical,So,Kn,Ys,Si,cr,ba,h.WritingMode.vertical,["vertical"],Nl,Ld,Gr,Js));const pg=ka?ka.boxStartIndex:Fe.collisionBoxArray.length,fg=ka?ka.boxEndIndex:Fe.collisionBoxArray.length,mg=Yo?Yo.boxStartIndex:Fe.collisionBoxArray.length,gg=Yo?Yo.boxEndIndex:Fe.collisionBoxArray.length,yg=Fl?Fl.boxStartIndex:Fe.collisionBoxArray.length,_g=Fl?Fl.boxEndIndex:Fe.collisionBoxArray.length,xg=Eo?Eo.boxStartIndex:Fe.collisionBoxArray.length,vg=Eo?Eo.boxEndIndex:Fe.collisionBoxArray.length;let Ta=-1;const Zu=(Ar,Ka)=>Ar&&Ar.circleDiameter?Math.max(Ar.circleDiameter,Ka):Ka;Ta=Zu(ka,Ta),Ta=Zu(Yo,Ta),Ta=Zu(Fl,Ta),Ta=Zu(Eo,Ta);const hf=Ta>-1?1:0;hf&&(Ta*=Ko/qn),Fe.glyphOffsetArray.length>=Fh.MAX_GLYPHS&&ii("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Si.sortKey!==void 0&&Fe.addToSortKeyRanges(Fe.symbolInstances.length,Si.sortKey),Fe.symbolInstances.emplaceBack(_i.x,_i.y,Nl.right>=0?Nl.right:-1,Nl.center>=0?Nl.center:-1,Nl.left>=0?Nl.left:-1,Nl.vertical||-1,zd,Ld,lf,pg,fg,mg,gg,yg,_g,xg,vg,Rs,ku,af,Ir,Ol,hf,0,Yn,$d,Dd,Ta)}(n,Ge,Jt,r,l,p,ge,n.layers[0],n.collisionBoxArray,e.index,e.sourceLayerIndex,n.index,nt,[Ct,Ct,Ct,Ct],be,C,At,Vt,De,q,e,m,A,L,x)};if(me==="line")for(const Jt of Op(e.geometry,0,0,Pn,Pn)){const Ge=Xm(Jt,gt,Ut,r.vertical||H,l,24,_t,n.overscaling,Pn);for(const Fe of Ge){const _i=H;_i&&eg(n,_i.text,ce,Fe)||de(Jt,Fe)}}else if(me==="line-center"){for(const Jt of e.geometry)if(Jt.length>1){const Ge=Wm(Jt,Ut,r.vertical||H,l,24,_t);Ge&&de(Jt,Ge)}}else if(e.type==="Polygon")for(const Jt of Xc(e.geometry,0)){const Ge=Jm(Jt,16);de(Jt[0],new bc(Ge.x,Ge.y,0))}else if(e.type==="LineString")for(const Jt of e.geometry)de(Jt,new bc(Jt[0].x,Jt[0].y,0));else if(e.type==="Point")for(const Jt of e.geometry)for(const Ge of Jt)de([Ge],new bc(Ge.x,Ge.y,0))}const kc=32640;function jp(n,e,r,l,p,m,x,b,C,A,L,B,V,q,H){const st=function(At,gt,Ct,Vt,Ut,be,De,me){const ce=Vt.layout.get("text-rotate").evaluate(be,{})*Math.PI/180,re=[];for(const ge of gt.positionedLines)for(const de of ge.positionedGlyphs){if(!de.rect)continue;const Jt=de.rect||{};let Ge=4,Fe=!0,_i=1,vn=0;const kn=(Ut||me)&&de.vertical,as=de.metrics.advance*de.scale/2;if(me&&gt.verticalizable){const En=(de.scale-1)*qn,gs=(qn-de.metrics.width*de.scale)/2;vn=ge.lineOffset/2-(de.imageName?-gs:En)}if(de.imageName){const En=De[de.imageName];Fe=En.sdf,_i=En.pixelRatio,Ge=1/_i}const So=Ut?[de.x+as,de.y]:[0,0];let Bs=Ut?[0,0]:[de.x+as+Ct[0],de.y+Ct[1]-vn],Kn=[0,0];kn&&(Kn=Bs,Bs=[0,0]);const ms=(de.metrics.left-Ge)*de.scale-as+Bs[0],Rs=(-de.metrics.top-Ge)*de.scale+Bs[1],Ks=ms+Jt.w*de.scale/_i,Cr=Rs+Jt.h*de.scale/_i,Yn=new ve(ms,Rs),Fs=new ve(Ks,Rs),Ys=new ve(ms,Cr),cr=new ve(Ks,Cr);if(kn){const En=new ve(-as,as-lh),gs=-Math.PI/2,Si=12-as,Gr=new ve(22-Si,-(de.imageName?Si:0)),Os=new ve(...Kn);Yn._rotateAround(gs,En)._add(Gr)._add(Os),Fs._rotateAround(gs,En)._add(Gr)._add(Os),Ys._rotateAround(gs,En)._add(Gr)._add(Os),cr._rotateAround(gs,En)._add(Gr)._add(Os)}if(ce){const En=Math.sin(ce),gs=Math.cos(ce),Si=[gs,-En,En,gs];Yn._matMult(Si),Fs._matMult(Si),Ys._matMult(Si),cr._matMult(Si)}const Sr=new ve(0,0),Er=new ve(0,0);re.push({tl:Yn,tr:Fs,bl:Ys,br:cr,tex:Jt,writingMode:gt.writingMode,glyphOffset:So,sectionIndex:de.sectionIndex,isSDF:Fe,pixelOffsetTL:Sr,pixelOffsetBR:Er,minFontScaleX:0,minFontScaleY:0})}return re}(0,r,b,p,m,x,l,n.allowVerticalPlacement),nt=n.textSizeData;let _t=null;nt.kind==="source"?(_t=[Rl*p.layout.get("text-size").evaluate(x,{})],_t[0]>kc&&ii(`${n.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):nt.kind==="composite"&&(_t=[Rl*q.compositeTextSizes[0].evaluate(x,{},H),Rl*q.compositeTextSizes[1].evaluate(x,{},H)],(_t[0]>kc||_t[1]>kc)&&ii(`${n.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),n.addSymbols(n.text,st,_t,b,m,x,A,e,C.lineStartIndex,C.lineLength,V,H);for(const At of L)B[At]=n.text.placedSymbolArray.length-1;return 4*st.length}function qp(n){for(const e in n)return n[e];return null}function eg(n,e,r,l){const p=n.compareText;if(e in p){const m=p[e];for(let x=m.length-1;x>=0;x--)if(l.dist(m[x])<r)return!0}else p[e]=[];return p[e].push(l),!1}const ig=fs.VectorTileFeature.types,ng=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Uu(n,e,r,l,p,m,x,b,C,A,L,B,V){const q=b?Math.min(kc,Math.round(b[0])):0,H=b?Math.min(kc,Math.round(b[1])):0;n.emplaceBack(e,r,Math.round(32*l),Math.round(32*p),m,x,(q<<1)+(C?1:0),H,16*A,16*L,256*B,256*V)}function kd(n,e,r){n.emplaceBack(e.x,e.y,r),n.emplaceBack(e.x,e.y,r),n.emplaceBack(e.x,e.y,r),n.emplaceBack(e.x,e.y,r)}function sg(n){for(const e of n.sections)if(Oa(e.text))return!0;return!1}class Td{constructor(e){this.layoutVertexArray=new or,this.indexArray=new ds,this.programConfigurations=e,this.segments=new pi,this.dynamicLayoutVertexArray=new jn,this.opacityVertexArray=new ar,this.placedSymbolArray=new Wt}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(e,r,l,p){this.isEmpty()||(l&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,gu.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,r),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,ah.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,ng,!0),this.opacityVertexBuffer.itemSize=1),(l||p)&&this.programConfigurations.upload(e))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}xe("SymbolBuffers",Td);class Cd{constructor(e,r,l){this.layoutVertexArray=new e,this.layoutAttributes=r,this.indexArray=new l,this.segments=new pi,this.collisionVertexArray=new Ls}upload(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,yu.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}xe("CollisionBuffers",Cd);class Fh{constructor(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(x=>x.id),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=qc([]),this.placementViewportMatrix=qc([]);const r=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Lp(this.zoom,r["text-size"]),this.iconSizeData=Lp(this.zoom,r["icon-size"]);const l=this.layers[0].layout,p=l.get("symbol-sort-key"),m=l.get("symbol-z-order");this.canOverlap=Ed(l,"text-overlap","text-allow-overlap")!=="never"||Ed(l,"icon-overlap","icon-allow-overlap")!=="never"||l.get("text-ignore-placement")||l.get("icon-ignore-placement"),this.sortFeaturesByKey=m!=="viewport-y"&&!p.isConstant(),this.sortFeaturesByY=(m==="viewport-y"||m==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,l.get("symbol-placement")==="point"&&(this.writingModes=l.get("text-writing-mode").map(x=>h.WritingMode[x])),this.stateDependentLayerIds=this.layers.filter(x=>x.isStateDependent()).map(x=>x.id),this.sourceID=e.sourceID}createArrays(){this.text=new Td(new ma(this.layers,this.zoom,e=>/^text/.test(e))),this.icon=new Td(new ma(this.layers,this.zoom,e=>/^icon/.test(e))),this.glyphOffsetArray=new se,this.lineVertexArray=new ye,this.symbolInstances=new fe}calculateGlyphDependencies(e,r,l,p,m){for(let x=0;x<e.length;x++)if(r[e.charCodeAt(x)]=!0,(l||p)&&m){const b=wa[e.charAt(x)];b&&(r[b.charCodeAt(0)]=!0)}}populate(e,r,l){const p=this.layers[0],m=p.layout,x=m.get("text-font"),b=m.get("text-field"),C=m.get("icon-image"),A=(b.value.kind!=="constant"||b.value.value instanceof ct&&!b.value.value.isEmpty()||b.value.value.toString().length>0)&&(x.value.kind!=="constant"||x.value.value.length>0),L=C.value.kind!=="constant"||!!C.value.value||Object.keys(C.parameters).length>0,B=m.get("symbol-sort-key");if(this.features=[],!A&&!L)return;const V=r.iconDependencies,q=r.glyphDependencies,H=r.availableImages,st=new on(this.zoom);for(const{feature:nt,id:_t,index:At,sourceLayerIndex:gt}of e){const Ct=p._featureFilter.needGeometry,Vt=ga(nt,Ct);if(!p._featureFilter.filter(st,Vt,l))continue;let Ut,be;if(Ct||(Vt.geometry=go(nt)),A){const me=p.getValueAndResolveTokens("text-field",Vt,l,H),ce=ct.factory(me);sg(ce)&&(this.hasRTLText=!0),(!this.hasRTLText||ho()==="unavailable"||this.hasRTLText&&hs.isParsed())&&(Ut=xu(ce,p,Vt))}if(L){const me=p.getValueAndResolveTokens("icon-image",Vt,l,H);be=me instanceof pt?me:pt.fromString(me)}if(!Ut&&!be)continue;const De=this.sortFeaturesByKey?B.evaluate(Vt,{},l):void 0;if(this.features.push({id:_t,text:Ut,icon:be,index:At,sourceLayerIndex:gt,geometry:Vt.geometry,properties:nt.properties,type:ig[nt.type],sortKey:De}),be&&(V[be.name]=!0),Ut){const me=x.evaluate(Vt,{},l).join(","),ce=m.get("text-rotation-alignment")!=="viewport"&&m.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(h.WritingMode.vertical)>=0;for(const re of Ut.sections)if(re.image)V[re.image.name]=!0;else{const ge=Fa(Ut.toString()),de=re.fontStack||me,Jt=q[de]=q[de]||{};this.calculateGlyphDependencies(re.text,Jt,ce,this.allowVerticalPlacement,ge)}}}m.get("symbol-placement")==="line"&&(this.features=function(nt){const _t={},At={},gt=[];let Ct=0;function Vt(me){gt.push(nt[me]),Ct++}function Ut(me,ce,re){const ge=At[me];return delete At[me],At[ce]=ge,gt[ge].geometry[0].pop(),gt[ge].geometry[0]=gt[ge].geometry[0].concat(re[0]),ge}function be(me,ce,re){const ge=_t[ce];return delete _t[ce],_t[me]=ge,gt[ge].geometry[0].shift(),gt[ge].geometry[0]=re[0].concat(gt[ge].geometry[0]),ge}function De(me,ce,re){const ge=re?ce[0][ce[0].length-1]:ce[0][0];return`${me}:${ge.x}:${ge.y}`}for(let me=0;me<nt.length;me++){const ce=nt[me],re=ce.geometry,ge=ce.text?ce.text.toString():null;if(!ge){Vt(me);continue}const de=De(ge,re),Jt=De(ge,re,!0);if(de in At&&Jt in _t&&At[de]!==_t[Jt]){const Ge=be(de,Jt,re),Fe=Ut(de,Jt,gt[Ge].geometry);delete _t[de],delete At[Jt],At[De(ge,gt[Fe].geometry,!0)]=Fe,gt[Ge].geometry=null}else de in At?Ut(de,Jt,re):Jt in _t?be(de,Jt,re):(Vt(me),_t[de]=Ct-1,At[Jt]=Ct-1)}return gt.filter(me=>me.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((nt,_t)=>nt.sortKey-_t.sortKey)}update(e,r,l){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,r,this.layers,l),this.icon.programConfigurations.updatePaintArrays(e,r,this.layers,l))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(e,r){const l=this.lineVertexArray.length;if(e.segment!==void 0){let p=e.dist(r[e.segment+1]),m=e.dist(r[e.segment]);const x={};for(let b=e.segment+1;b<r.length;b++)x[b]={x:r[b].x,y:r[b].y,tileUnitDistanceFromAnchor:p},b<r.length-1&&(p+=r[b+1].dist(r[b]));for(let b=e.segment||0;b>=0;b--)x[b]={x:r[b].x,y:r[b].y,tileUnitDistanceFromAnchor:m},b>0&&(m+=r[b-1].dist(r[b]));for(let b=0;b<r.length;b++){const C=x[b];this.lineVertexArray.emplaceBack(C.x,C.y,C.tileUnitDistanceFromAnchor)}}return{lineStartIndex:l,lineLength:this.lineVertexArray.length-l}}addSymbols(e,r,l,p,m,x,b,C,A,L,B,V){const q=e.indexArray,H=e.layoutVertexArray,st=e.segments.prepareSegment(4*r.length,H,q,this.canOverlap?x.sortKey:void 0),nt=this.glyphOffsetArray.length,_t=st.vertexLength,At=this.allowVerticalPlacement&&b===h.WritingMode.vertical?Math.PI/2:0,gt=x.text&&x.text.sections;for(let Ct=0;Ct<r.length;Ct++){const{tl:Vt,tr:Ut,bl:be,br:De,tex:me,pixelOffsetTL:ce,pixelOffsetBR:re,minFontScaleX:ge,minFontScaleY:de,glyphOffset:Jt,isSDF:Ge,sectionIndex:Fe}=r[Ct],_i=st.vertexLength,vn=Jt[1];Uu(H,C.x,C.y,Vt.x,vn+Vt.y,me.x,me.y,l,Ge,ce.x,ce.y,ge,de),Uu(H,C.x,C.y,Ut.x,vn+Ut.y,me.x+me.w,me.y,l,Ge,re.x,ce.y,ge,de),Uu(H,C.x,C.y,be.x,vn+be.y,me.x,me.y+me.h,l,Ge,ce.x,re.y,ge,de),Uu(H,C.x,C.y,De.x,vn+De.y,me.x+me.w,me.y+me.h,l,Ge,re.x,re.y,ge,de),kd(e.dynamicLayoutVertexArray,C,At),q.emplaceBack(_i,_i+1,_i+2),q.emplaceBack(_i+1,_i+2,_i+3),st.vertexLength+=4,st.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Jt[0]),Ct!==r.length-1&&Fe===r[Ct+1].sectionIndex||e.programConfigurations.populatePaintArrays(H.length,x,x.index,{},V,gt&&gt[Fe])}e.placedSymbolArray.emplaceBack(C.x,C.y,nt,this.glyphOffsetArray.length-nt,_t,A,L,C.segment,l?l[0]:0,l?l[1]:0,p[0],p[1],b,0,!1,0,B)}_addCollisionDebugVertex(e,r,l,p,m,x){return r.emplaceBack(0,0),e.emplaceBack(l.x,l.y,p,m,Math.round(x.x),Math.round(x.y))}addCollisionDebugVertices(e,r,l,p,m,x,b){const C=m.segments.prepareSegment(4,m.layoutVertexArray,m.indexArray),A=C.vertexLength,L=m.layoutVertexArray,B=m.collisionVertexArray,V=b.anchorX,q=b.anchorY;this._addCollisionDebugVertex(L,B,x,V,q,new ve(e,r)),this._addCollisionDebugVertex(L,B,x,V,q,new ve(l,r)),this._addCollisionDebugVertex(L,B,x,V,q,new ve(l,p)),this._addCollisionDebugVertex(L,B,x,V,q,new ve(e,p)),C.vertexLength+=4;const H=m.indexArray;H.emplaceBack(A,A+1),H.emplaceBack(A+1,A+2),H.emplaceBack(A+2,A+3),H.emplaceBack(A+3,A),C.primitiveLength+=4}addDebugCollisionBoxes(e,r,l,p){for(let m=e;m<r;m++){const x=this.collisionBoxArray.get(m);this.addCollisionDebugVertices(x.x1,x.y1,x.x2,x.y2,p?this.textCollisionBox:this.iconCollisionBox,x.anchorPoint,l)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Cd(Vr,$h.members,vr),this.iconCollisionBox=new Cd(Vr,$h.members,vr);for(let e=0;e<this.symbolInstances.length;e++){const r=this.symbolInstances.get(e);this.addDebugCollisionBoxes(r.textBoxStartIndex,r.textBoxEndIndex,r,!0),this.addDebugCollisionBoxes(r.verticalTextBoxStartIndex,r.verticalTextBoxEndIndex,r,!0),this.addDebugCollisionBoxes(r.iconBoxStartIndex,r.iconBoxEndIndex,r,!1),this.addDebugCollisionBoxes(r.verticalIconBoxStartIndex,r.verticalIconBoxEndIndex,r,!1)}}_deserializeCollisionBoxesForSymbol(e,r,l,p,m,x,b,C,A){const L={};for(let B=r;B<l;B++){const V=e.get(B);L.textBox={x1:V.x1,y1:V.y1,x2:V.x2,y2:V.y2,anchorPointX:V.anchorPointX,anchorPointY:V.anchorPointY},L.textFeatureIndex=V.featureIndex;break}for(let B=p;B<m;B++){const V=e.get(B);L.verticalTextBox={x1:V.x1,y1:V.y1,x2:V.x2,y2:V.y2,anchorPointX:V.anchorPointX,anchorPointY:V.anchorPointY},L.verticalTextFeatureIndex=V.featureIndex;break}for(let B=x;B<b;B++){const V=e.get(B);L.iconBox={x1:V.x1,y1:V.y1,x2:V.x2,y2:V.y2,anchorPointX:V.anchorPointX,anchorPointY:V.anchorPointY},L.iconFeatureIndex=V.featureIndex;break}for(let B=C;B<A;B++){const V=e.get(B);L.verticalIconBox={x1:V.x1,y1:V.y1,x2:V.x2,y2:V.y2,anchorPointX:V.anchorPointX,anchorPointY:V.anchorPointY},L.verticalIconFeatureIndex=V.featureIndex;break}return L}deserializeCollisionBoxes(e){this.collisionArrays=[];for(let r=0;r<this.symbolInstances.length;r++){const l=this.symbolInstances.get(r);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,l.textBoxStartIndex,l.textBoxEndIndex,l.verticalTextBoxStartIndex,l.verticalTextBoxEndIndex,l.iconBoxStartIndex,l.iconBoxEndIndex,l.verticalIconBoxStartIndex,l.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(e,r){const l=e.placedSymbolArray.get(r),p=l.vertexStartIndex+4*l.numGlyphs;for(let m=l.vertexStartIndex;m<p;m+=4)e.indexArray.emplaceBack(m,m+1,m+2),e.indexArray.emplaceBack(m+1,m+2,m+3)}getSortedSymbolIndexes(e){if(this.sortedAngle===e&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const r=Math.sin(e),l=Math.cos(e),p=[],m=[],x=[];for(let b=0;b<this.symbolInstances.length;++b){x.push(b);const C=this.symbolInstances.get(b);p.push(0|Math.round(r*C.anchorX+l*C.anchorY)),m.push(C.featureIndex)}return x.sort((b,C)=>p[b]-p[C]||m[C]-m[b]),x}addToSortKeyRanges(e,r){const l=this.sortKeyRanges[this.sortKeyRanges.length-1];l&&l.sortKey===r?l.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:r,symbolInstanceStart:e,symbolInstanceEnd:e+1})}sortFeatures(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const r of this.symbolInstanceIndexes){const l=this.symbolInstances.get(r);this.featureSortOrder.push(l.featureIndex),[l.rightJustifiedTextSymbolIndex,l.centerJustifiedTextSymbolIndex,l.leftJustifiedTextSymbolIndex].forEach((p,m,x)=>{p>=0&&x.indexOf(p)===m&&this.addIndicesForPlacedSymbol(this.text,p)}),l.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,l.verticalPlacedTextSymbolIndex),l.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,l.placedIconSymbolIndex),l.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,l.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}xe("SymbolBucket",Fh,{omit:["layers","collisionBoxArray","features","compareText"]}),Fh.MAX_GLYPHS=65535,Fh.addDynamicAttributes=kd;const rg=new an({"symbol-placement":new ze(vt.layout_symbol["symbol-placement"]),"symbol-spacing":new ze(vt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new ze(vt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Ue(vt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new ze(vt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new ze(vt.layout_symbol["icon-allow-overlap"]),"icon-overlap":new ze(vt.layout_symbol["icon-overlap"]),"icon-ignore-placement":new ze(vt.layout_symbol["icon-ignore-placement"]),"icon-optional":new ze(vt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new ze(vt.layout_symbol["icon-rotation-alignment"]),"icon-size":new Ue(vt.layout_symbol["icon-size"]),"icon-text-fit":new ze(vt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new ze(vt.layout_symbol["icon-text-fit-padding"]),"icon-image":new Ue(vt.layout_symbol["icon-image"]),"icon-rotate":new Ue(vt.layout_symbol["icon-rotate"]),"icon-padding":new Ue(vt.layout_symbol["icon-padding"]),"icon-keep-upright":new ze(vt.layout_symbol["icon-keep-upright"]),"icon-offset":new Ue(vt.layout_symbol["icon-offset"]),"icon-anchor":new Ue(vt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new ze(vt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new ze(vt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new ze(vt.layout_symbol["text-rotation-alignment"]),"text-field":new Ue(vt.layout_symbol["text-field"]),"text-font":new Ue(vt.layout_symbol["text-font"]),"text-size":new Ue(vt.layout_symbol["text-size"]),"text-max-width":new Ue(vt.layout_symbol["text-max-width"]),"text-line-height":new ze(vt.layout_symbol["text-line-height"]),"text-letter-spacing":new Ue(vt.layout_symbol["text-letter-spacing"]),"text-justify":new Ue(vt.layout_symbol["text-justify"]),"text-radial-offset":new Ue(vt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new ze(vt.layout_symbol["text-variable-anchor"]),"text-anchor":new Ue(vt.layout_symbol["text-anchor"]),"text-max-angle":new ze(vt.layout_symbol["text-max-angle"]),"text-writing-mode":new ze(vt.layout_symbol["text-writing-mode"]),"text-rotate":new Ue(vt.layout_symbol["text-rotate"]),"text-padding":new ze(vt.layout_symbol["text-padding"]),"text-keep-upright":new ze(vt.layout_symbol["text-keep-upright"]),"text-transform":new Ue(vt.layout_symbol["text-transform"]),"text-offset":new Ue(vt.layout_symbol["text-offset"]),"text-allow-overlap":new ze(vt.layout_symbol["text-allow-overlap"]),"text-overlap":new ze(vt.layout_symbol["text-overlap"]),"text-ignore-placement":new ze(vt.layout_symbol["text-ignore-placement"]),"text-optional":new ze(vt.layout_symbol["text-optional"])});var Sd={paint:new an({"icon-opacity":new Ue(vt.paint_symbol["icon-opacity"]),"icon-color":new Ue(vt.paint_symbol["icon-color"]),"icon-halo-color":new Ue(vt.paint_symbol["icon-halo-color"]),"icon-halo-width":new Ue(vt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Ue(vt.paint_symbol["icon-halo-blur"]),"icon-translate":new ze(vt.paint_symbol["icon-translate"]),"icon-translate-anchor":new ze(vt.paint_symbol["icon-translate-anchor"]),"text-opacity":new Ue(vt.paint_symbol["text-opacity"]),"text-color":new Ue(vt.paint_symbol["text-color"],{runtimeType:nn,getOverride:n=>n.textColor,hasOverride:n=>!!n.textColor}),"text-halo-color":new Ue(vt.paint_symbol["text-halo-color"]),"text-halo-width":new Ue(vt.paint_symbol["text-halo-width"]),"text-halo-blur":new Ue(vt.paint_symbol["text-halo-blur"]),"text-translate":new ze(vt.paint_symbol["text-translate"]),"text-translate-anchor":new ze(vt.paint_symbol["text-translate-anchor"])}),layout:rg};class Zp{constructor(e){if(e.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=e.property.overrides?e.property.overrides.runtimeType:Zi,this.defaultValue=e}evaluate(e){if(e.formattedSection){const r=this.defaultValue.property.overrides;if(r&&r.hasOverride(e.formattedSection))return r.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}eachChild(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}xe("FormatSectionOverride",Zp,{omit:["defaultValue"]});class Vu extends zs{constructor(e){super(e,Sd)}recalculate(e,r){if(super.recalculate(e,r),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const l=this.layout.get("text-writing-mode");if(l){const p=[];for(const m of l)p.indexOf(m)<0&&p.push(m);this.layout._values["text-writing-mode"]=p}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(e,r,l,p){const m=this.layout.get(e).evaluate(r,{},l,p),x=this._unevaluatedLayout._values[e];return x.isDataDriven()||no(x.value)||!m?m:function(b,C){return C.replace(/{([^{}]+)}/g,(A,L)=>L in b?String(b[L]):"")}(r.properties,m)}createBucket(e){return new Fh(e)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const e of Sd.paint.overridableProperties){if(!Vu.hasPaintOverride(this.layout,e))continue;const r=this.paint.get(e),l=new Zp(r),p=new zo(l,r.property.specification);let m=null;m=r.value.kind==="constant"||r.value.kind==="source"?new so("source",p):new ro("composite",p,r.value.zoomStops),this.paint._values[e]=new Ms(r.property,m,r.parameters)}}_handleOverridablePaintPropertyUpdate(e,r,l){return!(!this.layout||r.isDataDriven()||l.isDataDriven())&&Vu.hasPaintOverride(this.layout,e)}static hasPaintOverride(e,r){const l=e.get("text-field"),p=Sd.paint.properties[r];let m=!1;const x=b=>{for(const C of b)if(p.overrides&&p.overrides.hasOverride(C))return void(m=!0)};if(l.value.kind==="constant"&&l.value.value instanceof ct)x(l.value.value.sections);else if(l.value.kind==="source"){const b=A=>{m||(A instanceof Ie&&Mt(A.value)===Tn?x(A.value.sections):A instanceof Po?x(A.sections):A.eachChild(b))},C=l.value;C._styleExpression&&b(C._styleExpression.expression)}return m}}function Ed(n,e,r){let l="never";const p=n.get(e);return p?l=p:n.get(r)&&(l="always"),l}var og={paint:new an({"background-color":new ze(vt.paint_background["background-color"]),"background-pattern":new xr(vt.paint_background["background-pattern"]),"background-opacity":new ze(vt.paint_background["background-opacity"])})},ag={paint:new an({"raster-opacity":new ze(vt.paint_raster["raster-opacity"]),"raster-hue-rotate":new ze(vt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new ze(vt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new ze(vt.paint_raster["raster-brightness-max"]),"raster-saturation":new ze(vt.paint_raster["raster-saturation"]),"raster-contrast":new ze(vt.paint_raster["raster-contrast"]),"raster-resampling":new ze(vt.paint_raster["raster-resampling"]),"raster-fade-duration":new ze(vt.paint_raster["raster-fade-duration"])})};class lg extends zs{constructor(e){super(e,{}),this.onAdd=r=>{this.implementation.onAdd&&this.implementation.onAdd(r,r.painter.context.gl)},this.onRemove=r=>{this.implementation.onRemove&&this.implementation.onRemove(r,r.painter.context.gl)},this.implementation=e}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}const cg={circle:class extends zs{constructor(n){super(n,jc)}createBucket(n){return new Fc(n)}queryRadius(n){const e=n;return yo("circle-radius",this,e)+yo("circle-stroke-width",this,e)+Vo(this.paint.get("circle-translate"))}queryIntersectsFeature(n,e,r,l,p,m,x,b){const C=qa(n,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),m.angle,x),A=this.paint.get("circle-radius").evaluate(e,r)+this.paint.get("circle-stroke-width").evaluate(e,r),L=this.paint.get("circle-pitch-alignment")==="map",B=L?C:function(q,H){return q.map(st=>fc(st,H))}(C,b),V=L?A*x:A;for(const q of l)for(const H of q){const st=L?H:fc(H,b);let nt=V;const _t=Za([],[H.x,H.y,0,1],b);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?nt*=_t[3]/m.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(nt*=m.cameraToCenterDistance/_t[3]),Oc(B,st,nt))return!0}return!1}},heatmap:class extends zs{constructor(n){super(n,Qh),this._updateColorRamp()}createBucket(n){return new Ch(n)}_handleSpecialPaintPropertyUpdate(n){n==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Ha({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}},hillshade:class extends zs{constructor(n){super(n,_o)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}},fill:class extends zs{constructor(n){super(n,ou)}recalculate(n,e){super.recalculate(n,e);const r=this.paint._values["fill-outline-color"];r.value.kind==="constant"&&r.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(n){return new Pl(n)}queryRadius(){return Vo(this.paint.get("fill-translate"))}queryIntersectsFeature(n,e,r,l,p,m,x){return hc(qa(n,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),m.angle,x),l)}isTileClipped(){return!0}},"fill-extrusion":class extends zs{constructor(n){super(n,uu)}createBucket(n){return new ko(n)}queryRadius(){return Vo(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(n,e,r,l,p,m,x,b){const C=qa(n,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),m.angle,x),A=this.paint.get("fill-extrusion-height").evaluate(e,r),L=this.paint.get("fill-extrusion-base").evaluate(e,r),B=function(q,H,st,nt){const _t=[];for(const At of q){const gt=[At.x,At.y,0,1];Za(gt,gt,H),_t.push(new ve(gt[0]/gt[3],gt[1]/gt[3]))}return _t}(C,b),V=function(q,H,st,nt){const _t=[],At=[],gt=nt[8]*H,Ct=nt[9]*H,Vt=nt[10]*H,Ut=nt[11]*H,be=nt[8]*st,De=nt[9]*st,me=nt[10]*st,ce=nt[11]*st;for(const re of q){const ge=[],de=[];for(const Jt of re){const Ge=Jt.x,Fe=Jt.y,_i=nt[0]*Ge+nt[4]*Fe+nt[12],vn=nt[1]*Ge+nt[5]*Fe+nt[13],kn=nt[2]*Ge+nt[6]*Fe+nt[14],as=nt[3]*Ge+nt[7]*Fe+nt[15],So=kn+Vt,Bs=as+Ut,Kn=_i+be,ms=vn+De,Rs=kn+me,Ks=as+ce,Cr=new ve((_i+gt)/Bs,(vn+Ct)/Bs);Cr.z=So/Bs,ge.push(Cr);const Yn=new ve(Kn/Ks,ms/Ks);Yn.z=Rs/Ks,de.push(Yn)}_t.push(ge),At.push(de)}return[_t,At]}(l,L,A,b);return function(q,H,st){let nt=1/0;hc(st,H)&&(nt=Mh(st,H[0]));for(let _t=0;_t<H.length;_t++){const At=H[_t],gt=q[_t];for(let Ct=0;Ct<At.length-1;Ct++){const Vt=At[Ct],Ut=[Vt,At[Ct+1],gt[Ct+1],gt[Ct],Vt];Va(st,Ut)&&(nt=Math.min(nt,Mh(st,Ut)))}}return nt!==1/0&&nt}(V[0],V[1],B)}},line:class extends zs{constructor(n){super(n,Ph),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(n){n==="line-gradient"&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Vn,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER)}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(n,e){super.recalculate(n,e),this.paint._values["line-floorwidth"]=zh.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,n)}createBucket(n){return new oh(n)}queryRadius(n){const e=n,r=Lh(yo("line-width",this,e),yo("line-gap-width",this,e)),l=yo("line-offset",this,e);return r/2+Math.abs(l)+Vo(this.paint.get("line-translate"))}queryIntersectsFeature(n,e,r,l,p,m,x){const b=qa(n,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),m.angle,x),C=x/2*Lh(this.paint.get("line-width").evaluate(e,r),this.paint.get("line-gap-width").evaluate(e,r)),A=this.paint.get("line-offset").evaluate(e,r);return A&&(l=function(L,B){const V=[];for(let q=0;q<L.length;q++){const H=L[q],st=[];for(let nt=0;nt<H.length;nt++){const _t=H[nt-1],At=H[nt],gt=H[nt+1],Ct=nt===0?new ve(0,0):At.sub(_t)._unit()._perp(),Vt=nt===H.length-1?new ve(0,0):gt.sub(At)._unit()._perp(),Ut=Ct._add(Vt)._unit(),be=Ut.x*Vt.x+Ut.y*Vt.y;be!==0&&Ut._mult(1/be),st.push(Ut._mult(B)._add(At))}V.push(st)}return V}(l,A*x)),function(L,B,V){for(let q=0;q<B.length;q++){const H=B[q];if(L.length>=3){for(let st=0;st<H.length;st++)if(ja(L,H[st]))return!0}if(Nc(L,H,V))return!0}return!1}(b,l,C)}isTileClipped(){return!0}},symbol:Vu,background:class extends zs{constructor(n){super(n,og)}},raster:class extends zs{constructor(n){super(n,ag)}}};class hg{constructor(e){this._callback=e,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const Hp=63710088e-1;class On{constructor(e,r){if(isNaN(e)||isNaN(r))throw new Error(`Invalid LngLat object: (${e}, ${r})`);if(this.lng=+e,this.lat=+r,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new On(kt(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(e){const r=Math.PI/180,l=this.lat*r,p=e.lat*r,m=Math.sin(l)*Math.sin(p)+Math.cos(l)*Math.cos(p)*Math.cos((e.lng-this.lng)*r);return Hp*Math.acos(Math.min(m,1))}toBounds(e=0){const r=360*e/40075017,l=r/Math.cos(Math.PI/180*this.lat);return new ch(new On(this.lng-l,this.lat-r),new On(this.lng+l,this.lat+r))}static convert(e){if(e instanceof On)return e;if(Array.isArray(e)&&(e.length===2||e.length===3))return new On(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&typeof e=="object"&&e!==null)return new On(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}class ch{constructor(e,r){e&&(r?this.setSouthWest(e).setNorthEast(r):e.length===4?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))}setNorthEast(e){return this._ne=e instanceof On?new On(e.lng,e.lat):On.convert(e),this}setSouthWest(e){return this._sw=e instanceof On?new On(e.lng,e.lat):On.convert(e),this}extend(e){const r=this._sw,l=this._ne;let p,m;if(e instanceof On)p=e,m=e;else{if(!(e instanceof ch))return Array.isArray(e)?e.length===4||e.every(Array.isArray)?this.extend(ch.convert(e)):this.extend(On.convert(e)):this;if(p=e._sw,m=e._ne,!p||!m)return this}return r||l?(r.lng=Math.min(p.lng,r.lng),r.lat=Math.min(p.lat,r.lat),l.lng=Math.max(m.lng,l.lng),l.lat=Math.max(m.lat,l.lat)):(this._sw=new On(p.lng,p.lat),this._ne=new On(m.lng,m.lat)),this}getCenter(){return new On((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new On(this.getWest(),this.getNorth())}getSouthEast(){return new On(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(e){const{lng:r,lat:l}=On.convert(e);let p=this._sw.lng<=r&&r<=this._ne.lng;return this._sw.lng>this._ne.lng&&(p=this._sw.lng>=r&&r>=this._ne.lng),this._sw.lat<=l&&l<=this._ne.lat&&p}static convert(e){return e instanceof ch?e:e&&new ch(e)}}const Gp=2*Math.PI*Hp;function Wp(n){return Gp*Math.cos(n*Math.PI/180)}function Xp(n){return(180+n)/360}function Kp(n){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+n*Math.PI/360)))/360}function Yp(n,e){return n/Wp(e)}function Id(n){return 360/Math.PI*Math.atan(Math.exp((180-360*n)*Math.PI/180))-90}class ju{constructor(e,r,l=0){this.x=+e,this.y=+r,this.z=+l}static fromLngLat(e,r=0){const l=On.convert(e);return new ju(Xp(l.lng),Kp(l.lat),Yp(r,l.lat))}toLngLat(){return new On(360*this.x-180,Id(this.y))}toAltitude(){return this.z*Wp(Id(this.y))}meterInMercatorCoordinateUnits(){return 1/Gp*(e=Id(this.y),1/Math.cos(e*Math.PI/180));var e}}function Jp(n,e,r){var l=2*Math.PI*6378137/256/Math.pow(2,r);return[n*l-2*Math.PI*6378137/2,e*l-2*Math.PI*6378137/2]}class Ad{constructor(e,r,l){if(e<0||e>25||l<0||l>=Math.pow(2,e)||r<0||r>=Math.pow(2,e))throw new Error(`x=${r}, y=${l}, z=${e} outside of bounds. 0<=x<${Math.pow(2,e)}, 0<=y<${Math.pow(2,e)} 0<=z<=25 `);this.z=e,this.x=r,this.y=l,this.key=wu(0,e,e,r,l)}equals(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}url(e,r,l){const p=(x=this.y,b=this.z,C=Jp(256*(m=this.x),256*(x=Math.pow(2,b)-x-1),b),A=Jp(256*(m+1),256*(x+1),b),C[0]+","+C[1]+","+A[0]+","+A[1]);var m,x,b,C,A;const L=function(B,V,q){let H,st="";for(let nt=B;nt>0;nt--)H=1<<nt-1,st+=(V&H?1:0)+(q&H?2:0);return st}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(l==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,r>1?"@2x":"").replace(/{quadkey}/g,L).replace(/{bbox-epsg-3857}/g,p)}isChildOf(e){const r=this.z-e.z;return r>0&&e.x===this.x>>r&&e.y===this.y>>r}getTilePoint(e){const r=Math.pow(2,this.z);return new ve((e.x*r-this.x)*Pn,(e.y*r-this.y)*Pn)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Qp{constructor(e,r){this.wrap=e,this.canonical=r,this.key=wu(e,r.z,r.z,r.x,r.y)}}class Co{constructor(e,r,l,p,m){if(e<l)throw new Error(`overscaledZ should be >= z; overscaledZ = ${e}; z = ${l}`);this.overscaledZ=e,this.wrap=r,this.canonical=new Ad(l,+p,+m),this.key=wu(r,e,l,p,m)}clone(){return new Co(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}scaledTo(e){if(e>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${e}; overscaledZ = ${this.overscaledZ}`);const r=this.canonical.z-e;return e>this.canonical.z?new Co(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Co(e,this.wrap,e,this.canonical.x>>r,this.canonical.y>>r)}calculateScaledKey(e,r){if(e>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${e}; overscaledZ = ${this.overscaledZ}`);const l=this.canonical.z-e;return e>this.canonical.z?wu(this.wrap*+r,e,this.canonical.z,this.canonical.x,this.canonical.y):wu(this.wrap*+r,e,e,this.canonical.x>>l,this.canonical.y>>l)}isChildOf(e){if(e.wrap!==this.wrap)return!1;const r=this.canonical.z-e.canonical.z;return e.overscaledZ===0||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>r&&e.canonical.y===this.canonical.y>>r}children(e){if(this.overscaledZ>=e)return[new Co(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const r=this.canonical.z+1,l=2*this.canonical.x,p=2*this.canonical.y;return[new Co(r,this.wrap,r,l,p),new Co(r,this.wrap,r,l+1,p),new Co(r,this.wrap,r,l,p+1),new Co(r,this.wrap,r,l+1,p+1)]}isLessThan(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}wrapped(){return new Co(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(e){return new Co(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Qp(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(e){return this.canonical.getTilePoint(new ju(e.x-this.wrap,e.y))}}function wu(n,e,r,l,p){(n*=2)<0&&(n=-1*n-1);const m=1<<r;return(m*m*n+m*p+l).toString(36)+r.toString(36)+e.toString(36)}xe("CanonicalTileID",Ad),xe("OverscaledTileID",Co,{omit:["posMatrix"]});class tf{constructor(e,r,l){if(this.uid=e,r.height!==r.width)throw new RangeError("DEM tiles must be square");if(l&&l!=="mapbox"&&l!=="terrarium")return void ii(`"${l}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=r.height;const p=this.dim=r.height-2;this.data=new Uint32Array(r.data.buffer),this.encoding=l||"mapbox";for(let m=0;m<p;m++)this.data[this._idx(-1,m)]=this.data[this._idx(0,m)],this.data[this._idx(p,m)]=this.data[this._idx(p-1,m)],this.data[this._idx(m,-1)]=this.data[this._idx(m,0)],this.data[this._idx(m,p)]=this.data[this._idx(m,p-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(p,-1)]=this.data[this._idx(p-1,0)],this.data[this._idx(-1,p)]=this.data[this._idx(0,p-1)],this.data[this._idx(p,p)]=this.data[this._idx(p-1,p-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let m=0;m<p;m++)for(let x=0;x<p;x++){const b=this.get(m,x);b>this.max&&(this.max=b),b<this.min&&(this.min=b)}}get(e,r){const l=new Uint8Array(this.data.buffer),p=4*this._idx(e,r);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(l[p],l[p+1],l[p+2])}getUnpackVector(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]}_idx(e,r){if(e<-1||e>=this.dim+1||r<-1||r>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(r+1)*this.stride+(e+1)}_unpackMapbox(e,r,l){return(256*e*256+256*r+l)/10-1e4}_unpackTerrarium(e,r,l){return 256*e+r+l/256-32768}getPixels(){return new Xs({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(e,r,l){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");let p=r*this.dim,m=r*this.dim+this.dim,x=l*this.dim,b=l*this.dim+this.dim;switch(r){case-1:p=m-1;break;case 1:m=p+1}switch(l){case-1:x=b-1;break;case 1:b=x+1}const C=-r*this.dim,A=-l*this.dim;for(let L=x;L<b;L++)for(let B=p;B<m;B++)this.data[this._idx(B,L)]=e.data[this._idx(B+C,L+A)]}}xe("DEMData",tf);class ef{constructor(e){this._stringToNumber={},this._numberToString=[];for(let r=0;r<e.length;r++){const l=e[r];this._stringToNumber[l]=r,this._numberToString[r]=l}}encode(e){return this._stringToNumber[e]}decode(e){if(e>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${e} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[e]}}class nf{constructor(e,r,l,p,m){this.type="Feature",this._vectorTileFeature=e,e._z=r,e._x=l,e._y=p,this.properties=e.properties,this.id=m}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(e){this._geometry=e}toJSON(){const e={geometry:this.geometry};for(const r in this)r!=="_geometry"&&r!=="_vectorTileFeature"&&(e[r]=this[r]);return e}}class sf{constructor(e,r){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new co(Pn,16,0),this.grid3D=new co(Pn,16,0),this.featureIndexArray=new di,this.promoteId=r}insert(e,r,l,p,m,x){const b=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(l,p,m);const C=x?this.grid3D:this.grid;for(let A=0;A<r.length;A++){const L=r[A],B=[1/0,1/0,-1/0,-1/0];for(let V=0;V<L.length;V++){const q=L[V];B[0]=Math.min(B[0],q.x),B[1]=Math.min(B[1],q.y),B[2]=Math.max(B[2],q.x),B[3]=Math.max(B[3],q.y)}B[0]<Pn&&B[1]<Pn&&B[2]>=0&&B[3]>=0&&C.insert(b,B[0],B[1],B[2],B[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new fs.VectorTile(new To(this.rawTileData)).layers,this.sourceLayerCoder=new ef(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(e,r,l,p){this.loadVTLayers();const m=e.params||{},x=Pn/e.tileSize/e.scale,b=$o(m.filter),C=e.queryGeometry,A=e.queryPadding*x,L=of(C),B=this.grid.query(L.minX-A,L.minY-A,L.maxX+A,L.maxY+A),V=of(e.cameraQueryGeometry),q=this.grid3D.query(V.minX-A,V.minY-A,V.maxX+A,V.maxY+A,(nt,_t,At,gt)=>function(Ct,Vt,Ut,be,De){for(const ce of Ct)if(Vt<=ce.x&&Ut<=ce.y&&be>=ce.x&&De>=ce.y)return!0;const me=[new ve(Vt,Ut),new ve(Vt,De),new ve(be,De),new ve(be,Ut)];if(Ct.length>2){for(const ce of me)if(ja(Ct,ce))return!0}for(let ce=0;ce<Ct.length-1;ce++)if(Yh(Ct[ce],Ct[ce+1],me))return!0;return!1}(e.cameraQueryGeometry,nt-A,_t-A,At+A,gt+A));for(const nt of q)B.push(nt);B.sort(ug);const H={};let st;for(let nt=0;nt<B.length;nt++){const _t=B[nt];if(_t===st)continue;st=_t;const At=this.featureIndexArray.get(_t);let gt=null;this.loadMatchingFeature(H,At.bucketIndex,At.sourceLayerIndex,At.featureIndex,b,m.layers,m.availableImages,r,l,p,(Ct,Vt,Ut)=>(gt||(gt=go(Ct)),Vt.queryIntersectsFeature(C,Ct,Ut,gt,this.z,e.transform,x,e.pixelPosMatrix)))}return H}loadMatchingFeature(e,r,l,p,m,x,b,C,A,L,B){const V=this.bucketLayerIDs[r];if(x&&!function(nt,_t){for(let At=0;At<nt.length;At++)if(_t.indexOf(nt[At])>=0)return!0;return!1}(x,V))return;const q=this.sourceLayerCoder.decode(l),H=this.vtLayers[q].feature(p);if(m.needGeometry){const nt=ga(H,!0);if(!m.filter(new on(this.tileID.overscaledZ),nt,this.tileID.canonical))return}else if(!m.filter(new on(this.tileID.overscaledZ),H))return;const st=this.getId(H,q);for(let nt=0;nt<V.length;nt++){const _t=V[nt];if(x&&x.indexOf(_t)<0)continue;const At=C[_t];if(!At)continue;let gt={};st&&L&&(gt=L.getState(At.sourceLayer||"_geojsonTileLayer",st));const Ct=Te({},A[_t]);Ct.paint=rf(Ct.paint,At.paint,H,gt,b),Ct.layout=rf(Ct.layout,At.layout,H,gt,b);const Vt=!B||B(H,At,gt);if(!Vt)continue;const Ut=new nf(H,this.z,this.x,this.y,st);Ut.layer=Ct;let be=e[_t];be===void 0&&(be=e[_t]=[]),be.push({featureIndex:p,feature:Ut,intersectionZ:Vt})}}lookupSymbolFeatures(e,r,l,p,m,x,b,C){const A={};this.loadVTLayers();const L=$o(m);for(const B of e)this.loadMatchingFeature(A,l,p,B,L,x,b,C,r);return A}hasLayer(e){for(const r of this.bucketLayerIDs)for(const l of r)if(e===l)return!0;return!1}getId(e,r){let l=e.id;return this.promoteId&&(l=e.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[r]],typeof l=="boolean"&&(l=Number(l))),l}}function rf(n,e,r,l,p){return Ye(n,(m,x)=>{const b=e instanceof _r?e.get(x):null;return b&&b.evaluate?b.evaluate(r,l,p):b})}function of(n){let e=1/0,r=1/0,l=-1/0,p=-1/0;for(const m of n)e=Math.min(e,m.x),r=Math.min(r,m.y),l=Math.max(l,m.x),p=Math.max(p,m.y);return{minX:e,minY:r,maxX:l,maxY:p}}function ug(n,e){return e-n}var Md;xe("FeatureIndex",sf,{omit:["rawTileData","sourceLayerCoder"]}),h.PerformanceMarkers=void 0,(Md=h.PerformanceMarkers||(h.PerformanceMarkers={})).create="create",Md.load="load",Md.fullLoad="fullLoad";let qu=null,bu=[];const Pd=1e3/30,dg={mark(n){performance.mark(n)},frame(n){const e=n;qu!=null&&bu.push(e-qu),qu=e},clearMetrics(){qu=null,bu=[],performance.clearMeasures("loadTime"),performance.clearMeasures("fullLoadTime");for(const n in h.PerformanceMarkers)performance.clearMarks(h.PerformanceMarkers[n])},getPerformanceMetrics(){performance.measure("loadTime",h.PerformanceMarkers.create,h.PerformanceMarkers.load),performance.measure("fullLoadTime",h.PerformanceMarkers.create,h.PerformanceMarkers.fullLoad);const n=performance.getEntriesByName("loadTime")[0].duration,e=performance.getEntriesByName("fullLoadTime")[0].duration,r=bu.length,l=1/(bu.reduce((m,x)=>m+x,0)/r/1e3),p=bu.filter(m=>m>Pd).reduce((m,x)=>m+(x-Pd)/Pd,0);return{loadTime:n,fullLoadTime:e,fps:l,percentDroppedFrames:p/(r+p)*100}}};h.AJAXError=ft,h.ARRAY_TYPE=ps,h.Actor=class{constructor(n,e,r){this.target=n,this.parent=e,this.mapId=r,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},Pi(["receive","process"],this),this.invoker=new hg(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=Ne()?n:window}send(n,e,r,l,p=!1){const m=Math.round(1e18*Math.random()).toString(36).substring(0,10);r&&(this.callbacks[m]=r);const x=Hi(this.globalScope)?void 0:[];return this.target.postMessage({id:m,type:n,hasCallback:!!r,targetMapId:l,mustQueue:p,sourceMapId:this.mapId,data:rs(e,x)},x),{cancel:()=>{r&&delete this.callbacks[m],this.target.postMessage({id:m,type:"<cancel>",targetMapId:l,sourceMapId:this.mapId})}}}receive(n){const e=n.data,r=e.id;if(r&&(!e.targetMapId||this.mapId===e.targetMapId))if(e.type==="<cancel>"){delete this.tasks[r];const l=this.cancelCallbacks[r];delete this.cancelCallbacks[r],l&&l()}else Ne()||e.mustQueue?(this.tasks[r]=e,this.taskQueue.push(r),this.invoker.trigger()):this.processTask(r,e)}process(){if(!this.taskQueue.length)return;const n=this.taskQueue.shift(),e=this.tasks[n];delete this.tasks[n],this.taskQueue.length&&this.invoker.trigger(),e&&this.processTask(n,e)}processTask(n,e){if(e.type==="<response>"){const r=this.callbacks[n];delete this.callbacks[n],r&&(e.error?r(_n(e.error)):r(null,_n(e.data)))}else{let r=!1;const l=Hi(this.globalScope)?void 0:[],p=e.hasCallback?(b,C)=>{r=!0,delete this.cancelCallbacks[n],this.target.postMessage({id:n,type:"<response>",sourceMapId:this.mapId,error:b?rs(b):null,data:rs(C,l)},l)}:b=>{r=!0};let m=null;const x=_n(e.data);if(this.parent[e.type])m=this.parent[e.type](e.sourceMapId,x,p);else if(this.parent.getWorkerSource){const b=e.type.split(".");m=this.parent.getWorkerSource(e.sourceMapId,b[0],x.source)[b[1]](x,p)}else p(new Error(`Could not find function ${e.type}`));!r&&m&&m.cancel&&(this.cancelCallbacks[n]=m.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},h.AlphaImage=Tl,h.CanonicalTileID=Ad,h.CollisionBoxArray=$t,h.CollisionCircleLayoutArray=class extends ${},h.Color=K,h.DEMData=tf,h.DataConstantProperty=ze,h.DictionaryCoder=ef,h.EXTENT=Pn,h.ErrorEvent=pe,h.EvaluationParameters=on,h.Event=Ve,h.Evented=ci,h.FeatureIndex=sf,h.FillBucket=Pl,h.FillExtrusionBucket=ko,h.GeoJSONFeature=nf,h.ImageAtlas=wc,h.ImagePosition=Bl,h.LineBucket=oh,h.LineStripIndexArray=class extends it{},h.LngLat=On,h.LngLatBounds=ch,h.MercatorCoordinate=ju,h.ONE_EM=qn,h.OverscaledTileID=Co,h.PerformanceUtils=dg,h.PosArray=Le,h.Properties=an,h.QuadTriangleArray=class extends j{},h.RGBAImage=Xs,h.RasterBoundsArray=class extends d{},h.RequestPerformance=class{constructor(n){this._marks={start:[n.url,"start"].join("#"),end:[n.url,"end"].join("#"),measure:n.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let n=performance.getEntriesByName(this._marks.measure);return n.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),n=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),n}},h.ResourceType=at,h.SegmentVector=pi,h.SymbolBucket=Fh,h.Transitionable=Na,h.TriangleIndexArray=ds,h.Uniform1f=wr,h.Uniform1i=class extends po{constructor(n,e){super(n,e),this.current=0}set(n){this.current!==n&&(this.current=n,this.gl.uniform1i(this.location,n))}},h.Uniform2f=class extends po{constructor(n,e){super(n,e),this.current=[0,0]}set(n){n[0]===this.current[0]&&n[1]===this.current[1]||(this.current=n,this.gl.uniform2f(this.location,n[0],n[1]))}},h.Uniform3f=class extends po{constructor(n,e){super(n,e),this.current=[0,0,0]}set(n){n[0]===this.current[0]&&n[1]===this.current[1]&&n[2]===this.current[2]||(this.current=n,this.gl.uniform3f(this.location,n[0],n[1],n[2]))}},h.Uniform4f=No,h.UniformColor=$s,h.UniformMatrix4f=class extends po{constructor(n,e){super(n,e),this.current=Bc}set(n){if(n[12]!==this.current[12]||n[0]!==this.current[0])return this.current=n,void this.gl.uniformMatrix4fv(this.location,!1,n);for(let e=1;e<16;e++)if(n[e]!==this.current[e]){this.current=n,this.gl.uniformMatrix4fv(this.location,!1,n);break}}},h.UnwrappedTileID=Qp,h.ValidationError=Zt,h.ZoomHistory=dl,h.add=function(n,e,r){return n[0]=e[0]+r[0],n[1]=e[1]+r[1],n[2]=e[2]+r[2],n},h.addDynamicAttributes=kd,h.asyncAll=function(n,e,r){if(!n.length)return r(null,[]);let l=n.length;const p=new Array(n.length);let m=null;n.forEach((x,b)=>{e(x,(C,A)=>{C&&(m=C),p[b]=A,--l==0&&r(m,p)})})},h.bezier=Bt,h.bindAll=Pi,h.cacheEntryPossiblyAdded=function(n){Gi++,Gi>ys&&(n.getActor().send("enforceCacheSizeLimit",Qi),Gi=0)},h.clamp=lt,h.clearTileCache=function(n){const e=caches.delete(je);n&&e.catch(n).then(()=>n())},h.clipLine=Op,h.clone=function(n){var e=new ps(16);return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e},h.clone$1=Ce,h.clone$2=function(n){var e=new ps(3);return e[0]=n[0],e[1]=n[1],e[2]=n[2],e},h.collisionCircleLayout=_u,h.config=Ht,h.copy=function(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n},h.create=function(){var n=new ps(16);return ps!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0),n[0]=1,n[5]=1,n[10]=1,n[15]=1,n},h.create$1=kh,h.createExpression=fr,h.createFilter=$o,h.createLayout=Sn,h.createStyleLayer=function(n){return n.type==="custom"?new lg(n):new cg[n.type](n)},h.cross=function(n,e,r){var l=e[0],p=e[1],m=e[2],x=r[0],b=r[1],C=r[2];return n[0]=p*C-m*b,n[1]=m*x-l*C,n[2]=l*b-p*x,n},h.dot=function(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]},h.dot$1=function(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]+n[3]*e[3]},h.ease=Lt,h.emitValidationErrors=Ra,h.enforceCacheSizeLimit=function(n){zn(),ne&&ne.then(e=>{e.keys().then(r=>{for(let l=0;l<r.length-n;l++)e.delete(r[l])})})},h.equals=function(n,e){var r=n[0],l=n[1],p=n[2],m=n[3],x=n[4],b=n[5],C=n[6],A=n[7],L=n[8],B=n[9],V=n[10],q=n[11],H=n[12],st=n[13],nt=n[14],_t=n[15],At=e[0],gt=e[1],Ct=e[2],Vt=e[3],Ut=e[4],be=e[5],De=e[6],me=e[7],ce=e[8],re=e[9],ge=e[10],de=e[11],Jt=e[12],Ge=e[13],Fe=e[14],_i=e[15];return Math.abs(r-At)<=Xn*Math.max(1,Math.abs(r),Math.abs(At))&&Math.abs(l-gt)<=Xn*Math.max(1,Math.abs(l),Math.abs(gt))&&Math.abs(p-Ct)<=Xn*Math.max(1,Math.abs(p),Math.abs(Ct))&&Math.abs(m-Vt)<=Xn*Math.max(1,Math.abs(m),Math.abs(Vt))&&Math.abs(x-Ut)<=Xn*Math.max(1,Math.abs(x),Math.abs(Ut))&&Math.abs(b-be)<=Xn*Math.max(1,Math.abs(b),Math.abs(be))&&Math.abs(C-De)<=Xn*Math.max(1,Math.abs(C),Math.abs(De))&&Math.abs(A-me)<=Xn*Math.max(1,Math.abs(A),Math.abs(me))&&Math.abs(L-ce)<=Xn*Math.max(1,Math.abs(L),Math.abs(ce))&&Math.abs(B-re)<=Xn*Math.max(1,Math.abs(B),Math.abs(re))&&Math.abs(V-ge)<=Xn*Math.max(1,Math.abs(V),Math.abs(ge))&&Math.abs(q-de)<=Xn*Math.max(1,Math.abs(q),Math.abs(de))&&Math.abs(H-Jt)<=Xn*Math.max(1,Math.abs(H),Math.abs(Jt))&&Math.abs(st-Ge)<=Xn*Math.max(1,Math.abs(st),Math.abs(Ge))&&Math.abs(nt-Fe)<=Xn*Math.max(1,Math.abs(nt),Math.abs(Fe))&&Math.abs(_t-_i)<=Xn*Math.max(1,Math.abs(_t),Math.abs(_i))},h.evaluateSizeForFeature=function(n,{uSize:e,uSizeT:r},{lowerSize:l,upperSize:p}){return n.kind==="source"?l/Rl:n.kind==="composite"?Ki(l/Rl,p/Rl,r):e},h.evaluateSizeForZoom=function(n,e){let r=0,l=0;if(n.kind==="constant")l=n.layoutSize;else if(n.kind!=="source"){const{interpolationType:p,minZoom:m,maxZoom:x}=n,b=p?lt(ws.interpolationFactor(p,e,m,x),0,1):0;n.kind==="camera"?l=Ki(n.minSize,n.maxSize,b):r=b}return{uSizeT:r,uSize:l}},h.evaluateVariableOffset=Vp,h.evented=gl,h.exported=oi,h.exported$1=hn,h.extend=Te,h.filterObject=li,h.fromRotation=function(n,e){var r=Math.sin(e),l=Math.cos(e);return n[0]=l,n[1]=r,n[2]=0,n[3]=-r,n[4]=l,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n},h.fromScaling=function(n,e){return n[0]=e[0],n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=e[1],n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=e[2],n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n},h.getAnchorAlignment=vd,h.getAnchorJustification=bd,h.getArrayBuffer=Yt,h.getImage=Se,h.getJSON=function(n,e){return qt(Te(n,{type:"json"}),e)},h.getOverlapMode=Ed,h.getRTLTextPluginStatus=ho,h.getReferrer=Rt,h.getVideo=function(n,e){const r=window.document.createElement("video");r.muted=!0,r.onloadstart=function(){e(null,r)};for(let l=0;l<n.length;l++){const p=window.document.createElement("source");Qt(n[l])||(r.crossOrigin="Anonymous"),p.src=n[l],r.appendChild(p)}return{cancel:()=>{}}},h.identity=qc,h.invert=function(n,e){var r=e[0],l=e[1],p=e[2],m=e[3],x=e[4],b=e[5],C=e[6],A=e[7],L=e[8],B=e[9],V=e[10],q=e[11],H=e[12],st=e[13],nt=e[14],_t=e[15],At=r*b-l*x,gt=r*C-p*x,Ct=r*A-m*x,Vt=l*C-p*b,Ut=l*A-m*b,be=p*A-m*C,De=L*st-B*H,me=L*nt-V*H,ce=L*_t-q*H,re=B*nt-V*st,ge=B*_t-q*st,de=V*_t-q*nt,Jt=At*de-gt*ge+Ct*re+Vt*ce-Ut*me+be*De;return Jt?(n[0]=(b*de-C*ge+A*re)*(Jt=1/Jt),n[1]=(p*ge-l*de-m*re)*Jt,n[2]=(st*be-nt*Ut+_t*Vt)*Jt,n[3]=(V*Ut-B*be-q*Vt)*Jt,n[4]=(C*ce-x*de-A*me)*Jt,n[5]=(r*de-p*ce+m*me)*Jt,n[6]=(nt*Ct-H*be-_t*gt)*Jt,n[7]=(L*be-V*Ct+q*gt)*Jt,n[8]=(x*ge-b*ce+A*De)*Jt,n[9]=(l*ce-r*ge-m*De)*Jt,n[10]=(H*Ut-st*Ct+_t*At)*Jt,n[11]=(B*Ct-L*Ut-q*At)*Jt,n[12]=(b*me-x*re-C*De)*Jt,n[13]=(r*re-l*me+p*De)*Jt,n[14]=(st*gt-H*Vt-nt*At)*Jt,n[15]=(L*Vt-B*gt+V*At)*Jt,n):null},h.isImageBitmap=gn,h.isSafari=Hi,h.isWorker=Ne,h.keysDifference=function(n,e){const r=[];for(const l in n)l in e||r.push(l);return r},h.lazyLoadRTLTextPlugin=function(){hs.isLoading()||hs.isLoaded()||ho()!=="deferred"||Fo()},h.makeRequest=qt,h.mapObject=Ye,h.mercatorXfromLng=Xp,h.mercatorYfromLat=Kp,h.mercatorZfromAltitude=Yp,h.mul=Jh,h.mul$1=function(n,e,r){return n[0]=e[0]*r[0],n[1]=e[1]*r[1],n[2]=e[2]*r[2],n[3]=e[3]*r[3],n},h.multiply=uc,h.nextPowerOfTwo=function(n){return n<=1?1:Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))},h.normalize=function(n,e){var r=e[0],l=e[1],p=e[2],m=r*r+l*l+p*p;return m>0&&(m=1/Math.sqrt(m)),n[0]=e[0]*m,n[1]=e[1]*m,n[2]=e[2]*m,n},h.number=Ki,h.ortho=function(n,e,r,l,p,m,x){var b=1/(e-r),C=1/(l-p),A=1/(m-x);return n[0]=-2*b,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*C,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2*A,n[11]=0,n[12]=(e+r)*b,n[13]=(p+l)*C,n[14]=(x+m)*A,n[15]=1,n},h.parseCacheControl=Xi,h.parseGlyphPbf=function(n){return new To(n).readFields(vc,[])},h.pbf=To,h.performSymbolLayout=function(n){n.bucket.createArrays(),n.bucket.tilePixelRatio=Pn/(512*n.bucket.overscaling),n.bucket.compareText={},n.bucket.iconsNeedLinear=!1;const e=n.bucket.layers[0].layout,r=n.bucket.layers[0]._unevaluatedLayout._values,l={layoutIconSize:r["icon-size"].possiblyEvaluate(new on(n.bucket.zoom+1),n.canonical),layoutTextSize:r["text-size"].possiblyEvaluate(new on(n.bucket.zoom+1),n.canonical),textMaxSize:r["text-size"].possiblyEvaluate(new on(18))};if(n.bucket.textSizeData.kind==="composite"){const{minZoom:C,maxZoom:A}=n.bucket.textSizeData;l.compositeTextSizes=[r["text-size"].possiblyEvaluate(new on(C),n.canonical),r["text-size"].possiblyEvaluate(new on(A),n.canonical)]}if(n.bucket.iconSizeData.kind==="composite"){const{minZoom:C,maxZoom:A}=n.bucket.iconSizeData;l.compositeIconSizes=[r["icon-size"].possiblyEvaluate(new on(C),n.canonical),r["icon-size"].possiblyEvaluate(new on(A),n.canonical)]}const p=e.get("text-line-height")*qn,m=e.get("text-rotation-alignment")!=="viewport"&&e.get("symbol-placement")!=="point",x=e.get("text-keep-upright"),b=e.get("text-size");for(const C of n.bucket.features){const A=e.get("text-font").evaluate(C,{},n.canonical).join(","),L=b.evaluate(C,{},n.canonical),B=l.layoutTextSize.evaluate(C,{},n.canonical),V=l.layoutIconSize.evaluate(C,{},n.canonical),q={horizontal:{},vertical:void 0},H=C.text;let st,nt=[0,0];if(H){const gt=H.toString(),Ct=e.get("text-letter-spacing").evaluate(C,{},n.canonical)*qn,Vt=pl(gt)?Ct:0,Ut=e.get("text-anchor").evaluate(C,{},n.canonical),be=e.get("text-variable-anchor");if(!be){const ge=e.get("text-radial-offset").evaluate(C,{},n.canonical);nt=ge?Vp(Ut,[ge*qn,wd]):e.get("text-offset").evaluate(C,{},n.canonical).map(de=>de*qn)}let De=m?"center":e.get("text-justify").evaluate(C,{},n.canonical);const me=e.get("symbol-placement"),ce=me==="point"?e.get("text-max-width").evaluate(C,{},n.canonical)*qn:0,re=()=>{n.bucket.allowVerticalPlacement&&Fa(gt)&&(q.vertical=Du(H,n.glyphMap,n.glyphPositions,n.imagePositions,A,ce,p,Ut,"left",Vt,nt,h.WritingMode.vertical,!0,me,B,L))};if(!m&&be){const ge=De==="auto"?be.map(Jt=>bd(Jt)):[De];let de=!1;for(let Jt=0;Jt<ge.length;Jt++){const Ge=ge[Jt];if(!q.horizontal[Ge])if(de)q.horizontal[Ge]=q.horizontal[0];else{const Fe=Du(H,n.glyphMap,n.glyphPositions,n.imagePositions,A,ce,p,"center",Ge,Vt,nt,h.WritingMode.horizontal,!1,me,B,L);Fe&&(q.horizontal[Ge]=Fe,de=Fe.positionedLines.length===1)}}re()}else{De==="auto"&&(De=bd(Ut));const ge=Du(H,n.glyphMap,n.glyphPositions,n.imagePositions,A,ce,p,Ut,De,Vt,nt,h.WritingMode.horizontal,!1,me,B,L);ge&&(q.horizontal[De]=ge),re(),Fa(gt)&&m&&x&&(q.vertical=Du(H,n.glyphMap,n.glyphPositions,n.imagePositions,A,ce,p,Ut,De,Vt,nt,h.WritingMode.vertical,!1,me,B,L))}}let _t=!1;if(C.icon&&C.icon.name){const gt=n.imageMap[C.icon.name];gt&&(st=Gm(n.imagePositions[C.icon.name],e.get("icon-offset").evaluate(C,{},n.canonical),e.get("icon-anchor").evaluate(C,{},n.canonical)),_t=!!gt.sdf,n.bucket.sdfIcons===void 0?n.bucket.sdfIcons=_t:n.bucket.sdfIcons!==_t&&ii("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(gt.pixelRatio!==n.bucket.pixelRatio||e.get("icon-rotate").constantOr(1)!==0)&&(n.bucket.iconsNeedLinear=!0))}const At=qp(q.horizontal)||q.vertical;n.bucket.iconsInText=!!At&&At.iconsInText,(At||st)&&tg(n.bucket,C,q,st,n.imageMap,l,B,V,nt,_t,n.canonical)}n.showCollisionBoxes&&n.bucket.generateCollisionDebugBuffers()},h.perspective=function(n,e,r,l,p){var m,x=1/Math.tan(e/2);return n[0]=x/r,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=x,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=-1,n[12]=0,n[13]=0,n[15]=0,p!=null&&p!==1/0?(n[10]=(p+l)*(m=1/(l-p)),n[14]=2*p*l*m):(n[10]=-1,n[14]=-2*l),n},h.pick=function(n,e){const r={};for(let l=0;l<e.length;l++){const p=e[l];p in n&&(r[p]=n[p])}return r},h.plugin=hs,h.pointGeometry=ve,h.polygonIntersectsPolygon=Va,h.potpack=Xa,h.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],h.register=xe,h.registerForPluginStateChange=function(n){return n({pluginStatus:Wn,pluginURL:Mi}),gl.on("pluginStateChange",n),n},h.renderColorRamp=Ha,h.rotateX=function(n,e,r){var l=Math.sin(r),p=Math.cos(r),m=e[4],x=e[5],b=e[6],C=e[7],A=e[8],L=e[9],B=e[10],V=e[11];return e!==n&&(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[4]=m*p+A*l,n[5]=x*p+L*l,n[6]=b*p+B*l,n[7]=C*p+V*l,n[8]=A*p-m*l,n[9]=L*p-x*l,n[10]=B*p-b*l,n[11]=V*p-C*l,n},h.rotateZ=function(n,e,r){var l=Math.sin(r),p=Math.cos(r),m=e[0],x=e[1],b=e[2],C=e[3],A=e[4],L=e[5],B=e[6],V=e[7];return e!==n&&(n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[0]=m*p+A*l,n[1]=x*p+L*l,n[2]=b*p+B*l,n[3]=C*p+V*l,n[4]=A*p-m*l,n[5]=L*p-x*l,n[6]=B*p-b*l,n[7]=V*p-C*l,n},h.scale=function(n,e,r){var l=r[0],p=r[1],m=r[2];return n[0]=e[0]*l,n[1]=e[1]*l,n[2]=e[2]*l,n[3]=e[3]*l,n[4]=e[4]*p,n[5]=e[5]*p,n[6]=e[6]*p,n[7]=e[7]*p,n[8]=e[8]*m,n[9]=e[9]*m,n[10]=e[10]*m,n[11]=e[11]*m,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n},h.scale$1=function(n,e,r){return n[0]=e[0]*r,n[1]=e[1]*r,n[2]=e[2]*r,n},h.setCacheLimits=function(n,e){Qi=n,ys=e},h.setRTLTextPlugin=function(n,e,r=!1){if(Wn===bn||Wn===ml||Wn===fa)throw new Error("setRTLTextPlugin cannot be called multiple times.");Mi=oi.resolveURL(n),Wn=bn,Ts=e,Ur(),r||Fo()},h.spec=vt,h.sphericalToCartesian=function([n,e,r]){return e+=90,e*=Math.PI/180,r*=Math.PI/180,{x:n*Math.cos(e)*Math.sin(r),y:n*Math.sin(e)*Math.sin(r),z:n*Math.cos(r)}},h.sqrLen=function(n){var e=n[0],r=n[1];return e*e+r*r},h.sub=function(n,e,r){return n[0]=e[0]-r[0],n[1]=e[1]-r[1],n[2]=e[2]-r[2],n},h.toEvaluationFeature=ga,h.transformMat3=function(n,e,r){var l=e[0],p=e[1],m=e[2];return n[0]=l*r[0]+p*r[3]+m*r[6],n[1]=l*r[1]+p*r[4]+m*r[7],n[2]=l*r[2]+p*r[5]+m*r[8],n},h.transformMat4=Za,h.transformMat4$1=function(n,e,r){var l=e[0],p=e[1];return n[0]=r[0]*l+r[4]*p+r[12],n[1]=r[1]*l+r[5]*p+r[13],n},h.translate=function(n,e,r){var l,p,m,x,b,C,A,L,B,V,q,H,st=r[0],nt=r[1],_t=r[2];return e===n?(n[12]=e[0]*st+e[4]*nt+e[8]*_t+e[12],n[13]=e[1]*st+e[5]*nt+e[9]*_t+e[13],n[14]=e[2]*st+e[6]*nt+e[10]*_t+e[14],n[15]=e[3]*st+e[7]*nt+e[11]*_t+e[15]):(p=e[1],m=e[2],x=e[3],b=e[4],C=e[5],A=e[6],L=e[7],B=e[8],V=e[9],q=e[10],H=e[11],n[0]=l=e[0],n[1]=p,n[2]=m,n[3]=x,n[4]=b,n[5]=C,n[6]=A,n[7]=L,n[8]=B,n[9]=V,n[10]=q,n[11]=H,n[12]=l*st+b*nt+B*_t+e[12],n[13]=p*st+C*nt+V*_t+e[13],n[14]=m*st+A*nt+q*_t+e[14],n[15]=x*st+L*nt+H*_t+e[15]),n},h.triggerPluginCompletionEvent=Ro,h.unicodeBlockLookup=he,h.uniqueId=function(){return Xt++},h.validateCustomStyleLayer=function(n){const e=[],r=n.id;return r===void 0&&e.push({message:`layers.${r}: missing required property "id"`}),n.render===void 0&&e.push({message:`layers.${r}: missing required method "render"`}),n.renderingMode&&n.renderingMode!=="2d"&&n.renderingMode!=="3d"&&e.push({message:`layers.${r}: property "renderingMode" must be either "2d" or "3d"`}),e},h.validateLight=ul,h.validateStyle=pa,h.vectorTile=fs,h.warnOnce=ii,h.wrap=kt}),G(["./shared"],function(h){function ut(Z){const I=typeof Z;if(I==="number"||I==="boolean"||I==="string"||Z==null)return JSON.stringify(Z);if(Array.isArray(Z)){let K="[";for(const rt of Z)K+=`${ut(rt)},`;return`${K}]`}const R=Object.keys(Z).sort();let W="{";for(let K=0;K<R.length;K++)W+=`${JSON.stringify(R[K])}:${ut(Z[R[K]])},`;return`${W}}`}function St(Z){let I="";for(const R of h.refProperties)I+=`/${ut(Z[R])}`;return I}class Bt{constructor(I){this.keyCache={},I&&this.replace(I)}replace(I){this._layerConfigs={},this._layers={},this.update(I,[])}update(I,R){for(const K of I){this._layerConfigs[K.id]=K;const rt=this._layers[K.id]=h.createStyleLayer(K);rt._featureFilter=h.createFilter(rt.filter),this.keyCache[K.id]&&delete this.keyCache[K.id]}for(const K of R)delete this.keyCache[K],delete this._layerConfigs[K],delete this._layers[K];this.familiesBySource={};const W=function(K,rt){const dt={};for(let ot=0;ot<K.length;ot++){const pt=rt&&rt[K[ot].id]||St(K[ot]);rt&&(rt[K[ot].id]=pt);let Tt=dt[pt];Tt||(Tt=dt[pt]=[]),Tt.push(K[ot])}const ct=[];for(const ot in dt)ct.push(dt[ot]);return ct}(Object.values(this._layerConfigs),this.keyCache);for(const K of W){const rt=K.map(Ot=>this._layers[Ot.id]),dt=rt[0];if(dt.visibility==="none")continue;const ct=dt.source||"";let ot=this.familiesBySource[ct];ot||(ot=this.familiesBySource[ct]={});const pt=dt.sourceLayer||"_geojsonTileLayer";let Tt=ot[pt];Tt||(Tt=ot[pt]=[]),Tt.push(rt)}}}class Lt{constructor(I){const R={},W=[];for(const ct in I){const ot=I[ct],pt=R[ct]={};for(const Tt in ot){const Ot=ot[+Tt];if(!Ot||Ot.bitmap.width===0||Ot.bitmap.height===0)continue;const Mt={x:0,y:0,w:Ot.bitmap.width+2,h:Ot.bitmap.height+2};W.push(Mt),pt[Tt]={rect:Mt,metrics:Ot.metrics}}}const{w:K,h:rt}=h.potpack(W),dt=new h.AlphaImage({width:K||1,height:rt||1});for(const ct in I){const ot=I[ct];for(const pt in ot){const Tt=ot[+pt];if(!Tt||Tt.bitmap.width===0||Tt.bitmap.height===0)continue;const Ot=R[ct][pt].rect;h.AlphaImage.copy(Tt.bitmap,dt,{x:0,y:0},{x:Ot.x+1,y:Ot.y+1},Tt.bitmap)}}this.image=dt,this.positions=R}}h.register("GlyphAtlas",Lt);class lt{constructor(I){this.tileID=new h.OverscaledTileID(I.tileID.overscaledZ,I.tileID.wrap,I.tileID.canonical.z,I.tileID.canonical.x,I.tileID.canonical.y),this.uid=I.uid,this.zoom=I.zoom,this.pixelRatio=I.pixelRatio,this.tileSize=I.tileSize,this.source=I.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=I.showCollisionBoxes,this.collectResourceTiming=!!I.collectResourceTiming,this.returnDependencies=!!I.returnDependencies,this.promoteId=I.promoteId}parse(I,R,W,K,rt){this.status="parsing",this.data=I,this.collisionBoxArray=new h.CollisionBoxArray;const dt=new h.DictionaryCoder(Object.keys(I.layers).sort()),ct=new h.FeatureIndex(this.tileID,this.promoteId);ct.bucketLayerIDs=[];const ot={},pt={featureIndex:ct,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:W},Tt=R.familiesBySource[this.source];for(const Nt in Tt){const te=I.layers[Nt];if(!te)continue;te.version===1&&h.warnOnce(`Vector tile source "${this.source}" layer "${Nt}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const yi=dt.encode(Nt),zi=[];for(let Ae=0;Ae<te.length;Ae++){const Re=te.feature(Ae),Ln=ct.getId(Re,Nt);zi.push({feature:Re,id:Ln,index:Ae,sourceLayerIndex:yi})}for(const Ae of Tt[Nt]){const Re=Ae[0];Re.source!==this.source&&h.warnOnce(`layer.source = ${Re.source} does not equal this.source = ${this.source}`),Re.minzoom&&this.zoom<Math.floor(Re.minzoom)||Re.maxzoom&&this.zoom>=Re.maxzoom||Re.visibility!=="none"&&(kt(Ae,this.zoom,W),(ot[Re.id]=Re.createBucket({index:ct.bucketLayerIDs.length,layers:Ae,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:yi,sourceID:this.source})).populate(zi,pt,this.tileID.canonical),ct.bucketLayerIDs.push(Ae.map(Ln=>Ln.id)))}}let Ot,Mt,Ee,Ie;const ue=h.mapObject(pt.glyphDependencies,Nt=>Object.keys(Nt).map(Number));Object.keys(ue).length?K.send("getGlyphs",{uid:this.uid,stacks:ue},(Nt,te)=>{Ot||(Ot=Nt,Mt=te,Ti.call(this))}):Mt={};const U=Object.keys(pt.iconDependencies);U.length?K.send("getImages",{icons:U,source:this.source,tileID:this.tileID,type:"icons"},(Nt,te)=>{Ot||(Ot=Nt,Ee=te,Ti.call(this))}):Ee={};const Ze=Object.keys(pt.patternDependencies);function Ti(){if(Ot)return rt(Ot);if(Mt&&Ee&&Ie){const Nt=new Lt(Mt),te=new h.ImageAtlas(Ee,Ie);for(const yi in ot){const zi=ot[yi];zi instanceof h.SymbolBucket?(kt(zi.layers,this.zoom,W),h.performSymbolLayout({bucket:zi,glyphMap:Mt,glyphPositions:Nt.positions,imageMap:Ee,imagePositions:te.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):zi.hasPattern&&(zi instanceof h.LineBucket||zi instanceof h.FillBucket||zi instanceof h.FillExtrusionBucket)&&(kt(zi.layers,this.zoom,W),zi.addFeatures(pt,this.tileID.canonical,te.patternPositions))}this.status="done",rt(null,{buckets:Object.values(ot).filter(yi=>!yi.isEmpty()),featureIndex:ct,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Nt.image,imageAtlas:te,glyphMap:this.returnDependencies?Mt:null,iconMap:this.returnDependencies?Ee:null,glyphPositions:this.returnDependencies?Nt.positions:null})}}Ze.length?K.send("getImages",{icons:Ze,source:this.source,tileID:this.tileID,type:"patterns"},(Nt,te)=>{Ot||(Ot=Nt,Ie=te,Ti.call(this))}):Ie={},Ti.call(this)}}function kt(Z,I,R){const W=new h.EvaluationParameters(I);for(const K of Z)K.recalculate(W,R)}function Te(Z,I){const R=h.getArrayBuffer(Z.request,(W,K,rt,dt)=>{W?I(W):K&&I(null,{vectorTile:new h.vectorTile.VectorTile(new h.pbf(K)),rawData:K,cacheControl:rt,expires:dt})});return()=>{R.cancel(),I()}}class Xt{constructor(I,R,W,K){this.actor=I,this.layerIndex=R,this.availableImages=W,this.loadVectorData=K||Te,this.loading={},this.loaded={}}loadTile(I,R){const W=I.uid;this.loading||(this.loading={});const K=!!(I&&I.request&&I.request.collectResourceTiming)&&new h.RequestPerformance(I.request),rt=this.loading[W]=new lt(I);rt.abort=this.loadVectorData(I,(dt,ct)=>{if(delete this.loading[W],dt||!ct)return rt.status="done",this.loaded[W]=rt,R(dt);const ot=ct.rawData,pt={};ct.expires&&(pt.expires=ct.expires),ct.cacheControl&&(pt.cacheControl=ct.cacheControl);const Tt={};if(K){const Ot=K.finish();Ot&&(Tt.resourceTiming=JSON.parse(JSON.stringify(Ot)))}rt.vectorTile=ct.vectorTile,rt.parse(ct.vectorTile,this.layerIndex,this.availableImages,this.actor,(Ot,Mt)=>{if(Ot||!Mt)return R(Ot);R(null,h.extend({rawTileData:ot.slice(0)},Mt,pt,Tt))}),this.loaded=this.loaded||{},this.loaded[W]=rt})}reloadTile(I,R){const W=this.loaded,K=I.uid,rt=this;if(W&&W[K]){const dt=W[K];dt.showCollisionBoxes=I.showCollisionBoxes;const ct=(ot,pt)=>{const Tt=dt.reloadCallback;Tt&&(delete dt.reloadCallback,dt.parse(dt.vectorTile,rt.layerIndex,this.availableImages,rt.actor,Tt)),R(ot,pt)};dt.status==="parsing"?dt.reloadCallback=ct:dt.status==="done"&&(dt.vectorTile?dt.parse(dt.vectorTile,this.layerIndex,this.availableImages,this.actor,ct):ct())}}abortTile(I,R){const W=this.loading,K=I.uid;W&&W[K]&&W[K].abort&&(W[K].abort(),delete W[K]),R()}removeTile(I,R){const W=this.loaded,K=I.uid;W&&W[K]&&delete W[K],R()}}class Pi{constructor(){this.loaded={}}loadTile(I,R){const{uid:W,encoding:K,rawImageData:rt}=I,dt=h.isImageBitmap(rt)?this.getImageData(rt):rt,ct=new h.DEMData(W,dt,K);this.loaded=this.loaded||{},this.loaded[W]=ct,R(null,ct)}getImageData(I){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(I.width,I.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=I.width,this.offscreenCanvas.height=I.height,this.offscreenCanvasContext.drawImage(I,0,0,I.width,I.height);const R=this.offscreenCanvasContext.getImageData(-1,-1,I.width+2,I.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new h.RGBAImage({width:R.width,height:R.height},R.data)}removeTile(I){const R=this.loaded,W=I.uid;R&&R[W]&&delete R[W]}}var Ye=function Z(I,R){var W,K=I&&I.type;if(K==="FeatureCollection")for(W=0;W<I.features.length;W++)Z(I.features[W],R);else if(K==="GeometryCollection")for(W=0;W<I.geometries.length;W++)Z(I.geometries[W],R);else if(K==="Feature")Z(I.geometry,R);else if(K==="Polygon")li(I.coordinates,R);else if(K==="MultiPolygon")for(W=0;W<I.coordinates.length;W++)li(I.coordinates[W],R);return I};function li(Z,I){if(Z.length!==0){Ce(Z[0],I);for(var R=1;R<Z.length;R++)Ce(Z[R],!I)}}function Ce(Z,I){for(var R=0,W=0,K=0,rt=Z.length,dt=rt-1;K<rt;dt=K++){var ct=(Z[K][0]-Z[dt][0])*(Z[dt][1]+Z[K][1]),ot=R+ct;W+=Math.abs(R)>=Math.abs(ct)?R-ot+ct:ct-ot+R,R=ot}R+W>=0!=!!I&&Z.reverse()}const ti=h.vectorTile.VectorTileFeature.prototype.toGeoJSON;class ii{constructor(I){this._feature=I,this.extent=h.EXTENT,this.type=I.type,this.properties=I.tags,"id"in I&&!isNaN(I.id)&&(this.id=parseInt(I.id,10))}loadGeometry(){if(this._feature.type===1){const I=[];for(const R of this._feature.geometry)I.push([new h.pointGeometry(R[0],R[1])]);return I}{const I=[];for(const R of this._feature.geometry){const W=[];for(const K of R)W.push(new h.pointGeometry(K[0],K[1]));I.push(W)}return I}}toGeoJSON(I,R,W){return ti.call(this,I,R,W)}}class dn{constructor(I){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=h.EXTENT,this.length=I.length,this._features=I}feature(I){return new ii(this._features[I])}}var wn={exports:{}},Ne=h.pointGeometry,Xi=h.vectorTile.VectorTileFeature,xi=Me;function Me(Z,I){this.options=I||{},this.features=Z,this.length=Z.length}function Ui(Z,I){this.id=typeof Z.id=="number"?Z.id:void 0,this.type=Z.type,this.rawGeometry=Z.type===1?[Z.geometry]:Z.geometry,this.properties=Z.tags,this.extent=I||4096}Me.prototype.feature=function(Z){return new Ui(this.features[Z],this.options.extent)},Ui.prototype.loadGeometry=function(){var Z=this.rawGeometry;this.geometry=[];for(var I=0;I<Z.length;I++){for(var R=Z[I],W=[],K=0;K<R.length;K++)W.push(new Ne(R[K][0],R[K][1]));this.geometry.push(W)}return this.geometry},Ui.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Z=this.geometry,I=1/0,R=-1/0,W=1/0,K=-1/0,rt=0;rt<Z.length;rt++)for(var dt=Z[rt],ct=0;ct<dt.length;ct++){var ot=dt[ct];I=Math.min(I,ot.x),R=Math.max(R,ot.x),W=Math.min(W,ot.y),K=Math.max(K,ot.y)}return[I,W,R,K]},Ui.prototype.toGeoJSON=Xi.prototype.toGeoJSON;var Hi=h.pbf,gn=xi;function oi(Z){var I=new Hi;return function(R,W){for(var K in R.layers)W.writeMessage(3,ve,R.layers[K])}(Z,I),I.finish()}function ve(Z,I){var R;I.writeVarintField(15,Z.version||1),I.writeStringField(1,Z.name||""),I.writeVarintField(5,Z.extent||4096);var W={keys:[],values:[],keycache:{},valuecache:{}};for(R=0;R<Z.length;R++)W.feature=Z.feature(R),I.writeMessage(2,ri,W);var K=W.keys;for(R=0;R<K.length;R++)I.writeStringField(3,K[R]);var rt=W.values;for(R=0;R<rt.length;R++)I.writeMessage(4,Qi,rt[R])}function ri(Z,I){var R=Z.feature;R.id!==void 0&&I.writeVarintField(1,R.id),I.writeMessage(2,Ht,Z),I.writeVarintField(3,R.type),I.writeMessage(4,Ji,R)}function Ht(Z,I){var R=Z.feature,W=Z.keys,K=Z.values,rt=Z.keycache,dt=Z.valuecache;for(var ct in R.properties){var ot=R.properties[ct],pt=rt[ct];if(ot!==null){pt===void 0&&(W.push(ct),rt[ct]=pt=W.length-1),I.writeVarint(pt);var Tt=typeof ot;Tt!=="string"&&Tt!=="boolean"&&Tt!=="number"&&(ot=JSON.stringify(ot));var Ot=Tt+":"+ot,Mt=dt[Ot];Mt===void 0&&(K.push(ot),dt[Ot]=Mt=K.length-1),I.writeVarint(Mt)}}}function je(Z,I){return(I<<3)+(7&Z)}function ne(Z){return Z<<1^Z>>31}function Ji(Z,I){for(var R=Z.loadGeometry(),W=Z.type,K=0,rt=0,dt=R.length,ct=0;ct<dt;ct++){var ot=R[ct],pt=1;W===1&&(pt=ot.length),I.writeVarint(je(1,pt));for(var Tt=W===3?ot.length-1:ot.length,Ot=0;Ot<Tt;Ot++){Ot===1&&W!==1&&I.writeVarint(je(2,Tt-1));var Mt=ot[Ot].x-K,Ee=ot[Ot].y-rt;I.writeVarint(ne(Mt)),I.writeVarint(ne(Ee)),K+=Mt,rt+=Ee}W===3&&I.writeVarint(je(7,1))}}function Qi(Z,I){var R=typeof Z;R==="string"?I.writeStringField(1,Z):R==="boolean"?I.writeBooleanField(7,Z):R==="number"&&(Z%1!=0?I.writeDoubleField(3,Z):Z<0?I.writeSVarintField(6,Z):I.writeVarintField(5,Z))}function ys(Z,I,R,W,K,rt){if(K-W<=R)return;const dt=W+K>>1;zn(Z,I,dt,W,K,rt%2),ys(Z,I,R,W,dt-1,rt+1),ys(Z,I,R,dt+1,K,rt+1)}function zn(Z,I,R,W,K,rt){for(;K>W;){if(K-W>600){const pt=K-W+1,Tt=R-W+1,Ot=Math.log(pt),Mt=.5*Math.exp(2*Ot/3),Ee=.5*Math.sqrt(Ot*Mt*(pt-Mt)/pt)*(Tt-pt/2<0?-1:1);zn(Z,I,R,Math.max(W,Math.floor(R-Tt*Mt/pt+Ee)),Math.min(K,Math.floor(R+(pt-Tt)*Mt/pt+Ee)),rt)}const dt=I[2*R+rt];let ct=W,ot=K;for(Gi(Z,I,W,R),I[2*K+rt]>dt&&Gi(Z,I,W,K);ct<ot;){for(Gi(Z,I,ct,ot),ct++,ot--;I[2*ct+rt]<dt;)ct++;for(;I[2*ot+rt]>dt;)ot--}I[2*W+rt]===dt?Gi(Z,I,W,ot):(ot++,Gi(Z,I,ot,K)),ot<=R&&(W=ot+1),R<=ot&&(K=ot-1)}}function Gi(Z,I,R,W){hn(Z,R,W),hn(I,2*R,2*W),hn(I,2*R+1,2*W+1)}function hn(Z,I,R){const W=Z[I];Z[I]=Z[R],Z[R]=W}function tn(Z,I,R,W){const K=Z-R,rt=I-W;return K*K+rt*rt}wn.exports=oi,wn.exports.fromVectorTileJs=oi,wn.exports.fromGeojsonVt=function(Z,I){I=I||{};var R={};for(var W in Z)R[W]=new gn(Z[W].features,I),R[W].name=W,R[W].version=I.version,R[W].extent=I.extent;return oi({layers:R})},wn.exports.GeoJSONWrapper=gn;const _s=Z=>Z[0],Qe=Z=>Z[1];class $e{constructor(I,R=_s,W=Qe,K=64,rt=Float64Array){this.nodeSize=K,this.points=I;const dt=I.length<65536?Uint16Array:Uint32Array,ct=this.ids=new dt(I.length),ot=this.coords=new rt(2*I.length);for(let pt=0;pt<I.length;pt++)ct[pt]=pt,ot[2*pt]=R(I[pt]),ot[2*pt+1]=W(I[pt]);ys(ct,ot,K,0,ct.length-1,0)}range(I,R,W,K){return function(rt,dt,ct,ot,pt,Tt,Ot){const Mt=[0,rt.length-1,0],Ee=[];let Ie,ue;for(;Mt.length;){const U=Mt.pop(),Ze=Mt.pop(),Ti=Mt.pop();if(Ze-Ti<=Ot){for(let yi=Ti;yi<=Ze;yi++)Ie=dt[2*yi],ue=dt[2*yi+1],Ie>=ct&&Ie<=pt&&ue>=ot&&ue<=Tt&&Ee.push(rt[yi]);continue}const Nt=Math.floor((Ti+Ze)/2);Ie=dt[2*Nt],ue=dt[2*Nt+1],Ie>=ct&&Ie<=pt&&ue>=ot&&ue<=Tt&&Ee.push(rt[Nt]);const te=(U+1)%2;(U===0?ct<=Ie:ot<=ue)&&(Mt.push(Ti),Mt.push(Nt-1),Mt.push(te)),(U===0?pt>=Ie:Tt>=ue)&&(Mt.push(Nt+1),Mt.push(Ze),Mt.push(te))}return Ee}(this.ids,this.coords,I,R,W,K,this.nodeSize)}within(I,R,W){return function(K,rt,dt,ct,ot,pt){const Tt=[0,K.length-1,0],Ot=[],Mt=ot*ot;for(;Tt.length;){const Ee=Tt.pop(),Ie=Tt.pop(),ue=Tt.pop();if(Ie-ue<=pt){for(let te=ue;te<=Ie;te++)tn(rt[2*te],rt[2*te+1],dt,ct)<=Mt&&Ot.push(K[te]);continue}const U=Math.floor((ue+Ie)/2),Ze=rt[2*U],Ti=rt[2*U+1];tn(Ze,Ti,dt,ct)<=Mt&&Ot.push(K[U]);const Nt=(Ee+1)%2;(Ee===0?dt-ot<=Ze:ct-ot<=Ti)&&(Tt.push(ue),Tt.push(U-1),Tt.push(Nt)),(Ee===0?dt+ot>=Ze:ct+ot>=Ti)&&(Tt.push(U+1),Tt.push(Ie),Tt.push(Nt))}return Ot}(this.ids,this.coords,I,R,W,this.nodeSize)}}const xs={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Z=>Z},at=Math.fround||(ft=new Float32Array(1),Z=>(ft[0]=+Z,ft[0]));var ft;class Rt{constructor(I){this.options=Se(Object.create(xs),I),this.trees=new Array(this.options.maxZoom+1)}load(I){const{log:R,minZoom:W,maxZoom:K,nodeSize:rt}=this.options;R&&console.time("total time");const dt=`prepare ${I.length} points`;R&&console.time(dt),this.points=I;let ct=[];for(let ot=0;ot<I.length;ot++)I[ot].geometry&&ct.push(qt(I[ot],ot));this.trees[K+1]=new $e(ct,ie,Be,rt,Float32Array),R&&console.timeEnd(dt);for(let ot=K;ot>=W;ot--){const pt=+Date.now();ct=this._cluster(ct,ot),this.trees[ot]=new $e(ct,ie,Be,rt,Float32Array),R&&console.log("z%d: %d clusters in %dms",ot,ct.length,+Date.now()-pt)}return R&&console.timeEnd("total time"),this}getClusters(I,R){let W=((I[0]+180)%360+360)%360-180;const K=Math.max(-90,Math.min(90,I[1]));let rt=I[2]===180?180:((I[2]+180)%360+360)%360-180;const dt=Math.max(-90,Math.min(90,I[3]));if(I[2]-I[0]>=360)W=-180,rt=180;else if(W>rt){const Tt=this.getClusters([W,K,180,dt],R),Ot=this.getClusters([-180,K,rt,dt],R);return Tt.concat(Ot)}const ct=this.trees[this._limitZoom(R)],ot=ct.range(Ft(W),bt(dt),Ft(rt),bt(K)),pt=[];for(const Tt of ot){const Ot=ct.points[Tt];pt.push(Ot.numPoints?Yt(Ot):this.points[Ot.index])}return pt}getChildren(I){const R=this._getOriginId(I),W=this._getOriginZoom(I),K="No cluster with the specified id.",rt=this.trees[W];if(!rt)throw new Error(K);const dt=rt.points[R];if(!dt)throw new Error(K);const ct=this.options.radius/(this.options.extent*Math.pow(2,W-1)),ot=rt.within(dt.x,dt.y,ct),pt=[];for(const Tt of ot){const Ot=rt.points[Tt];Ot.parentId===I&&pt.push(Ot.numPoints?Yt(Ot):this.points[Ot.index])}if(pt.length===0)throw new Error(K);return pt}getLeaves(I,R,W){const K=[];return this._appendLeaves(K,I,R=R||10,W=W||0,0),K}getTile(I,R,W){const K=this.trees[this._limitZoom(I)],rt=Math.pow(2,I),{extent:dt,radius:ct}=this.options,ot=ct/dt,pt=(W-ot)/rt,Tt=(W+1+ot)/rt,Ot={features:[]};return this._addTileFeatures(K.range((R-ot)/rt,pt,(R+1+ot)/rt,Tt),K.points,R,W,rt,Ot),R===0&&this._addTileFeatures(K.range(1-ot/rt,pt,1,Tt),K.points,rt,W,rt,Ot),R===rt-1&&this._addTileFeatures(K.range(0,pt,ot/rt,Tt),K.points,-1,W,rt,Ot),Ot.features.length?Ot:null}getClusterExpansionZoom(I){let R=this._getOriginZoom(I)-1;for(;R<=this.options.maxZoom;){const W=this.getChildren(I);if(R++,W.length!==1)break;I=W[0].properties.cluster_id}return R}_appendLeaves(I,R,W,K,rt){const dt=this.getChildren(R);for(const ct of dt){const ot=ct.properties;if(ot&&ot.cluster?rt+ot.point_count<=K?rt+=ot.point_count:rt=this._appendLeaves(I,ot.cluster_id,W,K,rt):rt<K?rt++:I.push(ct),I.length===W)break}return rt}_addTileFeatures(I,R,W,K,rt,dt){for(const ct of I){const ot=R[ct],pt=ot.numPoints;let Tt,Ot,Mt;if(pt)Tt=Qt(ot),Ot=ot.x,Mt=ot.y;else{const ue=this.points[ot.index];Tt=ue.properties,Ot=Ft(ue.geometry.coordinates[0]),Mt=bt(ue.geometry.coordinates[1])}const Ee={type:1,geometry:[[Math.round(this.options.extent*(Ot*rt-W)),Math.round(this.options.extent*(Mt*rt-K))]],tags:Tt};let Ie;pt?Ie=ot.id:this.options.generateId?Ie=ot.index:this.points[ot.index].id&&(Ie=this.points[ot.index].id),Ie!==void 0&&(Ee.id=Ie),dt.features.push(Ee)}}_limitZoom(I){return Math.max(this.options.minZoom,Math.min(Math.floor(+I),this.options.maxZoom+1))}_cluster(I,R){const W=[],{radius:K,extent:rt,reduce:dt,minPoints:ct}=this.options,ot=K/(rt*Math.pow(2,R));for(let pt=0;pt<I.length;pt++){const Tt=I[pt];if(Tt.zoom<=R)continue;Tt.zoom=R;const Ot=this.trees[R+1],Mt=Ot.within(Tt.x,Tt.y,ot),Ee=Tt.numPoints||1;let Ie=Ee;for(const ue of Mt){const U=Ot.points[ue];U.zoom>R&&(Ie+=U.numPoints||1)}if(Ie>Ee&&Ie>=ct){let ue=Tt.x*Ee,U=Tt.y*Ee,Ze=dt&&Ee>1?this._map(Tt,!0):null;const Ti=(pt<<5)+(R+1)+this.points.length;for(const Nt of Mt){const te=Ot.points[Nt];if(te.zoom<=R)continue;te.zoom=R;const yi=te.numPoints||1;ue+=te.x*yi,U+=te.y*yi,te.parentId=Ti,dt&&(Ze||(Ze=this._map(Tt,!0)),dt(Ze,this._map(te)))}Tt.parentId=Ti,W.push(Gt(ue/Ie,U/Ie,Ti,Ie,Ze))}else if(W.push(Tt),Ie>1)for(const ue of Mt){const U=Ot.points[ue];U.zoom<=R||(U.zoom=R,W.push(U))}}return W}_getOriginId(I){return I-this.points.length>>5}_getOriginZoom(I){return(I-this.points.length)%32}_map(I,R){if(I.numPoints)return R?Se({},I.properties):I.properties;const W=this.points[I.index].properties,K=this.options.map(W);return R&&K===W?Se({},K):K}}function Gt(Z,I,R,W,K){return{x:at(Z),y:at(I),zoom:1/0,id:R,parentId:-1,numPoints:W,properties:K}}function qt(Z,I){const[R,W]=Z.geometry.coordinates;return{x:at(Ft(R)),y:at(bt(W)),zoom:1/0,index:I,parentId:-1}}function Yt(Z){return{type:"Feature",id:Z.id,properties:Qt(Z),geometry:{type:"Point",coordinates:[(I=Z.x,360*(I-.5)),jt(Z.y)]}};var I}function Qt(Z){const I=Z.numPoints,R=I>=1e4?`${Math.round(I/1e3)}k`:I>=1e3?Math.round(I/100)/10+"k":I;return Se(Se({},Z.properties),{cluster:!0,cluster_id:Z.id,point_count:I,point_count_abbreviated:R})}function Ft(Z){return Z/360+.5}function bt(Z){const I=Math.sin(Z*Math.PI/180),R=.5-.25*Math.log((1+I)/(1-I))/Math.PI;return R<0?0:R>1?1:R}function jt(Z){const I=(180-360*Z)*Math.PI/180;return 360*Math.atan(Math.exp(I))/Math.PI-90}function Se(Z,I){for(const R in I)Z[R]=I[R];return Z}function ie(Z){return Z.x}function Be(Z){return Z.y}function Ve(Z,I,R,W){for(var K,rt=W,dt=R-I>>1,ct=R-I,ot=Z[I],pt=Z[I+1],Tt=Z[R],Ot=Z[R+1],Mt=I+3;Mt<R;Mt+=3){var Ee=pe(Z[Mt],Z[Mt+1],ot,pt,Tt,Ot);if(Ee>rt)K=Mt,rt=Ee;else if(Ee===rt){var Ie=Math.abs(Mt-dt);Ie<ct&&(K=Mt,ct=Ie)}}rt>W&&(K-I>3&&Ve(Z,I,K,W),Z[K+2]=rt,R-K>3&&Ve(Z,K,R,W))}function pe(Z,I,R,W,K,rt){var dt=K-R,ct=rt-W;if(dt!==0||ct!==0){var ot=((Z-R)*dt+(I-W)*ct)/(dt*dt+ct*ct);ot>1?(R=K,W=rt):ot>0&&(R+=dt*ot,W+=ct*ot)}return(dt=Z-R)*dt+(ct=I-W)*ct}function ci(Z,I,R,W){var K={id:Z===void 0?null:Z,type:I,geometry:R,tags:W,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(rt){var dt=rt.geometry,ct=rt.type;if(ct==="Point"||ct==="MultiPoint"||ct==="LineString")vt(rt,dt);else if(ct==="Polygon"||ct==="MultiLineString")for(var ot=0;ot<dt.length;ot++)vt(rt,dt[ot]);else if(ct==="MultiPolygon")for(ot=0;ot<dt.length;ot++)for(var pt=0;pt<dt[ot].length;pt++)vt(rt,dt[ot][pt])}(K),K}function vt(Z,I){for(var R=0;R<I.length;R+=3)Z.minX=Math.min(Z.minX,I[R]),Z.minY=Math.min(Z.minY,I[R+1]),Z.maxX=Math.max(Z.maxX,I[R]),Z.maxY=Math.max(Z.maxY,I[R+1])}function Zt(Z,I,R,W){if(I.geometry){var K=I.geometry.coordinates,rt=I.geometry.type,dt=Math.pow(R.tolerance/((1<<R.maxZoom)*R.extent),2),ct=[],ot=I.id;if(R.promoteId?ot=I.properties[R.promoteId]:R.generateId&&(ot=W||0),rt==="Point")en(K,ct);else if(rt==="MultiPoint")for(var pt=0;pt<K.length;pt++)en(K[pt],ct);else if(rt==="LineString")we(K,ct,dt,!1);else if(rt==="MultiLineString"){if(R.lineMetrics){for(pt=0;pt<K.length;pt++)we(K[pt],ct=[],dt,!1),Z.push(ci(ot,"LineString",ct,I.properties));return}ai(K,ct,dt,!1)}else if(rt==="Polygon")ai(K,ct,dt,!0);else{if(rt!=="MultiPolygon"){if(rt==="GeometryCollection"){for(pt=0;pt<I.geometry.geometries.length;pt++)Zt(Z,{id:ot,geometry:I.geometry.geometries[pt],properties:I.properties},R,W);return}throw new Error("Input data is not a valid GeoJSON object.")}for(pt=0;pt<K.length;pt++){var Tt=[];ai(K[pt],Tt,dt,!0),ct.push(Tt)}}Z.push(ci(ot,rt,ct,I.properties))}}function en(Z,I){I.push(Oe(Z[0])),I.push(fi(Z[1])),I.push(0)}function we(Z,I,R,W){for(var K,rt,dt=0,ct=0;ct<Z.length;ct++){var ot=Oe(Z[ct][0]),pt=fi(Z[ct][1]);I.push(ot),I.push(pt),I.push(0),ct>0&&(dt+=W?(K*pt-ot*rt)/2:Math.sqrt(Math.pow(ot-K,2)+Math.pow(pt-rt,2))),K=ot,rt=pt}var Tt=I.length-3;I[2]=1,Ve(I,0,Tt,R),I[Tt+2]=1,I.size=Math.abs(dt),I.start=0,I.end=I.size}function ai(Z,I,R,W){for(var K=0;K<Z.length;K++){var rt=[];we(Z[K],rt,R,W),I.push(rt)}}function Oe(Z){return Z/360+.5}function fi(Z){var I=Math.sin(Z*Math.PI/180),R=.5-.25*Math.log((1+I)/(1-I))/Math.PI;return R<0?0:R>1?1:R}function oe(Z,I,R,W,K,rt,dt,ct){if(W/=I,rt>=(R/=I)&&dt<W)return Z;if(dt<R||rt>=W)return null;for(var ot=[],pt=0;pt<Z.length;pt++){var Tt=Z[pt],Ot=Tt.geometry,Mt=Tt.type,Ee=K===0?Tt.minX:Tt.minY,Ie=K===0?Tt.maxX:Tt.maxY;if(Ee>=R&&Ie<W)ot.push(Tt);else if(!(Ie<R||Ee>=W)){var ue=[];if(Mt==="Point"||Mt==="MultiPoint")Zi(Ot,ue,R,W,K);else if(Mt==="LineString")Pt(Ot,ue,R,W,K,!1,ct.lineMetrics);else if(Mt==="MultiLineString")Pe(Ot,ue,R,W,K,!1);else if(Mt==="Polygon")Pe(Ot,ue,R,W,K,!0);else if(Mt==="MultiPolygon")for(var U=0;U<Ot.length;U++){var Ze=[];Pe(Ot[U],Ze,R,W,K,!0),Ze.length&&ue.push(Ze)}if(ue.length){if(ct.lineMetrics&&Mt==="LineString"){for(U=0;U<ue.length;U++)ot.push(ci(Tt.id,Mt,ue[U],Tt.tags));continue}Mt!=="LineString"&&Mt!=="MultiLineString"||(ue.length===1?(Mt="LineString",ue=ue[0]):Mt="MultiLineString"),Mt!=="Point"&&Mt!=="MultiPoint"||(Mt=ue.length===3?"Point":"MultiPoint"),ot.push(ci(Tt.id,Mt,ue,Tt.tags))}}}return ot.length?ot:null}function Zi(Z,I,R,W,K){for(var rt=0;rt<Z.length;rt+=3){var dt=Z[rt+K];dt>=R&&dt<=W&&(I.push(Z[rt]),I.push(Z[rt+1]),I.push(Z[rt+2]))}}function Pt(Z,I,R,W,K,rt,dt){for(var ct,ot,pt=Xe(Z),Tt=K===0?Ss:qe,Ot=Z.start,Mt=0;Mt<Z.length-3;Mt+=3){var Ee=Z[Mt],Ie=Z[Mt+1],ue=Z[Mt+2],U=Z[Mt+3],Ze=Z[Mt+4],Ti=K===0?Ee:Ie,Nt=K===0?U:Ze,te=!1;dt&&(ct=Math.sqrt(Math.pow(Ee-U,2)+Math.pow(Ie-Ze,2))),Ti<R?Nt>R&&(ot=Tt(pt,Ee,Ie,U,Ze,R),dt&&(pt.start=Ot+ct*ot)):Ti>W?Nt<W&&(ot=Tt(pt,Ee,Ie,U,Ze,W),dt&&(pt.start=Ot+ct*ot)):nn(pt,Ee,Ie,ue),Nt<R&&Ti>=R&&(ot=Tt(pt,Ee,Ie,U,Ze,R),te=!0),Nt>W&&Ti<=W&&(ot=Tt(pt,Ee,Ie,U,Ze,W),te=!0),!rt&&te&&(dt&&(pt.end=Ot+ct*ot),I.push(pt),pt=Xe(Z)),dt&&(Ot+=ct)}var yi=Z.length-3;Ee=Z[yi],Ie=Z[yi+1],ue=Z[yi+2],(Ti=K===0?Ee:Ie)>=R&&Ti<=W&&nn(pt,Ee,Ie,ue),yi=pt.length-3,rt&&yi>=3&&(pt[yi]!==pt[0]||pt[yi+1]!==pt[1])&&nn(pt,pt[0],pt[1],pt[2]),pt.length&&I.push(pt)}function Xe(Z){var I=[];return I.size=Z.size,I.start=Z.start,I.end=Z.end,I}function Pe(Z,I,R,W,K,rt){for(var dt=0;dt<Z.length;dt++)Pt(Z[dt],I,R,W,K,rt,!1)}function nn(Z,I,R,W){Z.push(I),Z.push(R),Z.push(W)}function Ss(Z,I,R,W,K,rt){var dt=(rt-I)/(W-I);return Z.push(rt),Z.push(R+(K-R)*dt),Z.push(1),dt}function qe(Z,I,R,W,K,rt){var dt=(rt-R)/(K-R);return Z.push(I+(W-I)*dt),Z.push(rt),Z.push(1),dt}function pr(Z,I){for(var R=[],W=0;W<Z.length;W++){var K,rt=Z[W],dt=rt.type;if(dt==="Point"||dt==="MultiPoint"||dt==="LineString")K=Tn(rt.geometry,I);else if(dt==="MultiLineString"||dt==="Polygon"){K=[];for(var ct=0;ct<rt.geometry.length;ct++)K.push(Tn(rt.geometry[ct],I))}else if(dt==="MultiPolygon")for(K=[],ct=0;ct<rt.geometry.length;ct++){for(var ot=[],pt=0;pt<rt.geometry[ct].length;pt++)ot.push(Tn(rt.geometry[ct][pt],I));K.push(ot)}R.push(ci(rt.id,dt,K,rt.tags))}return R}function Tn(Z,I){var R=[];R.size=Z.size,Z.start!==void 0&&(R.start=Z.start,R.end=Z.end);for(var W=0;W<Z.length;W+=3)R.push(Z[W]+I,Z[W+1],Z[W+2]);return R}function Pr(Z,I){if(Z.transformed)return Z;var R,W,K,rt=1<<Z.z,dt=Z.x,ct=Z.y;for(R=0;R<Z.features.length;R++){var ot=Z.features[R],pt=ot.geometry,Tt=ot.type;if(ot.geometry=[],Tt===1)for(W=0;W<pt.length;W+=2)ot.geometry.push(Cn(pt[W],pt[W+1],I,rt,dt,ct));else for(W=0;W<pt.length;W++){var Ot=[];for(K=0;K<pt[W].length;K+=2)Ot.push(Cn(pt[W][K],pt[W][K+1],I,rt,dt,ct));ot.geometry.push(Ot)}}return Z.transformed=!0,Z}function Cn(Z,I,R,W,K,rt){return[Math.round(R*(Z*W-K)),Math.round(R*(I*W-rt))]}function Qn(Z,I,R,W,K){for(var rt=I===K.maxZoom?0:K.tolerance/((1<<I)*K.extent),dt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:R,y:W,z:I,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},ct=0;ct<Z.length;ct++){dt.numFeatures++,Ri(dt,Z[ct],rt,K);var ot=Z[ct].minX,pt=Z[ct].minY,Tt=Z[ct].maxX,Ot=Z[ct].maxY;ot<dt.minX&&(dt.minX=ot),pt<dt.minY&&(dt.minY=pt),Tt>dt.maxX&&(dt.maxX=Tt),Ot>dt.maxY&&(dt.maxY=Ot)}return dt}function Ri(Z,I,R,W){var K=I.geometry,rt=I.type,dt=[];if(rt==="Point"||rt==="MultiPoint")for(var ct=0;ct<K.length;ct+=3)dt.push(K[ct]),dt.push(K[ct+1]),Z.numPoints++,Z.numSimplified++;else if(rt==="LineString")Ao(dt,K,Z,R,!1,!1);else if(rt==="MultiLineString"||rt==="Polygon")for(ct=0;ct<K.length;ct++)Ao(dt,K[ct],Z,R,rt==="Polygon",ct===0);else if(rt==="MultiPolygon")for(var ot=0;ot<K.length;ot++){var pt=K[ot];for(ct=0;ct<pt.length;ct++)Ao(dt,pt[ct],Z,R,!0,ct===0)}if(dt.length){var Tt=I.tags||null;if(rt==="LineString"&&W.lineMetrics){for(var Ot in Tt={},I.tags)Tt[Ot]=I.tags[Ot];Tt.mapbox_clip_start=K.start/K.size,Tt.mapbox_clip_end=K.end/K.size}var Mt={geometry:dt,type:rt==="Polygon"||rt==="MultiPolygon"?3:rt==="LineString"||rt==="MultiLineString"?2:1,tags:Tt};I.id!==null&&(Mt.id=I.id),Z.features.push(Mt)}}function Ao(Z,I,R,W,K,rt){var dt=W*W;if(W>0&&I.size<(K?dt:W))R.numPoints+=I.length/3;else{for(var ct=[],ot=0;ot<I.length;ot+=3)(W===0||I[ot+2]>dt)&&(R.numSimplified++,ct.push(I[ot]),ct.push(I[ot+1])),R.numPoints++;K&&function(pt,Tt){for(var Ot=0,Mt=0,Ee=pt.length,Ie=Ee-2;Mt<Ee;Ie=Mt,Mt+=2)Ot+=(pt[Mt]-pt[Ie])*(pt[Mt+1]+pt[Ie+1]);if(Ot>0===Tt)for(Mt=0,Ee=pt.length;Mt<Ee/2;Mt+=2){var ue=pt[Mt],U=pt[Mt+1];pt[Mt]=pt[Ee-2-Mt],pt[Mt+1]=pt[Ee-1-Mt],pt[Ee-2-Mt]=ue,pt[Ee-1-Mt]=U}}(ct,rt),Z.push(ct)}}function tr(Z,I){var R=(I=this.options=function(K,rt){for(var dt in rt)K[dt]=rt[dt];return K}(Object.create(this.options),I)).debug;if(R&&console.time("preprocess data"),I.maxZoom<0||I.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(I.promoteId&&I.generateId)throw new Error("promoteId and generateId cannot be used together.");var W=function(K,rt){var dt=[];if(K.type==="FeatureCollection")for(var ct=0;ct<K.features.length;ct++)Zt(dt,K.features[ct],rt,ct);else Zt(dt,K.type==="Feature"?K:{geometry:K},rt);return dt}(Z,I);this.tiles={},this.tileCoords=[],R&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",I.indexMaxZoom,I.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),W=function(K,rt){var dt=rt.buffer/rt.extent,ct=K,ot=oe(K,1,-1-dt,dt,0,-1,2,rt),pt=oe(K,1,1-dt,2+dt,0,-1,2,rt);return(ot||pt)&&(ct=oe(K,1,-dt,1+dt,0,-1,2,rt)||[],ot&&(ct=pr(ot,1).concat(ct)),pt&&(ct=ct.concat(pr(pt,-1)))),ct}(W,I),W.length&&this.splitTile(W,0,0,0),R&&(W.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Kr(Z,I,R){return 32*((1<<Z)*R+I)+Z}function Us(Z,I){const R=Z.tileID.canonical;if(!this._geoJSONIndex)return I(null,null);const W=this._geoJSONIndex.getTile(R.z,R.x,R.y);if(!W)return I(null,null);const K=new dn(W.features);let rt=wn.exports(K);rt.byteOffset===0&&rt.byteLength===rt.buffer.byteLength||(rt=new Uint8Array(rt)),I(null,{vectorTile:K,rawData:rt.buffer})}tr.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},tr.prototype.splitTile=function(Z,I,R,W,K,rt,dt){for(var ct=[Z,I,R,W],ot=this.options,pt=ot.debug;ct.length;){W=ct.pop(),R=ct.pop(),I=ct.pop(),Z=ct.pop();var Tt=1<<I,Ot=Kr(I,R,W),Mt=this.tiles[Ot];if(!Mt&&(pt>1&&console.time("creation"),Mt=this.tiles[Ot]=Qn(Z,I,R,W,ot),this.tileCoords.push({z:I,x:R,y:W}),pt)){pt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",I,R,W,Mt.numFeatures,Mt.numPoints,Mt.numSimplified),console.timeEnd("creation"));var Ee="z"+I;this.stats[Ee]=(this.stats[Ee]||0)+1,this.total++}if(Mt.source=Z,K){if(I===ot.maxZoom||I===K)continue;var Ie=1<<K-I;if(R!==Math.floor(rt/Ie)||W!==Math.floor(dt/Ie))continue}else if(I===ot.indexMaxZoom||Mt.numPoints<=ot.indexMaxPoints)continue;if(Mt.source=null,Z.length!==0){pt>1&&console.time("clipping");var ue,U,Ze,Ti,Nt,te,yi=.5*ot.buffer/ot.extent,zi=.5-yi,Ae=.5+yi,Re=1+yi;ue=U=Ze=Ti=null,Nt=oe(Z,Tt,R-yi,R+Ae,0,Mt.minX,Mt.maxX,ot),te=oe(Z,Tt,R+zi,R+Re,0,Mt.minX,Mt.maxX,ot),Z=null,Nt&&(ue=oe(Nt,Tt,W-yi,W+Ae,1,Mt.minY,Mt.maxY,ot),U=oe(Nt,Tt,W+zi,W+Re,1,Mt.minY,Mt.maxY,ot),Nt=null),te&&(Ze=oe(te,Tt,W-yi,W+Ae,1,Mt.minY,Mt.maxY,ot),Ti=oe(te,Tt,W+zi,W+Re,1,Mt.minY,Mt.maxY,ot),te=null),pt>1&&console.timeEnd("clipping"),ct.push(ue||[],I+1,2*R,2*W),ct.push(U||[],I+1,2*R,2*W+1),ct.push(Ze||[],I+1,2*R+1,2*W),ct.push(Ti||[],I+1,2*R+1,2*W+1)}}},tr.prototype.getTile=function(Z,I,R){var W=this.options,K=W.extent,rt=W.debug;if(Z<0||Z>24)return null;var dt=1<<Z,ct=Kr(Z,I=(I%dt+dt)%dt,R);if(this.tiles[ct])return Pr(this.tiles[ct],K);rt>1&&console.log("drilling down to z%d-%d-%d",Z,I,R);for(var ot,pt=Z,Tt=I,Ot=R;!ot&&pt>0;)pt--,Tt=Math.floor(Tt/2),Ot=Math.floor(Ot/2),ot=this.tiles[Kr(pt,Tt,Ot)];return ot&&ot.source?(rt>1&&console.log("found parent tile z%d-%d-%d",pt,Tt,Ot),rt>1&&console.time("drilling down"),this.splitTile(ot.source,pt,Tt,Ot,Z,I,R),rt>1&&console.timeEnd("drilling down"),this.tiles[ct]?Pr(this.tiles[ct],K):null):null};class _e extends Xt{constructor(I,R,W,K){super(I,R,W,Us),K&&(this.loadGeoJSON=K)}loadData(I,R){var W;(W=this._pendingRequest)===null||W===void 0||W.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const K=!!(I&&I.request&&I.request.collectResourceTiming)&&new h.RequestPerformance(I.request);this._pendingCallback=R,this._pendingRequest=this.loadGeoJSON(I,(rt,dt)=>{if(delete this._pendingCallback,delete this._pendingRequest,rt||!dt)return R(rt);if(typeof dt!="object")return R(new Error(`Input data given to '${I.source}' is not a valid GeoJSON object.`));{Ye(dt,!0);try{if(I.filter){const ot=h.createExpression(I.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(ot.result==="error")throw new Error(ot.value.map(Tt=>`${Tt.key}: ${Tt.message}`).join(", "));dt={type:"FeatureCollection",features:dt.features.filter(Tt=>ot.value.evaluate({zoom:0},Tt))}}this._geoJSONIndex=I.cluster?new Rt(function({superclusterOptions:ot,clusterProperties:pt}){if(!pt||!ot)return ot;const Tt={},Ot={},Mt={accumulated:null,zoom:0},Ee={properties:null},Ie=Object.keys(pt);for(const ue of Ie){const[U,Ze]=pt[ue],Ti=h.createExpression(Ze),Nt=h.createExpression(typeof U=="string"?[U,["accumulated"],["get",ue]]:U);Tt[ue]=Ti.value,Ot[ue]=Nt.value}return ot.map=ue=>{Ee.properties=ue;const U={};for(const Ze of Ie)U[Ze]=Tt[Ze].evaluate(Mt,Ee);return U},ot.reduce=(ue,U)=>{Ee.properties=U;for(const Ze of Ie)Mt.accumulated=ue[Ze],ue[Ze]=Ot[Ze].evaluate(Mt,Ee)},ot}(I)).load(dt.features):function(ot,pt){return new tr(ot,pt)}(dt,I.geojsonVtOptions)}catch(ot){return R(ot)}this.loaded={};const ct={};if(K){const ot=K.finish();ot&&(ct.resourceTiming={},ct.resourceTiming[I.source]=JSON.parse(JSON.stringify(ot)))}R(null,ct)}})}reloadTile(I,R){const W=this.loaded;return W&&W[I.uid]?super.reloadTile(I,R):this.loadTile(I,R)}loadGeoJSON(I,R){if(I.request)return h.getJSON(I.request,R);if(typeof I.data=="string")try{R(null,JSON.parse(I.data))}catch{R(new Error(`Input data given to '${I.source}' is not a valid GeoJSON object.`))}else R(new Error(`Input data given to '${I.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}}removeSource(I,R){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),R()}getClusterExpansionZoom(I,R){try{R(null,this._geoJSONIndex.getClusterExpansionZoom(I.clusterId))}catch(W){R(W)}}getClusterChildren(I,R){try{R(null,this._geoJSONIndex.getChildren(I.clusterId))}catch(W){R(W)}}getClusterLeaves(I,R){try{R(null,this._geoJSONIndex.getLeaves(I.clusterId,I.limit,I.offset))}catch(W){R(W)}}}class In{constructor(I){this.self=I,this.actor=new h.Actor(I,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:Xt,geojson:_e},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(R,W)=>{if(this.workerSourceTypes[R])throw new Error(`Worker source with name "${R}" already registered.`);this.workerSourceTypes[R]=W},this.self.registerRTLTextPlugin=R=>{if(h.plugin.isParsed())throw new Error("RTL text plugin already registered.");h.plugin.applyArabicShaping=R.applyArabicShaping,h.plugin.processBidirectionalText=R.processBidirectionalText,h.plugin.processStyledBidirectionalText=R.processStyledBidirectionalText}}setReferrer(I,R){this.referrer=R}setImages(I,R,W){this.availableImages[I]=R;for(const K in this.workerSources[I]){const rt=this.workerSources[I][K];for(const dt in rt)rt[dt].availableImages=R}W()}setLayers(I,R,W){this.getLayerIndex(I).replace(R),W()}updateLayers(I,R,W){this.getLayerIndex(I).update(R.layers,R.removedIds),W()}loadTile(I,R,W){this.getWorkerSource(I,R.type,R.source).loadTile(R,W)}loadDEMTile(I,R,W){this.getDEMWorkerSource(I,R.source).loadTile(R,W)}reloadTile(I,R,W){this.getWorkerSource(I,R.type,R.source).reloadTile(R,W)}abortTile(I,R,W){this.getWorkerSource(I,R.type,R.source).abortTile(R,W)}removeTile(I,R,W){this.getWorkerSource(I,R.type,R.source).removeTile(R,W)}removeDEMTile(I,R){this.getDEMWorkerSource(I,R.source).removeTile(R)}removeSource(I,R,W){if(!this.workerSources[I]||!this.workerSources[I][R.type]||!this.workerSources[I][R.type][R.source])return;const K=this.workerSources[I][R.type][R.source];delete this.workerSources[I][R.type][R.source],K.removeSource!==void 0?K.removeSource(R,W):W()}loadWorkerSource(I,R,W){try{this.self.importScripts(R.url),W()}catch(K){W(K.toString())}}syncRTLPluginState(I,R,W){try{h.plugin.setState(R);const K=h.plugin.getPluginURL();if(h.plugin.isLoaded()&&!h.plugin.isParsed()&&K!=null){this.self.importScripts(K);const rt=h.plugin.isParsed();W(rt?void 0:new Error(`RTL Text Plugin failed to import scripts from ${K}`),rt)}}catch(K){W(K.toString())}}getAvailableImages(I){let R=this.availableImages[I];return R||(R=[]),R}getLayerIndex(I){let R=this.layerIndexes[I];return R||(R=this.layerIndexes[I]=new Bt),R}getWorkerSource(I,R,W){if(this.workerSources[I]||(this.workerSources[I]={}),this.workerSources[I][R]||(this.workerSources[I][R]={}),!this.workerSources[I][R][W]){const K={send:(rt,dt,ct)=>{this.actor.send(rt,dt,ct,I)}};this.workerSources[I][R][W]=new this.workerSourceTypes[R](K,this.getLayerIndex(I),this.getAvailableImages(I))}return this.workerSources[I][R][W]}getDEMWorkerSource(I,R){return this.demWorkerSources[I]||(this.demWorkerSources[I]={}),this.demWorkerSources[I][R]||(this.demWorkerSources[I][R]=new Pi),this.demWorkerSources[I][R]}enforceCacheSizeLimit(I,R){h.enforceCacheSizeLimit(R)}}return h.isWorker()&&(self.worker=new In(self)),In}),G(["./shared"],function(h){var ut=St;function St(d){return!function(i){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var c,f,_=new Blob([""],{type:"text/javascript"}),w=URL.createObjectURL(_);try{f=new Worker(w),c=!0}catch{c=!1}return f&&f.terminate(),URL.revokeObjectURL(w),c}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var c=document.createElement("canvas");c.width=c.height=1;var f=c.getContext("2d");if(!f)return!1;var _=f.getImageData(0,0,1,1);return _&&_.width===c.width}()?(Bt[o=i&&i.failIfMajorPerformanceCaveat]===void 0&&(Bt[o]=function(c){var f,_=function(w){var S=document.createElement("canvas"),E=Object.create(St.webGLContextAttributes);return E.failIfMajorPerformanceCaveat=w,S.getContext("webgl",E)||S.getContext("experimental-webgl",E)}(c);if(!_)return!1;try{f=_.createShader(_.VERTEX_SHADER)}catch{return!1}return!(!f||_.isContextLost())&&(_.shaderSource(f,"void main() {}"),_.compileShader(f),_.getShaderParameter(f,_.COMPILE_STATUS)===!0)}(o)),Bt[o]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var o}(d)}var Bt={};function Lt(d,i){if(Array.isArray(d)){if(!Array.isArray(i)||d.length!==i.length)return!1;for(let o=0;o<d.length;o++)if(!Lt(d[o],i[o]))return!1;return!0}if(typeof d=="object"&&d!==null&&i!==null){if(typeof i!="object"||Object.keys(d).length!==Object.keys(i).length)return!1;for(const o in d)if(!Lt(d[o],i[o]))return!1;return!0}return d===i}St.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};class lt{static testProp(i){if(!lt.docStyle)return i[0];for(let o=0;o<i.length;o++)if(i[o]in lt.docStyle)return i[o];return i[0]}static create(i,o,c){const f=window.document.createElement(i);return o!==void 0&&(f.className=o),c&&c.appendChild(f),f}static createNS(i,o){return window.document.createElementNS(i,o)}static disableDrag(){lt.docStyle&&lt.selectProp&&(lt.userSelect=lt.docStyle[lt.selectProp],lt.docStyle[lt.selectProp]="none")}static enableDrag(){lt.docStyle&&lt.selectProp&&(lt.docStyle[lt.selectProp]=lt.userSelect)}static setTransform(i,o){i.style[lt.transformProp]=o}static addEventListener(i,o,c,f={}){i.addEventListener(o,c,"passive"in f?f:f.capture)}static removeEventListener(i,o,c,f={}){i.removeEventListener(o,c,"passive"in f?f:f.capture)}static suppressClickInternal(i){i.preventDefault(),i.stopPropagation(),window.removeEventListener("click",lt.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",lt.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",lt.suppressClickInternal,!0)},0)}static mousePos(i,o){const c=i.getBoundingClientRect();return new h.pointGeometry(o.clientX-c.left-i.clientLeft,o.clientY-c.top-i.clientTop)}static touchPos(i,o){const c=i.getBoundingClientRect(),f=[];for(let _=0;_<o.length;_++)f.push(new h.pointGeometry(o[_].clientX-c.left-i.clientLeft,o[_].clientY-c.top-i.clientTop));return f}static mouseButton(i){return i.button}static remove(i){i.parentNode&&i.parentNode.removeChild(i)}}lt.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,lt.selectProp=lt.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),lt.transformProp=lt.testProp(["transform","WebkitTransform"]);class kt{constructor(i){this._transformRequestFn=i}transformRequest(i,o){return this._transformRequestFn&&this._transformRequestFn(i,o)||{url:i}}normalizeSpriteURL(i,o,c){const f=function(_){const w=_.match(Te);if(!w)throw new Error(`Unable to parse URL "${_}"`);return{protocol:w[1],authority:w[2],path:w[3]||"/",params:w[4]?w[4].split("&"):[]}}(i);return f.path+=`${o}${c}`,function(_){const w=_.params.length?`?${_.params.join("&")}`:"";return`${_.protocol}://${_.authority}${_.path}${w}`}(f)}setTransformRequest(i){this._transformRequestFn=i}}const Te=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;class Xt{constructor(i,o,c,f){this.context=i,this.format=c,this.texture=i.gl.createTexture(),this.update(o,f)}update(i,o,c){const{width:f,height:_}=i,w=!(this.size&&this.size[0]===f&&this.size[1]===_||c),{context:S}=this,{gl:E}=S;if(this.useMipmap=Boolean(o&&o.useMipmap),E.bindTexture(E.TEXTURE_2D,this.texture),S.pixelStoreUnpackFlipY.set(!1),S.pixelStoreUnpack.set(1),S.pixelStoreUnpackPremultiplyAlpha.set(this.format===E.RGBA&&(!o||o.premultiply!==!1)),w)this.size=[f,_],i instanceof HTMLImageElement||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageData||h.isImageBitmap(i)?E.texImage2D(E.TEXTURE_2D,0,this.format,this.format,E.UNSIGNED_BYTE,i):E.texImage2D(E.TEXTURE_2D,0,this.format,f,_,0,this.format,E.UNSIGNED_BYTE,i.data);else{const{x:P,y:$}=c||{x:0,y:0};i instanceof HTMLImageElement||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageData||h.isImageBitmap(i)?E.texSubImage2D(E.TEXTURE_2D,0,P,$,E.RGBA,E.UNSIGNED_BYTE,i):E.texSubImage2D(E.TEXTURE_2D,0,P,$,f,_,E.RGBA,E.UNSIGNED_BYTE,i.data)}this.useMipmap&&this.isSizePowerOfTwo()&&E.generateMipmap(E.TEXTURE_2D)}bind(i,o,c){const{context:f}=this,{gl:_}=f;_.bindTexture(_.TEXTURE_2D,this.texture),c!==_.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(c=_.LINEAR),i!==this.filter&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,i),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,c||i),this.filter=i),o!==this.wrap&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,o),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,o),this.wrap=o)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:i}=this.context;i.deleteTexture(this.texture),this.texture=null}}function Pi(d){const{userImage:i}=d;return!!(i&&i.render&&i.render())&&(d.data.replace(new Uint8Array(i.data.buffer)),!0)}class Ye extends h.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new h.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(i){if(this.loaded!==i&&(this.loaded=i,i)){for(const{ids:o,callback:c}of this.requestors)this._notify(o,c);this.requestors=[]}}getImage(i){return this.images[i]}addImage(i,o){if(this.images[i])throw new Error(`Image id ${i} already exist, use updateImage instead`);this._validate(i,o)&&(this.images[i]=o)}_validate(i,o){let c=!0;return this._validateStretch(o.stretchX,o.data&&o.data.width)||(this.fire(new h.ErrorEvent(new Error(`Image "${i}" has invalid "stretchX" value`))),c=!1),this._validateStretch(o.stretchY,o.data&&o.data.height)||(this.fire(new h.ErrorEvent(new Error(`Image "${i}" has invalid "stretchY" value`))),c=!1),this._validateContent(o.content,o)||(this.fire(new h.ErrorEvent(new Error(`Image "${i}" has invalid "content" value`))),c=!1),c}_validateStretch(i,o){if(!i)return!0;let c=0;for(const f of i){if(f[0]<c||f[1]<f[0]||o<f[1])return!1;c=f[1]}return!0}_validateContent(i,o){return!(i&&(i.length!==4||i[0]<0||o.data.width<i[0]||i[1]<0||o.data.height<i[1]||i[2]<0||o.data.width<i[2]||i[3]<0||o.data.height<i[3]||i[2]<i[0]||i[3]<i[1]))}updateImage(i,o){const c=this.images[i];if(c.data.width!==o.data.width||c.data.height!==o.data.height)throw new Error(`size mismatch between old image (${c.data.width}x${c.data.height}) and new image (${o.data.width}x${o.data.height}).`);o.version=c.version+1,this.images[i]=o,this.updatedImages[i]=!0}removeImage(i){const o=this.images[i];delete this.images[i],delete this.patterns[i],o.userImage&&o.userImage.onRemove&&o.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(i,o){let c=!0;if(!this.isLoaded())for(const f of i)this.images[f]||(c=!1);this.isLoaded()||c?this._notify(i,o):this.requestors.push({ids:i,callback:o})}_notify(i,o){const c={};for(const f of i){this.images[f]||this.fire(new h.Event("styleimagemissing",{id:f}));const _=this.images[f];_?c[f]={data:_.data.clone(),pixelRatio:_.pixelRatio,sdf:_.sdf,version:_.version,stretchX:_.stretchX,stretchY:_.stretchY,content:_.content,hasRenderCallback:Boolean(_.userImage&&_.userImage.render)}:h.warnOnce(`Image "${f}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}o(null,c)}getPixelSize(){const{width:i,height:o}=this.atlasImage;return{width:i,height:o}}getPattern(i){const o=this.patterns[i],c=this.getImage(i);if(!c)return null;if(o&&o.position.version===c.version)return o.position;if(o)o.position.version=c.version;else{const f={w:c.data.width+2,h:c.data.height+2,x:0,y:0},_=new h.ImagePosition(f,c);this.patterns[i]={bin:f,position:_}}return this._updatePatternAtlas(),this.patterns[i].position}bind(i){const o=i.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new Xt(i,this.atlasImage,o.RGBA),this.atlasTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE)}_updatePatternAtlas(){const i=[];for(const _ in this.patterns)i.push(this.patterns[_].bin);const{w:o,h:c}=h.potpack(i),f=this.atlasImage;f.resize({width:o||1,height:c||1});for(const _ in this.patterns){const{bin:w}=this.patterns[_],S=w.x+1,E=w.y+1,P=this.images[_].data,$=P.width,O=P.height;h.RGBAImage.copy(P,f,{x:0,y:0},{x:S,y:E},{width:$,height:O}),h.RGBAImage.copy(P,f,{x:0,y:O-1},{x:S,y:E-1},{width:$,height:1}),h.RGBAImage.copy(P,f,{x:0,y:0},{x:S,y:E+O},{width:$,height:1}),h.RGBAImage.copy(P,f,{x:$-1,y:0},{x:S-1,y:E},{width:1,height:O}),h.RGBAImage.copy(P,f,{x:0,y:0},{x:S+$,y:E},{width:1,height:O})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(i){for(const o of i){if(this.callbackDispatchedThisFrame[o])continue;this.callbackDispatchedThisFrame[o]=!0;const c=this.images[o];c||h.warnOnce(`Image with ID: "${o}" was not found`),Pi(c)&&this.updateImage(o,c)}}}const li=1e20;function Ce(d,i,o,c,f,_,w,S,E){for(let P=i;P<i+c;P++)ti(d,o*_+P,_,f,w,S,E);for(let P=o;P<o+f;P++)ti(d,P*_+i,1,c,w,S,E)}function ti(d,i,o,c,f,_,w){_[0]=0,w[0]=-li,w[1]=li,f[0]=d[i];for(let S=1,E=0,P=0;S<c;S++){f[S]=d[i+S*o];const $=S*S;do{const O=_[E];P=(f[S]-f[O]+$-O*O)/(S-O)/2}while(P<=w[E]&&--E>-1);E++,_[E]=S,w[E]=P,w[E+1]=li}for(let S=0,E=0;S<c;S++){for(;w[E+1]<S;)E++;const P=_[E],$=S-P;d[i+S*o]=f[P]+$*$}}class ii{constructor(i,o){this.requestManager=i,this.localIdeographFontFamily=o,this.entries={}}setURL(i){this.url=i}getGlyphs(i,o){const c=[];for(const f in i)for(const _ of i[f])c.push({stack:f,id:_});h.asyncAll(c,({stack:f,id:_},w)=>{let S=this.entries[f];S||(S=this.entries[f]={glyphs:{},requests:{},ranges:{}});let E=S.glyphs[_];if(E!==void 0)return void w(null,{stack:f,id:_,glyph:E});if(E=this._tinySDF(S,f,_),E)return S.glyphs[_]=E,void w(null,{stack:f,id:_,glyph:E});const P=Math.floor(_/256);if(256*P>65535)return void w(new Error("glyphs > 65535 not supported"));if(S.ranges[P])return void w(null,{stack:f,id:_,glyph:E});let $=S.requests[P];$||($=S.requests[P]=[],ii.loadGlyphRange(f,P,this.url,this.requestManager,(O,j)=>{if(j){for(const tt in j)this._doesCharSupportLocalGlyph(+tt)||(S.glyphs[+tt]=j[+tt]);S.ranges[P]=!0}for(const tt of $)tt(O,j);delete S.requests[P]})),$.push((O,j)=>{O?w(O):j&&w(null,{stack:f,id:_,glyph:j[_]||null})})},(f,_)=>{if(f)o(f);else if(_){const w={};for(const{stack:S,id:E,glyph:P}of _)(w[S]||(w[S]={}))[E]=P&&{id:P.id,bitmap:P.bitmap.clone(),metrics:P.metrics};o(null,w)}})}_doesCharSupportLocalGlyph(i){return!!this.localIdeographFontFamily&&(h.unicodeBlockLookup["CJK Unified Ideographs"](i)||h.unicodeBlockLookup["Hangul Syllables"](i)||h.unicodeBlockLookup.Hiragana(i)||h.unicodeBlockLookup.Katakana(i))}_tinySDF(i,o,c){const f=this.localIdeographFontFamily;if(!f||!this._doesCharSupportLocalGlyph(c))return;let _=i.tinySDF;if(!_){let S="400";/bold/i.test(o)?S="900":/medium/i.test(o)?S="500":/light/i.test(o)&&(S="200"),_=i.tinySDF=new ii.TinySDF({fontSize:24,buffer:3,radius:8,cutoff:.25,fontFamily:f,fontWeight:S})}const w=_.draw(String.fromCharCode(c));return{id:c,bitmap:new h.AlphaImage({width:w.width||30,height:w.height||30},w.data),metrics:{width:w.glyphWidth||24,height:w.glyphHeight||24,left:w.glyphLeft||0,top:w.glyphTop-27||-8,advance:w.glyphAdvance||24}}}}ii.loadGlyphRange=function(d,i,o,c,f){const _=256*i,w=_+255,S=c.transformRequest(o.replace("{fontstack}",d).replace("{range}",`${_}-${w}`),h.ResourceType.Glyphs);h.getArrayBuffer(S,(E,P)=>{if(E)f(E);else if(P){const $={};for(const O of h.parseGlyphPbf(P))$[O.id]=O;f(null,$)}})},ii.TinySDF=class{constructor({fontSize:d=24,buffer:i=3,radius:o=8,cutoff:c=.25,fontFamily:f="sans-serif",fontWeight:_="normal",fontStyle:w="normal"}={}){this.buffer=i,this.cutoff=c,this.radius=o;const S=this.size=d+4*i,E=this._createCanvas(S),P=this.ctx=E.getContext("2d",{willReadFrequently:!0});P.font=`${w} ${_} ${d}px ${f}`,P.textBaseline="alphabetic",P.textAlign="left",P.fillStyle="black",this.gridOuter=new Float64Array(S*S),this.gridInner=new Float64Array(S*S),this.f=new Float64Array(S),this.z=new Float64Array(S+1),this.v=new Uint16Array(S)}_createCanvas(d){const i=document.createElement("canvas");return i.width=i.height=d,i}draw(d){const{width:i,actualBoundingBoxAscent:o,actualBoundingBoxDescent:c,actualBoundingBoxLeft:f,actualBoundingBoxRight:_}=this.ctx.measureText(d),w=Math.ceil(o),S=Math.min(this.size-this.buffer,Math.ceil(_-f)),E=Math.min(this.size-this.buffer,w+Math.ceil(c)),P=S+2*this.buffer,$=E+2*this.buffer,O=Math.max(P*$,0),j=new Uint8ClampedArray(O),tt={data:j,width:P,height:$,glyphWidth:S,glyphHeight:E,glyphTop:w,glyphLeft:0,glyphAdvance:i};if(S===0||E===0)return tt;const{ctx:J,buffer:Q,gridInner:ht,gridOuter:mt}=this;J.clearRect(Q,Q,S,E),J.fillText(d,Q,Q+w);const xt=J.getImageData(Q,Q,S,E);mt.fill(li,0,O),ht.fill(0,0,O);for(let it=0;it<E;it++)for(let Et=0;Et<S;Et++){const wt=xt.data[4*(it*S+Et)+3]/255;if(wt===0)continue;const $t=(it+Q)*P+Et+Q;if(wt===1)mt[$t]=0,ht[$t]=li;else{const Dt=.5-wt;mt[$t]=Dt>0?Dt*Dt:0,ht[$t]=Dt<0?Dt*Dt:0}}Ce(mt,0,0,P,$,P,this.f,this.v,this.z),Ce(ht,Q,Q,S,E,P,this.f,this.v,this.z);for(let it=0;it<O;it++){const Et=Math.sqrt(mt[it])-Math.sqrt(ht[it]);j[it]=Math.round(255-255*(Et/this.radius+this.cutoff))}return tt}};const dn=new h.Properties({anchor:new h.DataConstantProperty(h.spec.light.anchor),position:new class{constructor(){this.specification=h.spec.light.position}possiblyEvaluate(d,i){return h.sphericalToCartesian(d.expression.evaluate(i))}interpolate(d,i,o){return{x:h.number(d.x,i.x,o),y:h.number(d.y,i.y,o),z:h.number(d.z,i.z,o)}}},color:new h.DataConstantProperty(h.spec.light.color),intensity:new h.DataConstantProperty(h.spec.light.intensity)}),wn="-transition";class Ne extends h.Evented{constructor(i){super(),this._transitionable=new h.Transitionable(dn),this.setLight(i),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(i,o={}){if(!this._validate(h.validateLight,i,o))for(const c in i){const f=i[c];c.endsWith(wn)?this._transitionable.setTransition(c.slice(0,-wn.length),f):this._transitionable.setValue(c,f)}}updateTransitions(i){this._transitioning=this._transitionable.transitioned(i,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(i){this.properties=this._transitioning.possiblyEvaluate(i)}_validate(i,o,c){return(!c||c.validate!==!1)&&h.emitValidationErrors(this,i.call(h.validateStyle,h.extend({value:o,style:{glyphs:!0,sprite:!0},styleSpec:h.spec})))}}class Xi{constructor(i,o){this.width=i,this.height=o,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(i,o){const c=i.join(",")+String(o);return this.dashEntry[c]||(this.dashEntry[c]=this.addDash(i,o)),this.dashEntry[c]}getDashRanges(i,o,c){const f=[];let _=i.length%2==1?-i[i.length-1]*c:0,w=i[0]*c,S=!0;f.push({left:_,right:w,isDash:S,zeroLength:i[0]===0});let E=i[0];for(let P=1;P<i.length;P++){S=!S;const $=i[P];_=E*c,E+=$,w=E*c,f.push({left:_,right:w,isDash:S,zeroLength:$===0})}return f}addRoundDash(i,o,c){const f=o/2;for(let _=-c;_<=c;_++){const w=this.width*(this.nextRow+c+_);let S=0,E=i[S];for(let P=0;P<this.width;P++){P/E.right>1&&(E=i[++S]);const $=Math.abs(P-E.left),O=Math.abs(P-E.right),j=Math.min($,O);let tt;const J=_/c*(f+1);if(E.isDash){const Q=f-Math.abs(J);tt=Math.sqrt(j*j+Q*Q)}else tt=f-Math.sqrt(j*j+J*J);this.data[w+P]=Math.max(0,Math.min(255,tt+128))}}}addRegularDash(i){for(let S=i.length-1;S>=0;--S){const E=i[S],P=i[S+1];E.zeroLength?i.splice(S,1):P&&P.isDash===E.isDash&&(P.left=E.left,i.splice(S,1))}const o=i[0],c=i[i.length-1];o.isDash===c.isDash&&(o.left=c.left-this.width,c.right=o.right+this.width);const f=this.width*this.nextRow;let _=0,w=i[_];for(let S=0;S<this.width;S++){S/w.right>1&&(w=i[++_]);const E=Math.abs(S-w.left),P=Math.abs(S-w.right),$=Math.min(E,P);this.data[f+S]=Math.max(0,Math.min(255,(w.isDash?$:-$)+128))}}addDash(i,o){const c=o?7:0,f=2*c+1;if(this.nextRow+f>this.height)return h.warnOnce("LineAtlas out of space"),null;let _=0;for(let S=0;S<i.length;S++)_+=i[S];if(_!==0){const S=this.width/_,E=this.getDashRanges(i,this.width,S);o?this.addRoundDash(E,S,c):this.addRegularDash(E)}const w={y:(this.nextRow+c+.5)/this.height,height:2*c/this.height,width:_};return this.nextRow+=f,this.dirty=!0,w}bind(i){const o=i.gl;this.texture?(o.bindTexture(o.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,o.texSubImage2D(o.TEXTURE_2D,0,0,0,this.width,this.height,o.ALPHA,o.UNSIGNED_BYTE,this.data))):(this.texture=o.createTexture(),o.bindTexture(o.TEXTURE_2D,this.texture),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.REPEAT),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.REPEAT),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),o.texImage2D(o.TEXTURE_2D,0,o.ALPHA,this.width,this.height,0,o.ALPHA,o.UNSIGNED_BYTE,this.data))}}class xi{constructor(i,o){this.workerPool=i,this.actors=[],this.currentActor=0,this.id=h.uniqueId();const c=this.workerPool.acquire(this.id);for(let f=0;f<c.length;f++){const _=new xi.Actor(c[f],o,this.id);_.name=`Worker ${f}`,this.actors.push(_)}if(!this.actors.length)throw new Error("No actors found")}broadcast(i,o,c){h.asyncAll(this.actors,(f,_)=>{f.send(i,o,_)},c=c||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(i=>{i.remove()}),this.actors=[],this.workerPool.release(this.id)}}function Me(d,i,o){const c=function(f,_){if(f)return o(f);if(_){const w=h.pick(h.extend(_,d),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);_.vector_layers&&(w.vectorLayers=_.vector_layers,w.vectorLayerIds=w.vectorLayers.map(S=>S.id)),o(null,w)}};return d.url?h.getJSON(i.transformRequest(d.url,h.ResourceType.Source),c):h.exported.frame(()=>c(null,d))}xi.Actor=h.Actor;class Ui{constructor(i,o,c){this.bounds=h.LngLatBounds.convert(this.validateBounds(i)),this.minzoom=o||0,this.maxzoom=c||24}validateBounds(i){return Array.isArray(i)&&i.length===4?[Math.max(-180,i[0]),Math.max(-90,i[1]),Math.min(180,i[2]),Math.min(90,i[3])]:[-180,-90,180,90]}contains(i){const o=Math.pow(2,i.z),c=Math.floor(h.mercatorXfromLng(this.bounds.getWest())*o),f=Math.floor(h.mercatorYfromLat(this.bounds.getNorth())*o),_=Math.ceil(h.mercatorXfromLng(this.bounds.getEast())*o),w=Math.ceil(h.mercatorYfromLat(this.bounds.getSouth())*o);return i.x>=c&&i.x<_&&i.y>=f&&i.y<w}}class Hi extends h.Evented{constructor(i,o,c,f){if(super(),this.id=i,this.dispatcher=c,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,h.extend(this,h.pick(o,["url","scheme","tileSize","promoteId"])),this._options=h.extend({type:"vector"},o),this._collectResourceTiming=o.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(f)}load(){this._loaded=!1,this.fire(new h.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Me(this._options,this.map._requestManager,(i,o)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),i?this.fire(new h.ErrorEvent(i)):o&&(h.extend(this,o),o.bounds&&(this.tileBounds=new Ui(o.bounds,this.minzoom,this.maxzoom)),this.fire(new h.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new h.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}hasTile(i){return!this.tileBounds||this.tileBounds.contains(i.canonical)}onAdd(i){this.map=i,this.load()}setSourceProperty(i){this._tileJSONRequest&&this._tileJSONRequest.cancel(),i(),this.load()}setTiles(i){return this.setSourceProperty(()=>{this._options.tiles=i}),this}setUrl(i){return this.setSourceProperty(()=>{this.url=i,this._options.url=i}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return h.extend({},this._options)}loadTile(i,o){const c=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),f={request:this.map._requestManager.transformRequest(c,h.ResourceType.Tile),uid:i.uid,tileID:i.tileID,zoom:i.tileID.overscaledZ,tileSize:this.tileSize*i.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function _(w,S){return delete i.request,i.aborted?o(null):w&&w.status!==404?o(w):(S&&S.resourceTiming&&(i.resourceTiming=S.resourceTiming),this.map._refreshExpiredTiles&&S&&i.setExpiryData(S),i.loadVectorData(S,this.map.painter),h.cacheEntryPossiblyAdded(this.dispatcher),o(null),void(i.reloadCallback&&(this.loadTile(i,i.reloadCallback),i.reloadCallback=null)))}f.request.collectResourceTiming=this._collectResourceTiming,i.actor&&i.state!=="expired"?i.state==="loading"?i.reloadCallback=o:i.request=i.actor.send("reloadTile",f,_.bind(this)):(i.actor=this.dispatcher.getActor(),i.request=i.actor.send("loadTile",f,_.bind(this)))}abortTile(i){i.request&&(i.request.cancel(),delete i.request),i.actor&&i.actor.send("abortTile",{uid:i.uid,type:this.type,source:this.id},void 0)}unloadTile(i){i.unloadVectorData(),i.actor&&i.actor.send("removeTile",{uid:i.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class gn extends h.Evented{constructor(i,o,c,f){super(),this.id=i,this.dispatcher=c,this.setEventedParent(f),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=h.extend({type:"raster"},o),h.extend(this,h.pick(o,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new h.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Me(this._options,this.map._requestManager,(i,o)=>{this._tileJSONRequest=null,this._loaded=!0,i?this.fire(new h.ErrorEvent(i)):o&&(h.extend(this,o),o.bounds&&(this.tileBounds=new Ui(o.bounds,this.minzoom,this.maxzoom)),this.fire(new h.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new h.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(i){this.map=i,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return h.extend({},this._options)}hasTile(i){return!this.tileBounds||this.tileBounds.contains(i.canonical)}loadTile(i,o){const c=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);i.request=h.getImage(this.map._requestManager.transformRequest(c,h.ResourceType.Tile),(f,_,w)=>{if(delete i.request,i.aborted)i.state="unloaded",o(null);else if(f)i.state="errored",o(f);else if(_){this.map._refreshExpiredTiles&&i.setExpiryData(w);const S=this.map.painter.context,E=S.gl;i.texture=this.map.painter.getTileTexture(_.width),i.texture?i.texture.update(_,{useMipmap:!0}):(i.texture=new Xt(S,_,E.RGBA,{useMipmap:!0}),i.texture.bind(E.LINEAR,E.CLAMP_TO_EDGE,E.LINEAR_MIPMAP_NEAREST),S.extTextureFilterAnisotropic&&E.texParameterf(E.TEXTURE_2D,S.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,S.extTextureFilterAnisotropicMax)),i.state="loaded",h.cacheEntryPossiblyAdded(this.dispatcher),o(null)}})}abortTile(i,o){i.request&&(i.request.cancel(),delete i.request),o()}unloadTile(i,o){i.texture&&this.map.painter.saveTileTexture(i.texture),o()}hasTransition(){return!1}}let oi;class ve extends gn{constructor(i,o,c,f){super(i,o,c,f),this.type="raster-dem",this.maxzoom=22,this._options=h.extend({type:"raster-dem"},o),this.encoding=o.encoding||"mapbox"}serialize(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}}loadTile(i,o){const c=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);function f(_,w){_&&(i.state="errored",o(_)),w&&(i.dem=w,i.needsHillshadePrepare=!0,i.needsTerrainPrepare=!0,i.state="loaded",o(null))}i.request=h.getImage(this.map._requestManager.transformRequest(c,h.ResourceType.Tile),function(_,w){if(delete i.request,i.aborted)i.state="unloaded",o(null);else if(_)i.state="errored",o(_);else if(w){this.map._refreshExpiredTiles&&i.setExpiryData(w),delete w.cacheControl,delete w.expires;const S=h.isImageBitmap(w)&&(oi==null&&(oi=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),oi)?w:h.exported.getImageData(w,1),E={uid:i.uid,coord:i.tileID,source:this.id,rawImageData:S,encoding:this.encoding};i.actor&&i.state!=="expired"||(i.actor=this.dispatcher.getActor(),i.actor.send("loadDEMTile",E,f.bind(this)))}}.bind(this)),i.neighboringTiles=this._getNeighboringTiles(i.tileID)}_getNeighboringTiles(i){const o=i.canonical,c=Math.pow(2,o.z),f=(o.x-1+c)%c,_=o.x===0?i.wrap-1:i.wrap,w=(o.x+1+c)%c,S=o.x+1===c?i.wrap+1:i.wrap,E={};return E[new h.OverscaledTileID(i.overscaledZ,_,o.z,f,o.y).key]={backfilled:!1},E[new h.OverscaledTileID(i.overscaledZ,S,o.z,w,o.y).key]={backfilled:!1},o.y>0&&(E[new h.OverscaledTileID(i.overscaledZ,_,o.z,f,o.y-1).key]={backfilled:!1},E[new h.OverscaledTileID(i.overscaledZ,i.wrap,o.z,o.x,o.y-1).key]={backfilled:!1},E[new h.OverscaledTileID(i.overscaledZ,S,o.z,w,o.y-1).key]={backfilled:!1}),o.y+1<c&&(E[new h.OverscaledTileID(i.overscaledZ,_,o.z,f,o.y+1).key]={backfilled:!1},E[new h.OverscaledTileID(i.overscaledZ,i.wrap,o.z,o.x,o.y+1).key]={backfilled:!1},E[new h.OverscaledTileID(i.overscaledZ,S,o.z,w,o.y+1).key]={backfilled:!1}),E}unloadTile(i){i.demTexture&&this.map.painter.saveTileTexture(i.demTexture),i.fbo&&(i.fbo.destroy(),delete i.fbo),i.dem&&delete i.dem,delete i.neighboringTiles,i.state="unloaded",i.actor&&i.actor.send("removeDEMTile",{uid:i.uid,source:this.id})}}class ri extends h.Evented{constructor(i,o,c,f){super(),this.id=i,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=c.getActor(),this.setEventedParent(f),this._data=o.data,this._options=h.extend({},o),this._collectResourceTiming=o.collectResourceTiming,o.maxzoom!==void 0&&(this.maxzoom=o.maxzoom),o.type&&(this.type=o.type),o.attribution&&(this.attribution=o.attribution),this.promoteId=o.promoteId;const _=h.EXTENT/this.tileSize;this.workerOptions=h.extend({source:this.id,cluster:o.cluster||!1,geojsonVtOptions:{buffer:(o.buffer!==void 0?o.buffer:128)*_,tolerance:(o.tolerance!==void 0?o.tolerance:.375)*_,extent:h.EXTENT,maxZoom:this.maxzoom,lineMetrics:o.lineMetrics||!1,generateId:o.generateId||!1},superclusterOptions:{maxZoom:o.clusterMaxZoom!==void 0?o.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,o.clusterMinPoints||2),extent:h.EXTENT,radius:(o.clusterRadius||50)*_,log:!1,generateId:o.generateId||!1},clusterProperties:o.clusterProperties,filter:o.filter},o.workerOptions)}load(){this._updateWorkerData("metadata")}onAdd(i){this.map=i,this.load()}setData(i){return this._data=i,this._updateWorkerData("content"),this}getClusterExpansionZoom(i,o){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:i,source:this.id},o),this}getClusterChildren(i,o){return this.actor.send("geojson.getClusterChildren",{clusterId:i,source:this.id},o),this}getClusterLeaves(i,o,c,f){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:i,limit:o,offset:c},f),this}_updateWorkerData(i){const o=h.extend({},this.workerOptions),c=this._data;typeof c=="string"?(o.request=this.map._requestManager.transformRequest(h.exported.resolveURL(c),h.ResourceType.Source),o.request.collectResourceTiming=this._collectResourceTiming):o.data=JSON.stringify(c),this._pendingLoads++,this.fire(new h.Event("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,o,(f,_)=>{if(this._pendingLoads--,this._removed||_&&_.abandoned)return void this.fire(new h.Event("dataabort",{dataType:"source",sourceDataType:i}));let w=null;if(_&&_.resourceTiming&&_.resourceTiming[this.id]&&(w=_.resourceTiming[this.id].slice(0)),f)return void this.fire(new h.ErrorEvent(f));const S={dataType:"source",sourceDataType:i};this._collectResourceTiming&&w&&w.length>0&&h.extend(S,{resourceTiming:w}),this.fire(new h.Event("data",S))})}loaded(){return this._pendingLoads===0}loadTile(i,o){const c=i.actor?"reloadTile":"loadTile";i.actor=this.actor;const f={type:this.type,uid:i.uid,tileID:i.tileID,zoom:i.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};i.request=this.actor.send(c,f,(_,w)=>(delete i.request,i.unloadVectorData(),i.aborted?o(null):_?o(_):(i.loadVectorData(w,this.map.painter,c==="reloadTile"),o(null))))}abortTile(i){i.request&&(i.request.cancel(),delete i.request),i.aborted=!0}unloadTile(i){i.unloadVectorData(),this.actor.send("removeTile",{uid:i.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}serialize(){return h.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var Ht=h.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class je extends h.Evented{constructor(i,o,c,f){super(),this.id=i,this.dispatcher=c,this.coordinates=o.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(f),this.options=o}load(i,o){this._loaded=!1,this.fire(new h.Event("dataloading",{dataType:"source"})),this.url=this.options.url,h.getImage(this.map._requestManager.transformRequest(this.url,h.ResourceType.Image),(c,f)=>{this._loaded=!0,c?this.fire(new h.ErrorEvent(c)):f&&(this.image=f,i&&(this.coordinates=i),o&&o(),this._finishLoading())})}loaded(){return this._loaded}updateImage(i){return this.image&&i.url?(this.options.url=i.url,this.load(i.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new h.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(i){this.map=i,this.load()}setCoordinates(i){this.coordinates=i;const o=i.map(h.MercatorCoordinate.fromLngLat);this.tileID=function(f){let _=1/0,w=1/0,S=-1/0,E=-1/0;for(const j of f)_=Math.min(_,j.x),w=Math.min(w,j.y),S=Math.max(S,j.x),E=Math.max(E,j.y);const P=Math.max(S-_,E-w),$=Math.max(0,Math.floor(-Math.log(P)/Math.LN2)),O=Math.pow(2,$);return new h.CanonicalTileID($,Math.floor((_+S)/2*O),Math.floor((w+E)/2*O))}(o),this.minzoom=this.maxzoom=this.tileID.z;const c=o.map(f=>this.tileID.getTilePoint(f)._round());return this._boundsArray=new h.RasterBoundsArray,this._boundsArray.emplaceBack(c[0].x,c[0].y,0,0),this._boundsArray.emplaceBack(c[1].x,c[1].y,h.EXTENT,0),this._boundsArray.emplaceBack(c[3].x,c[3].y,0,h.EXTENT),this._boundsArray.emplaceBack(c[2].x,c[2].y,h.EXTENT,h.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new h.Event("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const i=this.map.painter.context,o=i.gl;this.boundsBuffer||(this.boundsBuffer=i.createVertexBuffer(this._boundsArray,Ht.members)),this.boundsSegments||(this.boundsSegments=h.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new Xt(i,this.image,o.RGBA),this.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE));for(const c in this.tiles){const f=this.tiles[c];f.state!=="loaded"&&(f.state="loaded",f.texture=this.texture)}}loadTile(i,o){this.tileID&&this.tileID.equals(i.tileID.canonical)?(this.tiles[String(i.tileID.wrap)]=i,i.buckets={},o(null)):(i.state="errored",o(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class ne extends je{constructor(i,o,c,f){super(i,o,c,f),this.roundZoom=!0,this.type="video",this.options=o}load(){this._loaded=!1;const i=this.options;this.urls=[];for(const o of i.urls)this.urls.push(this.map._requestManager.transformRequest(o,h.ResourceType.Source).url);h.getVideo(this.urls,(o,c)=>{this._loaded=!0,o?this.fire(new h.ErrorEvent(o)):c&&(this.video=c,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(i){if(this.video){const o=this.video.seekable;i<o.start(0)||i>o.end(0)?this.fire(new h.ErrorEvent(new h.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${o.start(0)} and ${o.end(0)}-second mark.`))):this.video.currentTime=i}}getVideo(){return this.video}onAdd(i){this.map||(this.map=i,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const i=this.map.painter.context,o=i.gl;this.boundsBuffer||(this.boundsBuffer=i.createVertexBuffer(this._boundsArray,Ht.members)),this.boundsSegments||(this.boundsSegments=h.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE),o.texSubImage2D(o.TEXTURE_2D,0,0,0,o.RGBA,o.UNSIGNED_BYTE,this.video)):(this.texture=new Xt(i,this.video,o.RGBA),this.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE));for(const c in this.tiles){const f=this.tiles[c];f.state!=="loaded"&&(f.state="loaded",f.texture=this.texture)}}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class Ji extends je{constructor(i,o,c,f){super(i,o,c,f),o.coordinates?Array.isArray(o.coordinates)&&o.coordinates.length===4&&!o.coordinates.some(_=>!Array.isArray(_)||_.length!==2||_.some(w=>typeof w!="number"))||this.fire(new h.ErrorEvent(new h.ValidationError(`sources.${i}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new h.ErrorEvent(new h.ValidationError(`sources.${i}`,null,'missing required property "coordinates"'))),o.animate&&typeof o.animate!="boolean"&&this.fire(new h.ErrorEvent(new h.ValidationError(`sources.${i}`,null,'optional "animate" property must be a boolean value'))),o.canvas?typeof o.canvas=="string"||o.canvas instanceof HTMLCanvasElement||this.fire(new h.ErrorEvent(new h.ValidationError(`sources.${i}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new h.ErrorEvent(new h.ValidationError(`sources.${i}`,null,'missing required property "canvas"'))),this.options=o,this.animate=o.animate===void 0||o.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new h.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(i){this.map=i,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let i=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,i=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,i=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const o=this.map.painter.context,c=o.gl;this.boundsBuffer||(this.boundsBuffer=o.createVertexBuffer(this._boundsArray,Ht.members)),this.boundsSegments||(this.boundsSegments=h.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(i||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new Xt(o,this.canvas,c.RGBA,{premultiply:!0});for(const f in this.tiles){const _=this.tiles[f];_.state!=="loaded"&&(_.state="loaded",_.texture=this.texture)}}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const i of[this.canvas.width,this.canvas.height])if(isNaN(i)||i<=0)return!0;return!1}}const Qi={vector:Hi,raster:gn,"raster-dem":ve,geojson:ri,video:ne,image:je,canvas:Ji};function ys(d,i){const o=h.create();return h.translate(o,o,[1,1,0]),h.scale(o,o,[.5*d.width,.5*d.height,1]),h.multiply(o,o,d.calculatePosMatrix(i.toUnwrapped()))}function zn(d,i,o,c,f,_){const w=function(O,j,tt){if(O)for(const J of O){const Q=j[J];if(Q&&Q.source===tt&&Q.type==="fill-extrusion")return!0}else for(const J in j){const Q=j[J];if(Q.source===tt&&Q.type==="fill-extrusion")return!0}return!1}(f&&f.layers,i,d.id),S=_.maxPitchScaleFactor(),E=d.tilesIn(c,S,w);E.sort(Gi);const P=[];for(const O of E)P.push({wrappedTileID:O.tileID.wrapped().key,queryResults:O.tile.queryRenderedFeatures(i,o,d._state,O.queryGeometry,O.cameraQueryGeometry,O.scale,f,_,S,ys(d.transform,O.tileID))});const $=function(O){const j={},tt={};for(const J of O){const Q=J.queryResults,ht=J.wrappedTileID,mt=tt[ht]=tt[ht]||{};for(const xt in Q){const it=Q[xt],Et=mt[xt]=mt[xt]||{},wt=j[xt]=j[xt]||[];for(const $t of it)Et[$t.featureIndex]||(Et[$t.featureIndex]=!0,wt.push($t))}}return j}(P);for(const O in $)$[O].forEach(j=>{const tt=j.feature,J=d.getFeatureState(tt.layer["source-layer"],tt.id);tt.source=tt.layer.source,tt.layer["source-layer"]&&(tt.sourceLayer=tt.layer["source-layer"]),tt.state=J});return $}function Gi(d,i){const o=d.tileID,c=i.tileID;return o.overscaledZ-c.overscaledZ||o.canonical.y-c.canonical.y||o.wrap-c.wrap||o.canonical.x-c.canonical.x}class hn{constructor(i,o){this.tileID=i,this.uid=h.uniqueId(),this.uses=0,this.tileSize=o,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.textures=[],this.textureCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(i){const o=i+this.timeAdded;o<h.exported.now()||this.fadeEndTime&&o<this.fadeEndTime||(this.fadeEndTime=o)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(i){this.demTexture&&i.saveTileTexture(this.demTexture),this.textures.forEach(o=>i.saveTileTexture(o)),this.demTexture=null,this.textures=[],this.textureCoords={}}loadVectorData(i,o,c){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",i){i.featureIndex&&(this.latestFeatureIndex=i.featureIndex,i.rawTileData?(this.latestRawTileData=i.rawTileData,this.latestFeatureIndex.rawTileData=i.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=i.collisionBoxArray,this.buckets=function(f,_){const w={};if(!_)return w;for(const S of f){const E=S.layerIds.map(P=>_.getLayer(P)).filter(Boolean);if(E.length!==0){S.layers=E,S.stateDependentLayerIds&&(S.stateDependentLayers=S.stateDependentLayerIds.map(P=>E.filter($=>$.id===P)[0]));for(const P of E)w[P.id]=S}}return w}(i.buckets,o.style),this.hasSymbolBuckets=!1;for(const f in this.buckets){const _=this.buckets[f];if(_ instanceof h.SymbolBucket){if(this.hasSymbolBuckets=!0,!c)break;_.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const f in this.buckets){const _=this.buckets[f];if(_ instanceof h.SymbolBucket&&_.hasRTLText){this.hasRTLText=!0,h.lazyLoadRTLTextPlugin();break}}this.queryPadding=0;for(const f in this.buckets){const _=this.buckets[f];this.queryPadding=Math.max(this.queryPadding,o.style.getLayer(f).queryRadius(_))}i.imageAtlas&&(this.imageAtlas=i.imageAtlas),i.glyphAtlasImage&&(this.glyphAtlasImage=i.glyphAtlasImage)}else this.collisionBoxArray=new h.CollisionBoxArray}unloadVectorData(){for(const i in this.buckets)this.buckets[i].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(i){return this.buckets[i.id]}upload(i){for(const c in this.buckets){const f=this.buckets[c];f.uploadPending()&&f.upload(i)}const o=i.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Xt(i,this.imageAtlas.image,o.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Xt(i,this.glyphAtlasImage,o.ALPHA),this.glyphAtlasImage=null)}prepare(i){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(i,this.imageAtlasTexture)}queryRenderedFeatures(i,o,c,f,_,w,S,E,P,$){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:f,cameraQueryGeometry:_,scale:w,tileSize:this.tileSize,pixelPosMatrix:$,transform:E,params:S,queryPadding:this.queryPadding*P},i,o,c):{}}querySourceFeatures(i,o){const c=this.latestFeatureIndex;if(!c||!c.rawTileData)return;const f=c.loadVTLayers(),_=o?o.sourceLayer:"",w=f._geojsonTileLayer||f[_];if(!w)return;const S=h.createFilter(o&&o.filter),{z:E,x:P,y:$}=this.tileID.canonical,O={z:E,x:P,y:$};for(let j=0;j<w.length;j++){const tt=w.feature(j);if(S.needGeometry){const ht=h.toEvaluationFeature(tt,!0);if(!S.filter(new h.EvaluationParameters(this.tileID.overscaledZ),ht,this.tileID.canonical))continue}else if(!S.filter(new h.EvaluationParameters(this.tileID.overscaledZ),tt))continue;const J=c.getId(tt,_),Q=new h.GeoJSONFeature(tt,E,P,$,J);Q.tile=O,i.push(Q)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(i){const o=this.expirationTime;if(i.cacheControl){const c=h.parseCacheControl(i.cacheControl);c["max-age"]&&(this.expirationTime=Date.now()+1e3*c["max-age"])}else i.expires&&(this.expirationTime=new Date(i.expires).getTime());if(this.expirationTime){const c=Date.now();let f=!1;if(this.expirationTime>c)f=!1;else if(o)if(this.expirationTime<o)f=!0;else{const _=this.expirationTime-o;_?this.expirationTime=c+Math.max(_,3e4):f=!0}else f=!0;f?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(i,o){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(i).length===0)return;const c=this.latestFeatureIndex.loadVTLayers();for(const f in this.buckets){if(!o.style.hasLayer(f))continue;const _=this.buckets[f],w=_.layers[0].sourceLayer||"_geojsonTileLayer",S=c[w],E=i[w];if(!S||!E||Object.keys(E).length===0)continue;_.update(E,S,this.imageAtlas&&this.imageAtlas.patternPositions||{});const P=o&&o.style&&o.style.getLayer(f);P&&(this.queryPadding=Math.max(this.queryPadding,P.queryRadius(_)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<h.exported.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(i){this.symbolFadeHoldUntil=h.exported.now()+i}setDependencies(i,o){const c={};for(const f of o)c[f]=!0;this.dependencies[i]=c}hasDependency(i,o){for(const c of i){const f=this.dependencies[c];if(f){for(const _ of o)if(f[_])return!0}}return!1}}class tn{constructor(i,o){this.max=i,this.onRemove=o,this.reset()}reset(){for(const i in this.data)for(const o of this.data[i])o.timeout&&clearTimeout(o.timeout),this.onRemove(o.value);return this.data={},this.order=[],this}add(i,o,c){const f=i.wrapped().key;this.data[f]===void 0&&(this.data[f]=[]);const _={value:o,timeout:void 0};if(c!==void 0&&(_.timeout=setTimeout(()=>{this.remove(i,_)},c)),this.data[f].push(_),this.order.push(f),this.order.length>this.max){const w=this._getAndRemoveByKey(this.order[0]);w&&this.onRemove(w)}return this}has(i){return i.wrapped().key in this.data}getAndRemove(i){return this.has(i)?this._getAndRemoveByKey(i.wrapped().key):null}_getAndRemoveByKey(i){const o=this.data[i].shift();return o.timeout&&clearTimeout(o.timeout),this.data[i].length===0&&delete this.data[i],this.order.splice(this.order.indexOf(i),1),o.value}getByKey(i){const o=this.data[i];return o?o[0].value:null}get(i){return this.has(i)?this.data[i.wrapped().key][0].value:null}remove(i,o){if(!this.has(i))return this;const c=i.wrapped().key,f=o===void 0?0:this.data[c].indexOf(o),_=this.data[c][f];return this.data[c].splice(f,1),_.timeout&&clearTimeout(_.timeout),this.data[c].length===0&&delete this.data[c],this.onRemove(_.value),this.order.splice(this.order.indexOf(c),1),this}setMaxSize(i){for(this.max=i;this.order.length>this.max;){const o=this._getAndRemoveByKey(this.order[0]);o&&this.onRemove(o)}return this}filter(i){const o=[];for(const c in this.data)for(const f of this.data[c])i(f.value)||o.push(f);for(const c of o)this.remove(c.value.tileID,c)}}class _s{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(i,o,c){const f=String(o);if(this.stateChanges[i]=this.stateChanges[i]||{},this.stateChanges[i][f]=this.stateChanges[i][f]||{},h.extend(this.stateChanges[i][f],c),this.deletedStates[i]===null){this.deletedStates[i]={};for(const _ in this.state[i])_!==f&&(this.deletedStates[i][_]=null)}else if(this.deletedStates[i]&&this.deletedStates[i][f]===null){this.deletedStates[i][f]={};for(const _ in this.state[i][f])c[_]||(this.deletedStates[i][f][_]=null)}else for(const _ in c)this.deletedStates[i]&&this.deletedStates[i][f]&&this.deletedStates[i][f][_]===null&&delete this.deletedStates[i][f][_]}removeFeatureState(i,o,c){if(this.deletedStates[i]===null)return;const f=String(o);if(this.deletedStates[i]=this.deletedStates[i]||{},c&&o!==void 0)this.deletedStates[i][f]!==null&&(this.deletedStates[i][f]=this.deletedStates[i][f]||{},this.deletedStates[i][f][c]=null);else if(o!==void 0)if(this.stateChanges[i]&&this.stateChanges[i][f])for(c in this.deletedStates[i][f]={},this.stateChanges[i][f])this.deletedStates[i][f][c]=null;else this.deletedStates[i][f]=null;else this.deletedStates[i]=null}getState(i,o){const c=String(o),f=h.extend({},(this.state[i]||{})[c],(this.stateChanges[i]||{})[c]);if(this.deletedStates[i]===null)return{};if(this.deletedStates[i]){const _=this.deletedStates[i][o];if(_===null)return{};for(const w in _)delete f[w]}return f}initializeTileState(i,o){i.setFeatureState(this.state,o)}coalesceChanges(i,o){const c={};for(const f in this.stateChanges){this.state[f]=this.state[f]||{};const _={};for(const w in this.stateChanges[f])this.state[f][w]||(this.state[f][w]={}),h.extend(this.state[f][w],this.stateChanges[f][w]),_[w]=this.state[f][w];c[f]=_}for(const f in this.deletedStates){this.state[f]=this.state[f]||{};const _={};if(this.deletedStates[f]===null)for(const w in this.state[f])_[w]={},this.state[f][w]={};else for(const w in this.deletedStates[f]){if(this.deletedStates[f][w]===null)this.state[f][w]={};else for(const S of Object.keys(this.deletedStates[f][w]))delete this.state[f][w][S];_[w]=this.state[f][w]}c[f]=c[f]||{},h.extend(c[f],_)}if(this.stateChanges={},this.deletedStates={},Object.keys(c).length!==0)for(const f in i)i[f].setFeatureState(c,o)}}class Qe extends h.Evented{constructor(i,o,c){super(),this.id=i,this.dispatcher=c,this.on("data",f=>{f.dataType==="source"&&f.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&f.dataType==="source"&&f.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain))}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=function(f,_,w,S){const E=new Qi[_.type](f,_,w,S);if(E.id!==f)throw new Error(`Expected Source id to be ${f} instead of ${E.id}`);return h.bindAll(["load","abort","unload","serialize","prepare"],E),E}(i,o,c,this),this._tiles={},this._cache=new tn(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new _s}onAdd(i){this.map=i,this._maxTileCacheSize=i?i._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(i)}onRemove(i){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(i)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const i in this._tiles){const o=this._tiles[i];if(o.state!=="loaded"&&o.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const i=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,i&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(i,o){return this._source.loadTile(i,o)}_unloadTile(i){if(this._source.unloadTile)return this._source.unloadTile(i,()=>{})}_abortTile(i){this._source.abortTile&&this._source.abortTile(i,()=>{}),this._source.fire(new h.Event("dataabort",{tile:i,coord:i.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(i){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const o in this._tiles){const c=this._tiles[o];c.upload(i),c.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(i=>i.tileID).sort($e).map(i=>i.key)}getRenderableIds(i){const o=[];for(const c in this._tiles)this._isIdRenderable(c,i)&&o.push(this._tiles[c]);return i?o.sort((c,f)=>{const _=c.tileID,w=f.tileID,S=new h.pointGeometry(_.canonical.x,_.canonical.y)._rotate(this.transform.angle),E=new h.pointGeometry(w.canonical.x,w.canonical.y)._rotate(this.transform.angle);return _.overscaledZ-w.overscaledZ||E.y-S.y||E.x-S.x}).map(c=>c.tileID.key):o.map(c=>c.tileID).sort($e).map(c=>c.key)}hasRenderableParent(i){const o=this.findLoadedParent(i,0);return!!o&&this._isIdRenderable(o.tileID.key)}_isIdRenderable(i,o){return this._tiles[i]&&this._tiles[i].hasData()&&!this._coveredTiles[i]&&(o||!this._tiles[i].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const i in this._tiles)this._tiles[i].state!=="errored"&&this._reloadTile(i,"reloading")}}_reloadTile(i,o){const c=this._tiles[i];c&&(c.state!=="loading"&&(c.state=o),this._loadTile(c,this._tileLoaded.bind(this,c,i,o)))}_tileLoaded(i,o,c,f){if(f)return i.state="errored",void(f.status!==404?this._source.fire(new h.ErrorEvent(f,{tile:i})):this.update(this.transform,this.terrain));i.timeAdded=h.exported.now(),c==="expired"&&(i.refreshedUponExpiration=!0),this._setTileReloadTimer(o,i),this.getSource().type==="raster-dem"&&i.dem&&this._backfillDEM(i),this._state.initializeTileState(i,this.map?this.map.painter:null),i.aborted||this._source.fire(new h.Event("data",{dataType:"source",tile:i,coord:i.tileID}))}_backfillDEM(i){const o=this.getRenderableIds();for(let f=0;f<o.length;f++){const _=o[f];if(i.neighboringTiles&&i.neighboringTiles[_]){const w=this.getTileByID(_);c(i,w),c(w,i)}}function c(f,_){f.needsHillshadePrepare=!0,f.needsTerrainPrepare=!0;let w=_.tileID.canonical.x-f.tileID.canonical.x;const S=_.tileID.canonical.y-f.tileID.canonical.y,E=Math.pow(2,f.tileID.canonical.z),P=_.tileID.key;w===0&&S===0||Math.abs(S)>1||(Math.abs(w)>1&&(Math.abs(w+E)===1?w+=E:Math.abs(w-E)===1&&(w-=E)),_.dem&&f.dem&&(f.dem.backfillBorder(_.dem,w,S),f.neighboringTiles&&f.neighboringTiles[P]&&(f.neighboringTiles[P].backfilled=!0)))}}getTile(i){return this.getTileByID(i.key)}getTileByID(i){return this._tiles[i]}_retainLoadedChildren(i,o,c,f){for(const _ in this._tiles){let w=this._tiles[_];if(f[_]||!w.hasData()||w.tileID.overscaledZ<=o||w.tileID.overscaledZ>c)continue;let S=w.tileID;for(;w&&w.tileID.overscaledZ>o+1;){const P=w.tileID.scaledTo(w.tileID.overscaledZ-1);w=this._tiles[P.key],w&&w.hasData()&&(S=P)}let E=S;for(;E.overscaledZ>o;)if(E=E.scaledTo(E.overscaledZ-1),i[E.key]){f[S.key]=S;break}}}findLoadedParent(i,o){if(i.key in this._loadedParentTiles){const c=this._loadedParentTiles[i.key];return c&&c.tileID.overscaledZ>=o?c:null}for(let c=i.overscaledZ-1;c>=o;c--){const f=i.scaledTo(c),_=this._getLoadedTile(f);if(_)return _}}_getLoadedTile(i){const o=this._tiles[i.key];return o&&o.hasData()?o:this._cache.getByKey(i.wrapped().key)}updateCacheSize(i){const o=Math.ceil(i.width/this._source.tileSize)+1,c=Math.ceil(i.height/this._source.tileSize)+1,f=Math.floor(o*c*5),_=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,f):f;this._cache.setMaxSize(_)}handleWrapJump(i){const o=Math.round((i-(this._prevLng===void 0?i:this._prevLng))/360);if(this._prevLng=i,o){const c={};for(const f in this._tiles){const _=this._tiles[f];_.tileID=_.tileID.unwrapTo(_.tileID.wrap+o),c[_.tileID.key]=_}this._tiles=c;for(const f in this._timers)clearTimeout(this._timers[f]),delete this._timers[f];for(const f in this._tiles)this._setTileReloadTimer(f,this._tiles[f])}}update(i,o){if(this.transform=i,this.terrain=o,!this._sourceLoaded||this._paused)return;let c;this.updateCacheSize(i),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?c=i.getVisibleUnwrappedCoordinates(this._source.tileID).map(P=>new h.OverscaledTileID(P.canonical.z,P.wrap,P.canonical.z,P.canonical.x,P.canonical.y)):(c=i.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:o}),this._source.hasTile&&(c=c.filter(P=>this._source.hasTile(P)))):c=[];const f=i.coveringZoomLevel(this._source),_=Math.max(f-Qe.maxOverzooming,this._source.minzoom),w=Math.max(f+Qe.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const P={};for(const $ of c)if($.canonical.z>this._source.minzoom){const O=$.scaledTo($.canonical.z-1);P[O.key]=O;const j=$.scaledTo(Math.max(this._source.minzoom,Math.min($.canonical.z,5)));P[j.key]=j}c=c.concat(Object.values(P))}const S=this._updateRetainedTiles(c,f);if(xs(this._source.type)){const P={},$={},O=Object.keys(S);for(const j of O){const tt=S[j],J=this._tiles[j];if(!J||J.fadeEndTime&&J.fadeEndTime<=h.exported.now())continue;const Q=this.findLoadedParent(tt,_);Q&&(this._addTile(Q.tileID),P[Q.tileID.key]=Q.tileID),$[j]=tt}this._retainLoadedChildren($,f,w,S);for(const j in P)S[j]||(this._coveredTiles[j]=!0,S[j]=P[j]);if(o){const j={},tt={};for(const J of c)this._tiles[J.key].hasData()?j[J.key]=J:tt[J.key]=J;for(const J in tt){const Q=tt[J].children(this._source.maxzoom);this._tiles[Q[0].key]&&this._tiles[Q[1].key]&&this._tiles[Q[2].key]&&this._tiles[Q[3].key]&&(j[Q[0].key]=S[Q[0].key]=Q[0],j[Q[1].key]=S[Q[1].key]=Q[1],j[Q[2].key]=S[Q[2].key]=Q[2],j[Q[3].key]=S[Q[3].key]=Q[3],delete tt[J])}for(const J in tt){const Q=this.findLoadedParent(tt[J],this._source.minzoom);if(Q){j[Q.tileID.key]=S[Q.tileID.key]=Q.tileID;for(const ht in j)j[ht].isChildOf(Q.tileID)&&delete j[ht]}}for(const J in this._tiles)j[J]||(this._coveredTiles[J]=!0)}}for(const P in S)this._tiles[P].clearFadeHold();const E=h.keysDifference(this._tiles,S);for(const P of E){const $=this._tiles[P];$.hasSymbolBuckets&&!$.holdingForFade()?$.setHoldDuration(this.map._fadeDuration):$.hasSymbolBuckets&&!$.symbolFadeFinished()||this._removeTile(P)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const i in this._tiles)this._tiles[i].holdingForFade()&&this._removeTile(i)}_updateRetainedTiles(i,o){const c={},f={},_=Math.max(o-Qe.maxOverzooming,this._source.minzoom),w=Math.max(o+Qe.maxUnderzooming,this._source.minzoom),S={};for(const E of i){const P=this._addTile(E);c[E.key]=E,P.hasData()||o<this._source.maxzoom&&(S[E.key]=E)}this._retainLoadedChildren(S,o,w,c);for(const E of i){let P=this._tiles[E.key];if(P.hasData())continue;if(o+1>this._source.maxzoom){const O=E.children(this._source.maxzoom)[0],j=this.getTile(O);if(j&&j.hasData()){c[O.key]=O;continue}}else{const O=E.children(this._source.maxzoom);if(c[O[0].key]&&c[O[1].key]&&c[O[2].key]&&c[O[3].key])continue}let $=P.wasRequested();for(let O=E.overscaledZ-1;O>=_;--O){const j=E.scaledTo(O);if(f[j.key]||(f[j.key]=!0,P=this.getTile(j),!P&&$&&(P=this._addTile(j)),P&&(c[j.key]=j,$=P.wasRequested(),P.hasData())))break}}return c}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const i in this._tiles){const o=[];let c,f=this._tiles[i].tileID;for(;f.overscaledZ>0;){if(f.key in this._loadedParentTiles){c=this._loadedParentTiles[f.key];break}o.push(f.key);const _=f.scaledTo(f.overscaledZ-1);if(c=this._getLoadedTile(_),c)break;f=_}for(const _ of o)this._loadedParentTiles[_]=c}}_addTile(i){let o=this._tiles[i.key];if(o)return o;o=this._cache.getAndRemove(i),o&&(this._setTileReloadTimer(i.key,o),o.tileID=i,this._state.initializeTileState(o,this.map?this.map.painter:null),this._cacheTimers[i.key]&&(clearTimeout(this._cacheTimers[i.key]),delete this._cacheTimers[i.key],this._setTileReloadTimer(i.key,o)));const c=o;return o||(o=new hn(i,this._source.tileSize*i.overscaleFactor()),this._loadTile(o,this._tileLoaded.bind(this,o,i.key,o.state))),o.uses++,this._tiles[i.key]=o,c||this._source.fire(new h.Event("dataloading",{tile:o,coord:o.tileID,dataType:"source"})),o}_setTileReloadTimer(i,o){i in this._timers&&(clearTimeout(this._timers[i]),delete this._timers[i]);const c=o.getExpiryTimeout();c&&(this._timers[i]=setTimeout(()=>{this._reloadTile(i,"expired"),delete this._timers[i]},c))}_removeTile(i){const o=this._tiles[i];o&&(o.uses--,delete this._tiles[i],this._timers[i]&&(clearTimeout(this._timers[i]),delete this._timers[i]),o.uses>0||(o.hasData()&&o.state!=="reloading"?this._cache.add(o.tileID,o,o.getExpiryTimeout()):(o.aborted=!0,this._abortTile(o),this._unloadTile(o))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const i in this._tiles)this._removeTile(i);this._cache.reset()}tilesIn(i,o,c){const f=[],_=this.transform;if(!_)return f;const w=c?_.getCameraQueryGeometry(i):i,S=i.map(J=>_.pointCoordinate(J,this.terrain)),E=w.map(J=>_.pointCoordinate(J,this.terrain)),P=this.getIds();let $=1/0,O=1/0,j=-1/0,tt=-1/0;for(const J of E)$=Math.min($,J.x),O=Math.min(O,J.y),j=Math.max(j,J.x),tt=Math.max(tt,J.y);for(let J=0;J<P.length;J++){const Q=this._tiles[P[J]];if(Q.holdingForFade())continue;const ht=Q.tileID,mt=Math.pow(2,_.zoom-Q.tileID.overscaledZ),xt=o*Q.queryPadding*h.EXTENT/Q.tileSize/mt,it=[ht.getTilePoint(new h.MercatorCoordinate($,O)),ht.getTilePoint(new h.MercatorCoordinate(j,tt))];if(it[0].x-xt<h.EXTENT&&it[0].y-xt<h.EXTENT&&it[1].x+xt>=0&&it[1].y+xt>=0){const Et=S.map($t=>ht.getTilePoint($t)),wt=E.map($t=>ht.getTilePoint($t));f.push({tile:Q,tileID:ht,queryGeometry:Et,cameraQueryGeometry:wt,scale:mt})}}return f}getVisibleCoordinates(i){const o=this.getRenderableIds(i).map(c=>this._tiles[c].tileID);for(const c of o)c.posMatrix=this.transform.calculatePosMatrix(c.toUnwrapped());return o}hasTransition(){if(this._source.hasTransition())return!0;if(xs(this._source.type))for(const i in this._tiles){const o=this._tiles[i];if(o.fadeEndTime!==void 0&&o.fadeEndTime>=h.exported.now())return!0}return!1}setFeatureState(i,o,c){this._state.updateState(i=i||"_geojsonTileLayer",o,c)}removeFeatureState(i,o,c){this._state.removeFeatureState(i=i||"_geojsonTileLayer",o,c)}getFeatureState(i,o){return this._state.getState(i=i||"_geojsonTileLayer",o)}setDependencies(i,o,c){const f=this._tiles[i];f&&f.setDependencies(o,c)}reloadTilesForDependencies(i,o){for(const c in this._tiles)this._tiles[c].hasDependency(i,o)&&this._reloadTile(c,"reloading");this._cache.filter(c=>!c.hasDependency(i,o))}}function $e(d,i){const o=Math.abs(2*d.wrap)-+(d.wrap<0),c=Math.abs(2*i.wrap)-+(i.wrap<0);return d.overscaledZ-i.overscaledZ||c-o||i.canonical.y-d.canonical.y||i.canonical.x-d.canonical.x}function xs(d){return d==="raster"||d==="image"||d==="video"}Qe.maxOverzooming=10,Qe.maxUnderzooming=3;const at="mapboxgl_preloaded_worker_pool";class ft{constructor(){this.active={}}acquire(i){if(!this.workers)for(this.workers=[];this.workers.length<ft.workerCount;)this.workers.push(new Worker(uo.workerUrl));return this.active[i]=!0,this.workers.slice()}release(i){delete this.active[i],this.numActive()===0&&(this.workers.forEach(o=>{o.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[at]}numActive(){return Object.keys(this.active).length}}const Rt=Math.floor(h.exported.hardwareConcurrency/2);let Gt;function qt(){return Gt||(Gt=new ft),Gt}function Yt(d,i){const o={};for(const c in d)c!=="ref"&&(o[c]=d[c]);return h.refProperties.forEach(c=>{c in i&&(o[c]=i[c])}),o}function Qt(d){d=d.slice();const i=Object.create(null);for(let o=0;o<d.length;o++)i[d[o].id]=d[o];for(let o=0;o<d.length;o++)"ref"in d[o]&&(d[o]=Yt(d[o],i[d[o].ref]));return d}ft.workerCount=Math.max(Math.min(Rt,6),1);const Ft={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function bt(d,i,o){o.push({command:Ft.addSource,args:[d,i[d]]})}function jt(d,i,o){i.push({command:Ft.removeSource,args:[d]}),o[d]=!0}function Se(d,i,o,c){jt(d,o,c),bt(d,i,o)}function ie(d,i,o){let c;for(c in d[o])if(Object.prototype.hasOwnProperty.call(d[o],c)&&c!=="data"&&!Lt(d[o][c],i[o][c]))return!1;for(c in i[o])if(Object.prototype.hasOwnProperty.call(i[o],c)&&c!=="data"&&!Lt(d[o][c],i[o][c]))return!1;return!0}function Be(d,i,o,c,f,_){let w;for(w in i=i||{},d=d||{})Object.prototype.hasOwnProperty.call(d,w)&&(Lt(d[w],i[w])||o.push({command:_,args:[c,w,i[w],f]}));for(w in i)Object.prototype.hasOwnProperty.call(i,w)&&!Object.prototype.hasOwnProperty.call(d,w)&&(Lt(d[w],i[w])||o.push({command:_,args:[c,w,i[w],f]}))}function Ve(d){return d.id}function pe(d,i){return d[i.id]=i,d}class ci{constructor(i,o){this.reset(i,o)}reset(i,o){this.points=i||[],this._distances=[0];for(let c=1;c<this.points.length;c++)this._distances[c]=this._distances[c-1]+this.points[c].dist(this.points[c-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(o||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(i){if(this.points.length===1)return this.points[0];i=h.clamp(i,0,1);let o=1,c=this._distances[o];const f=i*this.paddedLength+this.padding;for(;c<f&&o<this._distances.length;)c=this._distances[++o];const _=o-1,w=this._distances[_],S=c-w,E=S>0?(f-w)/S:0;return this.points[_].mult(1-E).add(this.points[o].mult(E))}}function vt(d,i){let o=!0;return d==="always"||d!=="never"&&i!=="never"||(o=!1),o}class Zt{constructor(i,o,c){const f=this.boxCells=[],_=this.circleCells=[];this.xCellCount=Math.ceil(i/c),this.yCellCount=Math.ceil(o/c);for(let w=0;w<this.xCellCount*this.yCellCount;w++)f.push([]),_.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=i,this.height=o,this.xScale=this.xCellCount/i,this.yScale=this.yCellCount/o,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(i,o,c,f,_){this._forEachCell(o,c,f,_,this._insertBoxCell,this.boxUid++),this.boxKeys.push(i),this.bboxes.push(o),this.bboxes.push(c),this.bboxes.push(f),this.bboxes.push(_)}insertCircle(i,o,c,f){this._forEachCell(o-f,c-f,o+f,c+f,this._insertCircleCell,this.circleUid++),this.circleKeys.push(i),this.circles.push(o),this.circles.push(c),this.circles.push(f)}_insertBoxCell(i,o,c,f,_,w){this.boxCells[_].push(w)}_insertCircleCell(i,o,c,f,_,w){this.circleCells[_].push(w)}_query(i,o,c,f,_,w,S){if(c<0||i>this.width||f<0||o>this.height)return[];const E=[];if(i<=0&&o<=0&&this.width<=c&&this.height<=f){if(_)return[{key:null,x1:i,y1:o,x2:c,y2:f}];for(let P=0;P<this.boxKeys.length;P++)E.push({key:this.boxKeys[P],x1:this.bboxes[4*P],y1:this.bboxes[4*P+1],x2:this.bboxes[4*P+2],y2:this.bboxes[4*P+3]});for(let P=0;P<this.circleKeys.length;P++){const $=this.circles[3*P],O=this.circles[3*P+1],j=this.circles[3*P+2];E.push({key:this.circleKeys[P],x1:$-j,y1:O-j,x2:$+j,y2:O+j})}}else this._forEachCell(i,o,c,f,this._queryCell,E,{hitTest:_,overlapMode:w,seenUids:{box:{},circle:{}}},S);return E}query(i,o,c,f){return this._query(i,o,c,f,!1,null)}hitTest(i,o,c,f,_,w){return this._query(i,o,c,f,!0,_,w).length>0}hitTestCircle(i,o,c,f,_){const w=i-c,S=i+c,E=o-c,P=o+c;if(S<0||w>this.width||P<0||E>this.height)return!1;const $=[];return this._forEachCell(w,E,S,P,this._queryCellCircle,$,{hitTest:!0,overlapMode:f,circle:{x:i,y:o,radius:c},seenUids:{box:{},circle:{}}},_),$.length>0}_queryCell(i,o,c,f,_,w,S,E){const{seenUids:P,hitTest:$,overlapMode:O}=S,j=this.boxCells[_];if(j!==null){const J=this.bboxes;for(const Q of j)if(!P.box[Q]){P.box[Q]=!0;const ht=4*Q,mt=this.boxKeys[Q];if(i<=J[ht+2]&&o<=J[ht+3]&&c>=J[ht+0]&&f>=J[ht+1]&&(!E||E(mt))&&(!$||!vt(O,mt.overlapMode))&&(w.push({key:mt,x1:J[ht],y1:J[ht+1],x2:J[ht+2],y2:J[ht+3]}),$))return!0}}const tt=this.circleCells[_];if(tt!==null){const J=this.circles;for(const Q of tt)if(!P.circle[Q]){P.circle[Q]=!0;const ht=3*Q,mt=this.circleKeys[Q];if(this._circleAndRectCollide(J[ht],J[ht+1],J[ht+2],i,o,c,f)&&(!E||E(mt))&&(!$||!vt(O,mt.overlapMode))){const xt=J[ht],it=J[ht+1],Et=J[ht+2];if(w.push({key:mt,x1:xt-Et,y1:it-Et,x2:xt+Et,y2:it+Et}),$)return!0}}}return!1}_queryCellCircle(i,o,c,f,_,w,S,E){const{circle:P,seenUids:$,overlapMode:O}=S,j=this.boxCells[_];if(j!==null){const J=this.bboxes;for(const Q of j)if(!$.box[Q]){$.box[Q]=!0;const ht=4*Q,mt=this.boxKeys[Q];if(this._circleAndRectCollide(P.x,P.y,P.radius,J[ht+0],J[ht+1],J[ht+2],J[ht+3])&&(!E||E(mt))&&!vt(O,mt.overlapMode))return w.push(!0),!0}}const tt=this.circleCells[_];if(tt!==null){const J=this.circles;for(const Q of tt)if(!$.circle[Q]){$.circle[Q]=!0;const ht=3*Q,mt=this.circleKeys[Q];if(this._circlesCollide(J[ht],J[ht+1],J[ht+2],P.x,P.y,P.radius)&&(!E||E(mt))&&!vt(O,mt.overlapMode))return w.push(!0),!0}}}_forEachCell(i,o,c,f,_,w,S,E){const P=this._convertToXCellCoord(i),$=this._convertToYCellCoord(o),O=this._convertToXCellCoord(c),j=this._convertToYCellCoord(f);for(let tt=P;tt<=O;tt++)for(let J=$;J<=j;J++)if(_.call(this,i,o,c,f,this.xCellCount*J+tt,w,S,E))return}_convertToXCellCoord(i){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(i*this.xScale)))}_convertToYCellCoord(i){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(i*this.yScale)))}_circlesCollide(i,o,c,f,_,w){const S=f-i,E=_-o,P=c+w;return P*P>S*S+E*E}_circleAndRectCollide(i,o,c,f,_,w,S){const E=(w-f)/2,P=Math.abs(i-(f+E));if(P>E+c)return!1;const $=(S-_)/2,O=Math.abs(o-(_+$));if(O>$+c)return!1;if(P<=E||O<=$)return!0;const j=P-E,tt=O-$;return j*j+tt*tt<=c*c}}function en(d,i,o,c,f){const _=h.create();return i?(h.scale(_,_,[1/f,1/f,1]),o||h.rotateZ(_,_,c.angle)):h.multiply(_,c.labelPlaneMatrix,d),_}function we(d,i,o,c,f){if(i){const _=h.clone(d);return h.scale(_,_,[f,f,1]),o||h.rotateZ(_,_,-c.angle),_}return c.glCoordMatrix}function ai(d,i,o){let c;o?(c=[d.x,d.y,o(d.x,d.y),1],h.transformMat4(c,c,i)):(c=[d.x,d.y,0,1],pr(c,c,i));const f=c[3];return{point:new h.pointGeometry(c[0]/f,c[1]/f),signedDistanceFromCamera:f}}function Oe(d,i){return .5+d/i*.5}function fi(d,i){const o=d[0]/d[3],c=d[1]/d[3];return o>=-i[0]&&o<=i[0]&&c>=-i[1]&&c<=i[1]}function oe(d,i,o,c,f,_,w,S,E,P){const $=c?d.textSizeData:d.iconSizeData,O=h.evaluateSizeForZoom($,o.transform.zoom),j=[256/o.width*2+1,256/o.height*2+1],tt=c?d.text.dynamicLayoutVertexArray:d.icon.dynamicLayoutVertexArray;tt.clear();const J=d.lineVertexArray,Q=c?d.text.placedSymbolArray:d.icon.placedSymbolArray,ht=o.transform.width/o.transform.height;let mt=!1;for(let xt=0;xt<Q.length;xt++){const it=Q.get(xt);if(it.hidden||it.writingMode===h.WritingMode.vertical&&!mt){qe(it.numGlyphs,tt);continue}let Et;if(mt=!1,P?(Et=[it.anchorX,it.anchorY,P(it.anchorX,it.anchorY),1],h.transformMat4(Et,Et,i)):(Et=[it.anchorX,it.anchorY,0,1],pr(Et,Et,i)),!fi(Et,j)){qe(it.numGlyphs,tt);continue}const wt=Oe(o.transform.cameraToCenterDistance,Et[3]),$t=h.evaluateSizeForFeature($,O,it),Dt=w?$t/wt:$t*wt,Wt=new h.pointGeometry(it.anchorX,it.anchorY),zt=ai(Wt,f,P).point,fe={},se=Xe(it,Dt,!1,S,i,f,_,d.glyphOffsetArray,J,tt,zt,Wt,fe,ht,E,P);mt=se.useVertical,(se.notEnoughRoom||mt||se.needsFlipping&&Xe(it,Dt,!0,S,i,f,_,d.glyphOffsetArray,J,tt,zt,Wt,fe,ht,E,P).notEnoughRoom)&&qe(it.numGlyphs,tt)}c?d.text.dynamicLayoutVertexBuffer.updateData(tt):d.icon.dynamicLayoutVertexBuffer.updateData(tt)}function Zi(d,i,o,c,f,_,w,S,E,P,$,O,j){const tt=S.glyphStartIndex+S.numGlyphs,J=S.lineStartIndex,Q=S.lineStartIndex+S.lineLength,ht=i.getoffsetX(S.glyphStartIndex),mt=i.getoffsetX(tt-1),xt=nn(d*ht,o,c,f,_,w,S.segment,J,Q,E,P,$,O,j);if(!xt)return null;const it=nn(d*mt,o,c,f,_,w,S.segment,J,Q,E,P,$,O,j);return it?{first:xt,last:it}:null}function Pt(d,i,o,c){return d===h.WritingMode.horizontal&&Math.abs(o.y-i.y)>Math.abs(o.x-i.x)*c?{useVertical:!0}:(d===h.WritingMode.vertical?i.y<o.y:i.x>o.x)?{needsFlipping:!0}:null}function Xe(d,i,o,c,f,_,w,S,E,P,$,O,j,tt,J,Q){const ht=i/24,mt=d.lineOffsetX*ht,xt=d.lineOffsetY*ht;let it;if(d.numGlyphs>1){const Et=d.glyphStartIndex+d.numGlyphs,wt=d.lineStartIndex,$t=d.lineStartIndex+d.lineLength,Dt=Zi(ht,S,mt,xt,o,$,O,d,E,_,j,J,Q);if(!Dt)return{notEnoughRoom:!0};const Wt=ai(Dt.first.point,w,Q).point,zt=ai(Dt.last.point,w,Q).point;if(c&&!o){const fe=Pt(d.writingMode,Wt,zt,tt);if(fe)return fe}it=[Dt.first];for(let fe=d.glyphStartIndex+1;fe<Et-1;fe++)it.push(nn(ht*S.getoffsetX(fe),mt,xt,o,$,O,d.segment,wt,$t,E,_,j,J,Q));it.push(Dt.last)}else{if(c&&!o){const wt=ai(O,f,Q).point,$t=d.lineStartIndex+d.segment+1,Dt=new h.pointGeometry(E.getx($t),E.gety($t)),Wt=ai(Dt,f,Q),zt=Wt.signedDistanceFromCamera>0?Wt.point:Pe(O,Dt,wt,1,f,Q),fe=Pt(d.writingMode,wt,zt,tt);if(fe)return fe}const Et=nn(ht*S.getoffsetX(d.glyphStartIndex),mt,xt,o,$,O,d.segment,d.lineStartIndex,d.lineStartIndex+d.lineLength,E,_,j,J,Q);if(!Et)return{notEnoughRoom:!0};it=[Et]}for(const Et of it)h.addDynamicAttributes(P,Et.point,Et.angle);return{}}function Pe(d,i,o,c,f,_){const w=ai(d.add(d.sub(i)._unit()),f,_).point,S=o.sub(w);return o.add(S._mult(c/S.mag()))}function nn(d,i,o,c,f,_,w,S,E,P,$,O,j,tt){const J=c?d-i:d+i;let Q=J>0?1:-1,ht=0;c&&(Q*=-1,ht=Math.PI),Q<0&&(ht+=Math.PI);let mt=Q>0?S+w:S+w+1,xt=f,it=f,Et=0,wt=0;const $t=Math.abs(J),Dt=[];for(;Et+wt<=$t;){if(mt+=Q,mt<S||mt>=E)return null;if(it=xt,Dt.push(xt),xt=O[mt],xt===void 0){const ye=new h.pointGeometry(P.getx(mt),P.gety(mt)),ni=ai(ye,$,tt);if(ni.signedDistanceFromCamera>0)xt=O[mt]=ni.point;else{const di=mt-Q;xt=Pe(Et===0?_:new h.pointGeometry(P.getx(di),P.gety(di)),ye,it,$t-Et+1,$,tt)}}Et+=wt,wt=it.dist(xt)}const Wt=($t-Et)/wt,zt=xt.sub(it),fe=zt.mult(Wt)._add(it);fe._add(zt._unit()._perp()._mult(o*Q));const se=ht+Math.atan2(xt.y-it.y,xt.x-it.x);return Dt.push(fe),{point:fe,angle:j?se:0,path:Dt}}const Ss=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function qe(d,i){for(let o=0;o<d;o++){const c=i.length;i.resize(c+4),i.float32.set(Ss,3*c)}}function pr(d,i,o){const c=i[0],f=i[1];return d[0]=o[0]*c+o[4]*f+o[12],d[1]=o[1]*c+o[5]*f+o[13],d[3]=o[3]*c+o[7]*f+o[15],d}const Tn=100;class Pr{constructor(i,o=new Zt(i.width+200,i.height+200,25),c=new Zt(i.width+200,i.height+200,25)){this.transform=i,this.grid=o,this.ignoredGrid=c,this.pitchfactor=Math.cos(i._pitch)*i.cameraToCenterDistance,this.screenRightBoundary=i.width+Tn,this.screenBottomBoundary=i.height+Tn,this.gridRightBoundary=i.width+200,this.gridBottomBoundary=i.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(i,o,c,f,_,w){const S=this.projectAndGetPerspectiveRatio(f,i.anchorPointX,i.anchorPointY,w),E=c*S.perspectiveRatio,P=i.x1*E+S.point.x,$=i.y1*E+S.point.y,O=i.x2*E+S.point.x,j=i.y2*E+S.point.y;return!this.isInsideGrid(P,$,O,j)||o!=="always"&&this.grid.hitTest(P,$,O,j,o,_)||S.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[P,$,O,j],offscreen:this.isOffscreen(P,$,O,j)}}placeCollisionCircles(i,o,c,f,_,w,S,E,P,$,O,j,tt,J){const Q=[],ht=new h.pointGeometry(o.anchorX,o.anchorY),mt=ai(ht,w,J),xt=Oe(this.transform.cameraToCenterDistance,mt.signedDistanceFromCamera),it=($?_/xt:_*xt)/h.ONE_EM,Et=ai(ht,S,J).point,wt=Zi(it,f,o.lineOffsetX*it,o.lineOffsetY*it,!1,Et,ht,o,c,S,{},!1,J);let $t=!1,Dt=!1,Wt=!0;if(wt){const zt=.5*j*xt+tt,fe=new h.pointGeometry(-100,-100),se=new h.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),ye=new ci,ni=wt.first,di=wt.last;let Le=[];for(let ki=ni.path.length-1;ki>=1;ki--)Le.push(ni.path[ki]);for(let ki=1;ki<di.path.length;ki++)Le.push(di.path[ki]);const Ii=2.5*zt;if(E){const ki=Le.map(wi=>ai(wi,E,J));Le=ki.some(wi=>wi.signedDistanceFromCamera<=0)?[]:ki.map(wi=>wi.point)}let Ke=[];if(Le.length>0){const ki=Le[0].clone(),wi=Le[0].clone();for(let qi=1;qi<Le.length;qi++)ki.x=Math.min(ki.x,Le[qi].x),ki.y=Math.min(ki.y,Le[qi].y),wi.x=Math.max(wi.x,Le[qi].x),wi.y=Math.max(wi.y,Le[qi].y);Ke=ki.x>=fe.x&&wi.x<=se.x&&ki.y>=fe.y&&wi.y<=se.y?[Le]:wi.x<fe.x||ki.x>se.x||wi.y<fe.y||ki.y>se.y?[]:h.clipLine([Le],fe.x,fe.y,se.x,se.y)}for(const ki of Ke){ye.reset(ki,.25*zt);let wi=0;wi=ye.length<=.5*zt?1:Math.ceil(ye.paddedLength/Ii)+1;for(let qi=0;qi<wi;qi++){const Dn=qi/Math.max(wi-1,1),or=ye.lerp(Dn),jn=or.x+Tn,ar=or.y+Tn;Q.push(jn,ar,zt,0);const Vr=jn-zt,Ls=ar-zt,ds=jn+zt,vr=ar+zt;if(Wt=Wt&&this.isOffscreen(Vr,Ls,ds,vr),Dt=Dt||this.isInsideGrid(Vr,Ls,ds,vr),i!=="always"&&this.grid.hitTestCircle(jn,ar,zt,i,O)&&($t=!0,!P))return{circles:[],offscreen:!1,collisionDetected:$t}}}}return{circles:!P&&$t||!Dt||xt<this.perspectiveRatioCutoff?[]:Q,offscreen:Wt,collisionDetected:$t}}queryRenderedSymbols(i){if(i.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const o=[];let c=1/0,f=1/0,_=-1/0,w=-1/0;for(const $ of i){const O=new h.pointGeometry($.x+Tn,$.y+Tn);c=Math.min(c,O.x),f=Math.min(f,O.y),_=Math.max(_,O.x),w=Math.max(w,O.y),o.push(O)}const S=this.grid.query(c,f,_,w).concat(this.ignoredGrid.query(c,f,_,w)),E={},P={};for(const $ of S){const O=$.key;if(E[O.bucketInstanceId]===void 0&&(E[O.bucketInstanceId]={}),E[O.bucketInstanceId][O.featureIndex])continue;const j=[new h.pointGeometry($.x1,$.y1),new h.pointGeometry($.x2,$.y1),new h.pointGeometry($.x2,$.y2),new h.pointGeometry($.x1,$.y2)];h.polygonIntersectsPolygon(o,j)&&(E[O.bucketInstanceId][O.featureIndex]=!0,P[O.bucketInstanceId]===void 0&&(P[O.bucketInstanceId]=[]),P[O.bucketInstanceId].push(O.featureIndex))}return P}insertCollisionBox(i,o,c,f,_,w){(c?this.ignoredGrid:this.grid).insert({bucketInstanceId:f,featureIndex:_,collisionGroupID:w,overlapMode:o},i[0],i[1],i[2],i[3])}insertCollisionCircles(i,o,c,f,_,w){const S=c?this.ignoredGrid:this.grid,E={bucketInstanceId:f,featureIndex:_,collisionGroupID:w,overlapMode:o};for(let P=0;P<i.length;P+=4)S.insertCircle(E,i[P],i[P+1],i[P+2])}projectAndGetPerspectiveRatio(i,o,c,f){let _;return f?(_=[o,c,f(o,c),1],h.transformMat4(_,_,i)):(_=[o,c,0,1],pr(_,_,i)),{point:new h.pointGeometry((_[0]/_[3]+1)/2*this.transform.width+Tn,(-_[1]/_[3]+1)/2*this.transform.height+Tn),perspectiveRatio:.5+this.transform.cameraToCenterDistance/_[3]*.5}}isOffscreen(i,o,c,f){return c<Tn||i>=this.screenRightBoundary||f<Tn||o>this.screenBottomBoundary}isInsideGrid(i,o,c,f){return c>=0&&i<this.gridRightBoundary&&f>=0&&o<this.gridBottomBoundary}getViewportMatrix(){const i=h.identity([]);return h.translate(i,i,[-100,-100,0]),i}}function Cn(d,i,o){return i*(h.EXTENT/(d.tileSize*Math.pow(2,o-d.tileID.overscaledZ)))}class Qn{constructor(i,o,c,f){this.opacity=i?Math.max(0,Math.min(1,i.opacity+(i.placed?o:-o))):f&&c?1:0,this.placed=c}isHidden(){return this.opacity===0&&!this.placed}}class Ri{constructor(i,o,c,f,_){this.text=new Qn(i?i.text:null,o,c,_),this.icon=new Qn(i?i.icon:null,o,f,_)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Ao{constructor(i,o,c){this.text=i,this.icon=o,this.skipFade=c}}class tr{constructor(){this.invProjMatrix=h.create(),this.viewportMatrix=h.create(),this.circles=[]}}class Kr{constructor(i,o,c,f,_){this.bucketInstanceId=i,this.featureIndex=o,this.sourceLayerIndex=c,this.bucketIndex=f,this.tileID=_}}class Us{constructor(i){this.crossSourceCollisions=i,this.maxGroupID=0,this.collisionGroups={}}get(i){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[i]){const o=++this.maxGroupID;this.collisionGroups[i]={ID:o,predicate:c=>c.collisionGroupID===o}}return this.collisionGroups[i]}}function _e(d,i,o,c,f){const{horizontalAlign:_,verticalAlign:w}=h.getAnchorAlignment(d),S=-(_-.5)*i,E=-(w-.5)*o,P=h.evaluateVariableOffset(d,c);return new h.pointGeometry(S+P[0]*f,E+P[1]*f)}function In(d,i,o,c,f,_){const{x1:w,x2:S,y1:E,y2:P,anchorPointX:$,anchorPointY:O}=d,j=new h.pointGeometry(i,o);return c&&j._rotate(f?_:-_),{x1:w+j.x,y1:E+j.y,x2:S+j.x,y2:P+j.y,anchorPointX:$,anchorPointY:O}}class Z{constructor(i,o,c,f,_){this.transform=i.clone(),this.terrain=o,this.collisionIndex=new Pr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=c,this.retainedQueryData={},this.collisionGroups=new Us(f),this.collisionCircleArrays={},this.prevPlacement=_,_&&(_.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(i,o,c,f){const _=c.getBucket(o),w=c.latestFeatureIndex;if(!_||!w||o.id!==_.layerIds[0])return;const S=c.collisionBoxArray,E=_.layers[0].layout,P=Math.pow(2,this.transform.zoom-c.tileID.overscaledZ),$=c.tileSize/h.EXTENT,O=this.transform.calculatePosMatrix(c.tileID.toUnwrapped()),j=E.get("text-pitch-alignment")==="map",tt=E.get("text-rotation-alignment")==="map",J=Cn(c,1,this.transform.zoom),Q=en(O,j,tt,this.transform,J);let ht=null;if(j){const xt=we(O,j,tt,this.transform,J);ht=h.multiply([],this.transform.labelPlaneMatrix,xt)}this.retainedQueryData[_.bucketInstanceId]=new Kr(_.bucketInstanceId,w,_.sourceLayerIndex,_.index,c.tileID);const mt={bucket:_,layout:E,posMatrix:O,textLabelPlaneMatrix:Q,labelToScreenMatrix:ht,scale:P,textPixelRatio:$,holdingForFade:c.holdingForFade(),collisionBoxArray:S,partiallyEvaluatedTextSize:h.evaluateSizeForZoom(_.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(_.sourceID)};if(f)for(const xt of _.sortKeyRanges){const{sortKey:it,symbolInstanceStart:Et,symbolInstanceEnd:wt}=xt;i.push({sortKey:it,symbolInstanceStart:Et,symbolInstanceEnd:wt,parameters:mt})}else i.push({symbolInstanceStart:0,symbolInstanceEnd:_.symbolInstances.length,parameters:mt})}attemptAnchorPlacement(i,o,c,f,_,w,S,E,P,$,O,j,tt,J,Q,ht){const mt=[j.textOffset0,j.textOffset1],xt=_e(i,c,f,mt,_),it=this.collisionIndex.placeCollisionBox(In(o,xt.x,xt.y,w,S,this.transform.angle),O,E,P,$.predicate,ht);if((!Q||this.collisionIndex.placeCollisionBox(In(Q,xt.x,xt.y,w,S,this.transform.angle),O,E,P,$.predicate,ht).box.length!==0)&&it.box.length>0){let Et;if(this.prevPlacement&&this.prevPlacement.variableOffsets[j.crossTileID]&&this.prevPlacement.placements[j.crossTileID]&&this.prevPlacement.placements[j.crossTileID].text&&(Et=this.prevPlacement.variableOffsets[j.crossTileID].anchor),j.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[j.crossTileID]={textOffset:mt,width:c,height:f,anchor:i,textBoxScale:_,prevAnchor:Et},this.markUsedJustification(tt,i,j,J),tt.allowVerticalPlacement&&(this.markUsedOrientation(tt,J,j),this.placedOrientations[j.crossTileID]=J),{shift:xt,placedGlyphBoxes:it}}}placeLayerBucketPart(i,o,c){const{bucket:f,layout:_,posMatrix:w,textLabelPlaneMatrix:S,labelToScreenMatrix:E,textPixelRatio:P,holdingForFade:$,collisionBoxArray:O,partiallyEvaluatedTextSize:j,collisionGroup:tt}=i.parameters,J=_.get("text-optional"),Q=_.get("icon-optional"),ht=h.getOverlapMode(_,"text-overlap","text-allow-overlap"),mt=ht==="always",xt=h.getOverlapMode(_,"icon-overlap","icon-allow-overlap"),it=xt==="always",Et=_.get("text-rotation-alignment")==="map",wt=_.get("text-pitch-alignment")==="map",$t=_.get("icon-text-fit")!=="none",Dt=_.get("symbol-z-order")==="viewport-y",Wt=mt&&(it||!f.hasIconData()||Q),zt=it&&(mt||!f.hasTextData()||J);!f.collisionArrays&&O&&f.deserializeCollisionBoxes(O);const fe=(se,ye)=>{if(o[se.crossTileID])return;if($)return void(this.placements[se.crossTileID]=new Ao(!1,!1,!1));let ni=!1,di=!1,Le=!0,Ii=null,Ke={box:null,offscreen:null},ki={box:null,offscreen:null},wi=null,qi=null,Dn=null,or=0,jn=0,ar=0;ye.textFeatureIndex?or=ye.textFeatureIndex:se.useRuntimeCollisionCircles&&(or=se.featureIndex),ye.verticalTextFeatureIndex&&(jn=ye.verticalTextFeatureIndex);const Vr=this.retainedQueryData[f.bucketInstanceId].tileID,Ls=this.terrain?(Mn,pi)=>this.terrain.getElevation(Vr,Mn,pi):null;for(const Mn of["textBox","verticalTextBox","iconBox","verticalIconBox"]){const pi=ye[Mn];pi&&(pi.elevation=Ls?Ls(pi.anchorPointX,pi.anchorPointY):0)}const ds=ye.textBox;if(ds){const Mn=Fi=>{let Bn=h.WritingMode.horizontal;if(f.allowVerticalPlacement&&!Fi&&this.prevPlacement){const Rn=this.prevPlacement.placedOrientations[se.crossTileID];Rn&&(this.placedOrientations[se.crossTileID]=Rn,Bn=Rn,this.markUsedOrientation(f,Bn,se))}return Bn},pi=(Fi,Bn)=>{if(f.allowVerticalPlacement&&se.numVerticalGlyphVertices>0&&ye.verticalTextBox){for(const Rn of f.writingModes)if(Rn===h.WritingMode.vertical?(Ke=Bn(),ki=Ke):Ke=Fi(),Ke&&Ke.box&&Ke.box.length)break}else Ke=Fi()};if(_.get("text-variable-anchor")){let Fi=_.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[se.crossTileID]){const ln=this.prevPlacement.variableOffsets[se.crossTileID];Fi.indexOf(ln.anchor)>0&&(Fi=Fi.filter(Fn=>Fn!==ln.anchor),Fi.unshift(ln.anchor))}const Bn=(ln,Fn,Cs)=>{const _l=ln.x2-ln.x1,Oo=ln.y2-ln.y1,ac=se.textBoxScale,xl=$t&&xt==="never"?Fn:null;let qr={box:[],offscreen:!1};const po=ht!=="never"?2*Fi.length:Fi.length;for(let wr=0;wr<po;++wr){const No=this.attemptAnchorPlacement(Fi[wr%Fi.length],ln,_l,Oo,ac,Et,wt,P,w,tt,wr>=Fi.length?ht:"never",se,f,Cs,xl,Ls);if(No&&(qr=No.placedGlyphBoxes,qr&&qr.box&&qr.box.length)){ni=!0,Ii=No.shift;break}}return qr};pi(()=>Bn(ds,ye.iconBox,h.WritingMode.horizontal),()=>{const ln=ye.verticalTextBox;return f.allowVerticalPlacement&&!(Ke&&Ke.box&&Ke.box.length)&&se.numVerticalGlyphVertices>0&&ln?Bn(ln,ye.verticalIconBox,h.WritingMode.vertical):{box:null,offscreen:null}}),Ke&&(ni=Ke.box,Le=Ke.offscreen);const Rn=Mn(Ke&&Ke.box);if(!ni&&this.prevPlacement){const ln=this.prevPlacement.variableOffsets[se.crossTileID];ln&&(this.variableOffsets[se.crossTileID]=ln,this.markUsedJustification(f,ln.anchor,se,Rn))}}else{const Fi=(Bn,Rn)=>{const ln=this.collisionIndex.placeCollisionBox(Bn,ht,P,w,tt.predicate,Ls);return ln&&ln.box&&ln.box.length&&(this.markUsedOrientation(f,Rn,se),this.placedOrientations[se.crossTileID]=Rn),ln};pi(()=>Fi(ds,h.WritingMode.horizontal),()=>{const Bn=ye.verticalTextBox;return f.allowVerticalPlacement&&se.numVerticalGlyphVertices>0&&Bn?Fi(Bn,h.WritingMode.vertical):{box:null,offscreen:null}}),Mn(Ke&&Ke.box&&Ke.box.length)}}if(wi=Ke,ni=wi&&wi.box&&wi.box.length>0,Le=wi&&wi.offscreen,se.useRuntimeCollisionCircles){const Mn=f.text.placedSymbolArray.get(se.centerJustifiedTextSymbolIndex),pi=h.evaluateSizeForFeature(f.textSizeData,j,Mn),Fi=_.get("text-padding");qi=this.collisionIndex.placeCollisionCircles(ht,Mn,f.lineVertexArray,f.glyphOffsetArray,pi,w,S,E,c,wt,tt.predicate,se.collisionCircleDiameter,Fi,Ls),qi.circles.length&&qi.collisionDetected&&!c&&h.warnOnce("Collisions detected, but collision boxes are not shown"),ni=mt||qi.circles.length>0&&!qi.collisionDetected,Le=Le&&qi.offscreen}if(ye.iconFeatureIndex&&(ar=ye.iconFeatureIndex),ye.iconBox){const Mn=pi=>{const Fi=$t&&Ii?In(pi,Ii.x,Ii.y,Et,wt,this.transform.angle):pi;return this.collisionIndex.placeCollisionBox(Fi,xt,P,w,tt.predicate,Ls)};ki&&ki.box&&ki.box.length&&ye.verticalIconBox?(Dn=Mn(ye.verticalIconBox),di=Dn.box.length>0):(Dn=Mn(ye.iconBox),di=Dn.box.length>0),Le=Le&&Dn.offscreen}const vr=J||se.numHorizontalGlyphVertices===0&&se.numVerticalGlyphVertices===0,jr=Q||se.numIconVertices===0;if(vr||jr?jr?vr||(di=di&&ni):ni=di&&ni:di=ni=di&&ni,ni&&wi&&wi.box&&this.collisionIndex.insertCollisionBox(wi.box,ht,_.get("text-ignore-placement"),f.bucketInstanceId,ki&&ki.box&&jn?jn:or,tt.ID),di&&Dn&&this.collisionIndex.insertCollisionBox(Dn.box,xt,_.get("icon-ignore-placement"),f.bucketInstanceId,ar,tt.ID),qi&&(ni&&this.collisionIndex.insertCollisionCircles(qi.circles,ht,_.get("text-ignore-placement"),f.bucketInstanceId,or,tt.ID),c)){const Mn=f.bucketInstanceId;let pi=this.collisionCircleArrays[Mn];pi===void 0&&(pi=this.collisionCircleArrays[Mn]=new tr);for(let Fi=0;Fi<qi.circles.length;Fi+=4)pi.circles.push(qi.circles[Fi+0]),pi.circles.push(qi.circles[Fi+1]),pi.circles.push(qi.circles[Fi+2]),pi.circles.push(qi.collisionDetected?1:0)}if(se.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(f.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[se.crossTileID]=new Ao(ni||Wt,di||zt,Le||f.justReloaded),o[se.crossTileID]=!0};if(Dt){if(i.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const se=f.getSortedSymbolIndexes(this.transform.angle);for(let ye=se.length-1;ye>=0;--ye){const ni=se[ye];fe(f.symbolInstances.get(ni),f.collisionArrays[ni])}}else for(let se=i.symbolInstanceStart;se<i.symbolInstanceEnd;se++)fe(f.symbolInstances.get(se),f.collisionArrays[se]);if(c&&f.bucketInstanceId in this.collisionCircleArrays){const se=this.collisionCircleArrays[f.bucketInstanceId];h.invert(se.invProjMatrix,w),se.viewportMatrix=this.collisionIndex.getViewportMatrix()}f.justReloaded=!1}markUsedJustification(i,o,c,f){let _;_=f===h.WritingMode.vertical?c.verticalPlacedTextSymbolIndex:{left:c.leftJustifiedTextSymbolIndex,center:c.centerJustifiedTextSymbolIndex,right:c.rightJustifiedTextSymbolIndex}[h.getAnchorJustification(o)];const w=[c.leftJustifiedTextSymbolIndex,c.centerJustifiedTextSymbolIndex,c.rightJustifiedTextSymbolIndex,c.verticalPlacedTextSymbolIndex];for(const S of w)S>=0&&(i.text.placedSymbolArray.get(S).crossTileID=_>=0&&S!==_?0:c.crossTileID)}markUsedOrientation(i,o,c){const f=o===h.WritingMode.horizontal||o===h.WritingMode.horizontalOnly?o:0,_=o===h.WritingMode.vertical?o:0,w=[c.leftJustifiedTextSymbolIndex,c.centerJustifiedTextSymbolIndex,c.rightJustifiedTextSymbolIndex];for(const S of w)i.text.placedSymbolArray.get(S).placedOrientation=f;c.verticalPlacedTextSymbolIndex&&(i.text.placedSymbolArray.get(c.verticalPlacedTextSymbolIndex).placedOrientation=_)}commit(i){this.commitTime=i,this.zoomAtLastRecencyCheck=this.transform.zoom;const o=this.prevPlacement;let c=!1;this.prevZoomAdjustment=o?o.zoomAdjustment(this.transform.zoom):0;const f=o?o.symbolFadeChange(i):1,_=o?o.opacities:{},w=o?o.variableOffsets:{},S=o?o.placedOrientations:{};for(const E in this.placements){const P=this.placements[E],$=_[E];$?(this.opacities[E]=new Ri($,f,P.text,P.icon),c=c||P.text!==$.text.placed||P.icon!==$.icon.placed):(this.opacities[E]=new Ri(null,f,P.text,P.icon,P.skipFade),c=c||P.text||P.icon)}for(const E in _){const P=_[E];if(!this.opacities[E]){const $=new Ri(P,f,!1,!1);$.isHidden()||(this.opacities[E]=$,c=c||P.text.placed||P.icon.placed)}}for(const E in w)this.variableOffsets[E]||!this.opacities[E]||this.opacities[E].isHidden()||(this.variableOffsets[E]=w[E]);for(const E in S)this.placedOrientations[E]||!this.opacities[E]||this.opacities[E].isHidden()||(this.placedOrientations[E]=S[E]);if(o&&o.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");c?this.lastPlacementChangeTime=i:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=o?o.lastPlacementChangeTime:i)}updateLayerOpacities(i,o){const c={};for(const f of o){const _=f.getBucket(i);_&&f.latestFeatureIndex&&i.id===_.layerIds[0]&&this.updateBucketOpacities(_,c,f.collisionBoxArray)}}updateBucketOpacities(i,o,c){i.hasTextData()&&i.text.opacityVertexArray.clear(),i.hasIconData()&&i.icon.opacityVertexArray.clear(),i.hasIconCollisionBoxData()&&i.iconCollisionBox.collisionVertexArray.clear(),i.hasTextCollisionBoxData()&&i.textCollisionBox.collisionVertexArray.clear();const f=i.layers[0].layout,_=new Ri(null,0,!1,!1,!0),w=f.get("text-allow-overlap"),S=f.get("icon-allow-overlap"),E=f.get("text-variable-anchor"),P=f.get("text-rotation-alignment")==="map",$=f.get("text-pitch-alignment")==="map",O=f.get("icon-text-fit")!=="none",j=new Ri(null,0,w&&(S||!i.hasIconData()||f.get("icon-optional")),S&&(w||!i.hasTextData()||f.get("text-optional")),!0);!i.collisionArrays&&c&&(i.hasIconCollisionBoxData()||i.hasTextCollisionBoxData())&&i.deserializeCollisionBoxes(c);const tt=(J,Q,ht)=>{for(let mt=0;mt<Q/4;mt++)J.opacityVertexArray.emplaceBack(ht)};for(let J=0;J<i.symbolInstances.length;J++){const Q=i.symbolInstances.get(J),{numHorizontalGlyphVertices:ht,numVerticalGlyphVertices:mt,crossTileID:xt}=Q;let it=this.opacities[xt];o[xt]?it=_:it||(it=j,this.opacities[xt]=it),o[xt]=!0;const Et=Q.numIconVertices>0,wt=this.placedOrientations[Q.crossTileID],$t=wt===h.WritingMode.vertical,Dt=wt===h.WritingMode.horizontal||wt===h.WritingMode.horizontalOnly;if(ht>0||mt>0){const Wt=pt(it.text);tt(i.text,ht,$t?Tt:Wt),tt(i.text,mt,Dt?Tt:Wt);const zt=it.text.isHidden();[Q.rightJustifiedTextSymbolIndex,Q.centerJustifiedTextSymbolIndex,Q.leftJustifiedTextSymbolIndex].forEach(ye=>{ye>=0&&(i.text.placedSymbolArray.get(ye).hidden=zt||$t?1:0)}),Q.verticalPlacedTextSymbolIndex>=0&&(i.text.placedSymbolArray.get(Q.verticalPlacedTextSymbolIndex).hidden=zt||Dt?1:0);const fe=this.variableOffsets[Q.crossTileID];fe&&this.markUsedJustification(i,fe.anchor,Q,wt);const se=this.placedOrientations[Q.crossTileID];se&&(this.markUsedJustification(i,"left",Q,se),this.markUsedOrientation(i,se,Q))}if(Et){const Wt=pt(it.icon),zt=!(O&&Q.verticalPlacedIconSymbolIndex&&$t);Q.placedIconSymbolIndex>=0&&(tt(i.icon,Q.numIconVertices,zt?Wt:Tt),i.icon.placedSymbolArray.get(Q.placedIconSymbolIndex).hidden=it.icon.isHidden()),Q.verticalPlacedIconSymbolIndex>=0&&(tt(i.icon,Q.numVerticalIconVertices,zt?Tt:Wt),i.icon.placedSymbolArray.get(Q.verticalPlacedIconSymbolIndex).hidden=it.icon.isHidden())}if(i.hasIconCollisionBoxData()||i.hasTextCollisionBoxData()){const Wt=i.collisionArrays[J];if(Wt){let zt=new h.pointGeometry(0,0);if(Wt.textBox||Wt.verticalTextBox){let se=!0;if(E){const ye=this.variableOffsets[xt];ye?(zt=_e(ye.anchor,ye.width,ye.height,ye.textOffset,ye.textBoxScale),P&&zt._rotate($?this.transform.angle:-this.transform.angle)):se=!1}Wt.textBox&&I(i.textCollisionBox.collisionVertexArray,it.text.placed,!se||$t,zt.x,zt.y),Wt.verticalTextBox&&I(i.textCollisionBox.collisionVertexArray,it.text.placed,!se||Dt,zt.x,zt.y)}const fe=Boolean(!Dt&&Wt.verticalIconBox);Wt.iconBox&&I(i.iconCollisionBox.collisionVertexArray,it.icon.placed,fe,O?zt.x:0,O?zt.y:0),Wt.verticalIconBox&&I(i.iconCollisionBox.collisionVertexArray,it.icon.placed,!fe,O?zt.x:0,O?zt.y:0)}}}if(i.sortFeatures(this.transform.angle),this.retainedQueryData[i.bucketInstanceId]&&(this.retainedQueryData[i.bucketInstanceId].featureSortOrder=i.featureSortOrder),i.hasTextData()&&i.text.opacityVertexBuffer&&i.text.opacityVertexBuffer.updateData(i.text.opacityVertexArray),i.hasIconData()&&i.icon.opacityVertexBuffer&&i.icon.opacityVertexBuffer.updateData(i.icon.opacityVertexArray),i.hasIconCollisionBoxData()&&i.iconCollisionBox.collisionVertexBuffer&&i.iconCollisionBox.collisionVertexBuffer.updateData(i.iconCollisionBox.collisionVertexArray),i.hasTextCollisionBoxData()&&i.textCollisionBox.collisionVertexBuffer&&i.textCollisionBox.collisionVertexBuffer.updateData(i.textCollisionBox.collisionVertexArray),i.text.opacityVertexArray.length!==i.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${i.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${i.text.layoutVertexArray.length}) / 4`);if(i.icon.opacityVertexArray.length!==i.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${i.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${i.icon.layoutVertexArray.length}) / 4`);if(i.bucketInstanceId in this.collisionCircleArrays){const J=this.collisionCircleArrays[i.bucketInstanceId];i.placementInvProjMatrix=J.invProjMatrix,i.placementViewportMatrix=J.viewportMatrix,i.collisionCircleArray=J.circles,delete this.collisionCircleArrays[i.bucketInstanceId]}}symbolFadeChange(i){return this.fadeDuration===0?1:(i-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(i){return Math.max(0,(this.transform.zoom-i)/1.5)}hasTransitions(i){return this.stale||i-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(i,o){const c=this.zoomAtLastRecencyCheck===o?1-this.zoomAdjustment(o):1;return this.zoomAtLastRecencyCheck=o,this.commitTime+this.fadeDuration*c>i}setStale(){this.stale=!0}}function I(d,i,o,c,f){d.emplaceBack(i?1:0,o?1:0,c||0,f||0),d.emplaceBack(i?1:0,o?1:0,c||0,f||0),d.emplaceBack(i?1:0,o?1:0,c||0,f||0),d.emplaceBack(i?1:0,o?1:0,c||0,f||0)}const R=Math.pow(2,25),W=Math.pow(2,24),K=Math.pow(2,17),rt=Math.pow(2,16),dt=Math.pow(2,9),ct=Math.pow(2,8),ot=Math.pow(2,1);function pt(d){if(d.opacity===0&&!d.placed)return 0;if(d.opacity===1&&d.placed)return 4294967295;const i=d.placed?1:0,o=Math.floor(127*d.opacity);return o*R+i*W+o*K+i*rt+o*dt+i*ct+o*ot+i}const Tt=0;class Ot{constructor(i){this._sortAcrossTiles=i.layout.get("symbol-z-order")!=="viewport-y"&&!i.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(i,o,c,f,_){const w=this._bucketParts;for(;this._currentTileIndex<i.length;)if(o.getBucketParts(w,f,i[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,_())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,w.sort((S,E)=>S.sortKey-E.sortKey));this._currentPartIndex<w.length;)if(o.placeLayerBucketPart(w[this._currentPartIndex],this._seenCrossTileIDs,c),this._currentPartIndex++,_())return!0;return!1}}class Mt{constructor(i,o,c,f,_,w,S,E){this.placement=new Z(i,o,w,S,E),this._currentPlacementIndex=c.length-1,this._forceFullPlacement=f,this._showCollisionBoxes=_,this._done=!1}isDone(){return this._done}continuePlacement(i,o,c){const f=h.exported.now(),_=()=>{const w=h.exported.now()-f;return!this._forceFullPlacement&&w>2};for(;this._currentPlacementIndex>=0;){const w=o[i[this._currentPlacementIndex]],S=this.placement.collisionIndex.transform.zoom;if(w.type==="symbol"&&(!w.minzoom||w.minzoom<=S)&&(!w.maxzoom||w.maxzoom>S)){if(this._inProgressLayer||(this._inProgressLayer=new Ot(w)),this._inProgressLayer.continuePlacement(c[w.source],this.placement,this._showCollisionBoxes,w,_))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(i){return this.placement.commit(i),this.placement}}const Ee=512/h.EXTENT/2;class Ie{constructor(i,o,c){this.tileID=i,this.indexedSymbolInstances={},this.bucketInstanceId=c;for(let f=0;f<o.length;f++){const _=o.get(f),w=_.key;this.indexedSymbolInstances[w]||(this.indexedSymbolInstances[w]=[]),this.indexedSymbolInstances[w].push({crossTileID:_.crossTileID,coord:this.getScaledCoordinates(_,i)})}}getScaledCoordinates(i,o){const c=Ee/Math.pow(2,o.canonical.z-this.tileID.canonical.z);return{x:Math.floor((o.canonical.x*h.EXTENT+i.anchorX)*c),y:Math.floor((o.canonical.y*h.EXTENT+i.anchorY)*c)}}findMatches(i,o,c){const f=this.tileID.canonical.z<o.canonical.z?1:Math.pow(2,this.tileID.canonical.z-o.canonical.z);for(let _=0;_<i.length;_++){const w=i.get(_);if(w.crossTileID)continue;const S=this.indexedSymbolInstances[w.key];if(!S)continue;const E=this.getScaledCoordinates(w,o);for(const P of S)if(Math.abs(P.coord.x-E.x)<=f&&Math.abs(P.coord.y-E.y)<=f&&!c[P.crossTileID]){c[P.crossTileID]=!0,w.crossTileID=P.crossTileID;break}}}}class ue{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class U{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(i){const o=Math.round((i-this.lng)/360);if(o!==0)for(const c in this.indexes){const f=this.indexes[c],_={};for(const w in f){const S=f[w];S.tileID=S.tileID.unwrapTo(S.tileID.wrap+o),_[S.tileID.key]=S}this.indexes[c]=_}this.lng=i}addBucket(i,o,c){if(this.indexes[i.overscaledZ]&&this.indexes[i.overscaledZ][i.key]){if(this.indexes[i.overscaledZ][i.key].bucketInstanceId===o.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(i.overscaledZ,this.indexes[i.overscaledZ][i.key])}for(let _=0;_<o.symbolInstances.length;_++)o.symbolInstances.get(_).crossTileID=0;this.usedCrossTileIDs[i.overscaledZ]||(this.usedCrossTileIDs[i.overscaledZ]={});const f=this.usedCrossTileIDs[i.overscaledZ];for(const _ in this.indexes){const w=this.indexes[_];if(Number(_)>i.overscaledZ)for(const S in w){const E=w[S];E.tileID.isChildOf(i)&&E.findMatches(o.symbolInstances,i,f)}else{const S=w[i.scaledTo(Number(_)).key];S&&S.findMatches(o.symbolInstances,i,f)}}for(let _=0;_<o.symbolInstances.length;_++){const w=o.symbolInstances.get(_);w.crossTileID||(w.crossTileID=c.generate(),f[w.crossTileID]=!0)}return this.indexes[i.overscaledZ]===void 0&&(this.indexes[i.overscaledZ]={}),this.indexes[i.overscaledZ][i.key]=new Ie(i,o.symbolInstances,o.bucketInstanceId),!0}removeBucketCrossTileIDs(i,o){for(const c in o.indexedSymbolInstances)for(const f of o.indexedSymbolInstances[c])delete this.usedCrossTileIDs[i][f.crossTileID]}removeStaleBuckets(i){let o=!1;for(const c in this.indexes){const f=this.indexes[c];for(const _ in f)i[f[_].bucketInstanceId]||(this.removeBucketCrossTileIDs(c,f[_]),delete f[_],o=!0)}return o}}class Ze{constructor(){this.layerIndexes={},this.crossTileIDs=new ue,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(i,o,c){let f=this.layerIndexes[i.id];f===void 0&&(f=this.layerIndexes[i.id]=new U);let _=!1;const w={};f.handleWrapJump(c);for(const S of o){const E=S.getBucket(i);E&&i.id===E.layerIds[0]&&(E.bucketInstanceId||(E.bucketInstanceId=++this.maxBucketInstanceId),f.addBucket(S.tileID,E,this.crossTileIDs)&&(_=!0),w[E.bucketInstanceId]=!0)}return f.removeStaleBuckets(w)&&(_=!0),_}pruneUnusedLayers(i){const o={};i.forEach(c=>{o[c]=!0});for(const c in this.layerIndexes)o[c]||delete this.layerIndexes[c]}}var Ti=h.createLayout([{name:"a_pos",type:"Int16",components:2}]);class Nt extends h.Evented{constructor(i){super(),this.sourceCache=i,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.renderHistory=[],this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,this.renderHistorySize=i._cache.max,i.usedForTerrain=!0,i.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null;for(const i in this._tiles){const o=this._tiles[i];o.textures.forEach(c=>c.destroy()),o.textures=[]}}update(i,o){this.sourceCache.update(i,o),this._renderableTilesKeys=[];for(const c of i.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:o}))this._renderableTilesKeys.push(c.key),this._tiles[c.key]||(c.posMatrix=new Float64Array(16),h.ortho(c.posMatrix,0,h.EXTENT,0,h.EXTENT,0,1),this._tiles[c.key]=new hn(c,this.tileSize))}removeOutdated(i){const o={};this.renderHistory=this.renderHistory.filter((c,f)=>this.renderHistory.indexOf(c)===f).slice(0,this.renderHistorySize);for(const c of this._renderableTilesKeys)o[c]=!0;for(const c of this.renderHistory)o[c]=!0;for(const c in this._tiles)o[c]||(this._tiles[c].clearTextures(i),delete this._tiles[c])}getRenderableTiles(){return this._renderableTilesKeys.map(i=>this.getTileByID(i))}getTileByID(i){return this._tiles[i]}getTerrainCoords(i){const o={};for(const c of this._renderableTilesKeys){const f=this._tiles[c].tileID;if(f.canonical.equals(i.canonical)){const _=i.clone();_.posMatrix=new Float64Array(16),h.ortho(_.posMatrix,0,h.EXTENT,0,h.EXTENT,0,1),o[c]=_}else if(f.canonical.isChildOf(i.canonical)){const _=i.clone();_.posMatrix=new Float64Array(16);const w=f.canonical.z-i.canonical.z,S=f.canonical.x-(f.canonical.x>>w<<w),E=f.canonical.y-(f.canonical.y>>w<<w),P=h.EXTENT>>w;h.ortho(_.posMatrix,0,P,0,P,0,1),h.translate(_.posMatrix,_.posMatrix,[-S*P,-E*P,0]),o[c]=_}else if(i.canonical.isChildOf(f.canonical)){const _=i.clone();_.posMatrix=new Float64Array(16);const w=i.canonical.z-f.canonical.z,S=i.canonical.x-(i.canonical.x>>w<<w),E=i.canonical.y-(i.canonical.y>>w<<w),P=h.EXTENT>>w;h.ortho(_.posMatrix,0,h.EXTENT,0,h.EXTENT,0,1),h.translate(_.posMatrix,_.posMatrix,[S*P,E*P,0]),h.scale(_.posMatrix,_.posMatrix,[1/2**w,1/2**w,0]),o[c]=_}}return o}getSourceTile(i,o){const c=this.sourceCache._source;let f=i.overscaledZ-this.deltaZoom;if(f>c.maxzoom&&(f=c.maxzoom),f<c.minzoom)return null;this._sourceTileCache[i.key]||(this._sourceTileCache[i.key]=i.scaledTo(f).key);let _=this.sourceCache.getTileByID(this._sourceTileCache[i.key]);if((!_||!_.dem)&&o)for(;f>=c.minzoom&&(!_||!_.dem);)_=this.sourceCache.getTileByID(i.scaledTo(f--).key);return _}tilesAfterTime(i=Date.now()){return Object.values(this._tiles).filter(o=>o.timeLoaded>=i)}}class te{constructor(i,o,c){this.style=i,this.sourceCache=new Nt(o),this.options=c,this.exaggeration=typeof c.exaggeration=="number"?c.exaggeration:1,this.elevationOffset=typeof c.elevationOffset=="number"?c.elevationOffset:450,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024,this.clearRerenderCache()}getDEMElevation(i,o,c,f=h.EXTENT){if(!(o>=0&&o<f&&c>=0&&c<f))return this.elevationOffset;let _=0;const w=this.getTerrainData(i);if(w.tile&&w.tile.dem){const S=h.transformMat4$1([],[o/f*h.EXTENT,c/f*h.EXTENT],w.u_terrain_matrix),E=[S[0]*w.tile.dem.dim,S[1]*w.tile.dem.dim],P=[Math.floor(E[0]),Math.floor(E[1])],$=w.tile.dem.get(P[0],P[1]),O=w.tile.dem.get(P[0],P[1]+1),j=w.tile.dem.get(P[0]+1,P[1]),tt=w.tile.dem.get(P[0]+1,P[1]+1);_=h.number(h.number($,O,E[0]-P[0]),h.number(j,tt,E[0]-P[0]),E[1]-P[1])}return _}rememberForRerender(i,o){for(const c in this.sourceCache._tiles){const f=this.sourceCache._tiles[c];(f.tileID.equals(o)||f.tileID.isChildOf(o))&&(i===this.sourceCache.sourceCache.id&&(f.timeLoaded=Date.now()),this._rerender[i]=this._rerender[i]||{},this._rerender[i][f.tileID.key]=!0)}}needsRerender(i,o){return this._rerender[i]&&this._rerender[i][o.key]}clearRerenderCache(){this._rerender={}}getElevation(i,o,c,f=h.EXTENT){return(this.getDEMElevation(i,o,c,f)+this.elevationOffset)*this.exaggeration}getTerrainData(i){if(!this._emptyDemTexture){const f=this.style.map.painter.context,_=new h.RGBAImage({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new Xt(f,_,f.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new Xt(f,new h.RGBAImage({width:1,height:1}),f.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(f.gl.NEAREST,f.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=h.identity([])}const o=this.sourceCache.getSourceTile(i,!0);if(o&&o.dem&&(!o.demTexture||o.needsTerrainPrepare)){const f=this.style.map.painter.context;o.demTexture=this.style.map.painter.getTileTexture(o.dem.stride),o.demTexture?o.demTexture.update(o.dem.getPixels(),{premultiply:!1}):o.demTexture=new Xt(f,o.dem.getPixels(),f.gl.RGBA,{premultiply:!1}),o.demTexture.bind(f.gl.NEAREST,f.gl.CLAMP_TO_EDGE),o.needsTerrainPrepare=!1}const c=o&&o+o.tileID.key+i.key;if(c&&!this._demMatrixCache[c]){const f=this.sourceCache.sourceCache._source.maxzoom;let _=i.canonical.z-o.tileID.canonical.z;i.overscaledZ>i.canonical.z&&(i.canonical.z>=f?_=i.canonical.z-f:h.warnOnce("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const w=i.canonical.x-(i.canonical.x>>_<<_),S=i.canonical.y-(i.canonical.y>>_<<_),E=h.fromScaling(new Float64Array(16),[1/(h.EXTENT<<_),1/(h.EXTENT<<_),0]);h.translate(E,E,[w*h.EXTENT,S*h.EXTENT,0]),this._demMatrixCache[i.key]={matrix:E,coord:i}}return{u_depth:2,u_terrain:3,u_terrain_dim:o&&o.dem&&o.dem.dim||1,u_terrain_matrix:c?this._demMatrixCache[i.key].matrix:this._emptyDemMatrix,u_terrain_unpack:o&&o.dem&&o.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_offset:this.elevationOffset,u_terrain_exaggeration:this.exaggeration,texture:(o&&o.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:o}}getRTTFramebuffer(){const i=this.style.map.painter;if(!this._rttFramebuffer){const o=this.sourceCache.tileSize*this.qualityFactor;this._rttFramebuffer=i.context.createFramebuffer(o,o,!0),this._rttFramebuffer.depthAttachment.set(i.context.createRenderbuffer(i.context.gl.DEPTH_COMPONENT16,o,o))}return this._rttFramebuffer}getFramebuffer(i){const o=this.style.map.painter,c=o.width/devicePixelRatio,f=o.height/devicePixelRatio;return!this._fbo||this._fbo.width===c&&this._fbo.height===f||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new Xt(o.context,{width:c,height:f,data:null},o.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(o.context.gl.NEAREST,o.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new Xt(o.context,{width:c,height:f,data:null},o.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(o.context.gl.NEAREST,o.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=o.context.createFramebuffer(c,f,!0),this._fbo.depthAttachment.set(o.context.createRenderbuffer(o.context.gl.DEPTH_COMPONENT16,c,f))),this._fbo.colorAttachment.set(i==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const i=this.style.map.painter.context;if(this._coordsTexture)return this._coordsTexture;const o=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let _=0,w=0;_<this._coordsTextureSize;_++)for(let S=0;S<this._coordsTextureSize;S++,w+=4)o[w+0]=255&S,o[w+1]=255&_,o[w+2]=S>>8<<4|_>>8,o[w+3]=0;const c=new h.RGBAImage({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(o.buffer)),f=new Xt(i,c,i.gl.RGBA,{premultiply:!1});return f.bind(i.gl.NEAREST,i.gl.CLAMP_TO_EDGE),this._coordsTexture=f,f}pointCoordinate(i){const o=new Uint8Array(4),c=this.style.map.painter,f=c.context,_=f.gl;f.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),_.readPixels(i.x,c.height/devicePixelRatio-i.y-1,1,1,_.RGBA,_.UNSIGNED_BYTE,o),f.bindFramebuffer.set(null);const w=o[0]+(o[2]>>4<<8),S=o[1]+((15&o[2])<<8),E=this.coordsIndex[255-o[3]],P=E&&this.sourceCache.getTileByID(E);if(!P)return null;const $=this._coordsTextureSize,O=(1<<P.tileID.canonical.z)*$;return new h.MercatorCoordinate((P.tileID.canonical.x*$+w)/O,(P.tileID.canonical.y*$+S)/O,this.getElevation(P.tileID,w,S,$))}getTerrainMesh(){if(this._mesh)return this._mesh;const i=this.style.map.painter.context,o=new h.PosArray,c=new h.TriangleIndexArray,f=this.meshSize,_=h.EXTENT/f,w=f*f;for(let S=0;S<=f;S++)for(let E=0;E<=f;E++)o.emplaceBack(E*_,S*_);for(let S=0;S<w;S+=f+1)for(let E=0;E<f;E++)c.emplaceBack(E+S,f+E+S+1,f+E+S+2),c.emplaceBack(E+S,f+E+S+2,E+S+1);return this._mesh={indexBuffer:i.createIndexBuffer(c),vertexBuffer:i.createVertexBuffer(o,Ti.members),segments:h.SegmentVector.simpleSegment(0,0,o.length,c.length)},this._mesh}getMinMaxElevation(i){const o=this.getTerrainData(i).tile,c={minElevation:null,maxElevation:null};return o&&o.dem&&(c.minElevation=(o.dem.min+this.elevationOffset)*this.exaggeration,c.maxElevation=(o.dem.max+this.elevationOffset)*this.exaggeration),c}}const yi=(d,i)=>h.emitValidationErrors(d,i&&i.filter(o=>o.identifier!=="source.canvas")),zi=h.pick(Ft,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Ae=h.pick(Ft,["setCenter","setZoom","setBearing","setPitch"]),Re=function(){const d={},i=h.spec.$version;for(const o in h.spec.$root){const c=h.spec.$root[o];if(c.required){let f=null;f=o==="version"?i:c.type==="array"?[]:{},f!=null&&(d[o]=f)}}return d}();class Ln extends h.Evented{constructor(i,o={}){super(),this.map=i,this.dispatcher=new xi(qt(),this),this.imageManager=new Ye,this.imageManager.setEventedParent(this),this.glyphManager=new ii(i._requestManager,o.localIdeographFontFamily),this.lineAtlas=new Xi(256,512),this.crossTileSymbolIndex=new Ze,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new h.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",h.getReferrer());const c=this;this._rtlTextPluginCallback=Ln.registerForPluginStateChange(f=>{c.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:f.pluginStatus,pluginURL:f.pluginURL},(_,w)=>{if(h.triggerPluginCompletionEvent(_),w&&w.every(S=>S))for(const S in c.sourceCaches)c.sourceCaches[S].reload()})}),this.on("data",f=>{if(f.dataType!=="source"||f.sourceDataType!=="metadata")return;const _=this.sourceCaches[f.sourceId];if(!_)return;const w=_.getSource();if(w&&w.vectorLayerIds)for(const S in this._layers){const E=this._layers[S];E.source===w.id&&this._validateLayer(E)}})}loadURL(i,o={}){this.fire(new h.Event("dataloading",{dataType:"style"}));const c=typeof o.validate!="boolean"||o.validate,f=this.map._requestManager.transformRequest(i,h.ResourceType.Style);this._request=h.getJSON(f,(_,w)=>{this._request=null,_?this.fire(new h.ErrorEvent(_)):w&&this._load(w,c)})}loadJSON(i,o={}){this.fire(new h.Event("dataloading",{dataType:"style"})),this._request=h.exported.frame(()=>{this._request=null,this._load(i,o.validate!==!1)})}loadEmpty(){this.fire(new h.Event("dataloading",{dataType:"style"})),this._load(Re,!1)}_load(i,o){if(o&&yi(this,h.validateStyle(i)))return;this._loaded=!0,this.stylesheet=i;for(const f in i.sources)this.addSource(f,i.sources[f],{validate:!1});i.sprite?this._loadSprite(i.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(i.glyphs);const c=Qt(this.stylesheet.layers);this._order=c.map(f=>f.id),this._layers={},this._serializedLayers={};for(let f of c)f=h.createStyleLayer(f),f.setEventedParent(this,{layer:{id:f.id}}),this._layers[f.id]=f,this._serializedLayers[f.id]=f.serialize();this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new Ne(this.stylesheet.light),this.setTerrain(this.stylesheet.terrain),this.fire(new h.Event("data",{dataType:"style"})),this.fire(new h.Event("style.load"))}_loadSprite(i){this._spriteRequest=function(o,c,f,_){let w,S,E;const P=f>1?"@2x":"";let $=h.getJSON(c.transformRequest(c.normalizeSpriteURL(o,P,".json"),h.ResourceType.SpriteJSON),(tt,J)=>{$=null,E||(E=tt,w=J,j())}),O=h.getImage(c.transformRequest(c.normalizeSpriteURL(o,P,".png"),h.ResourceType.SpriteImage),(tt,J)=>{O=null,E||(E=tt,S=J,j())});function j(){if(E)_(E);else if(w&&S){const tt=h.exported.getImageData(S),J={};for(const Q in w){const{width:ht,height:mt,x:xt,y:it,sdf:Et,pixelRatio:wt,stretchX:$t,stretchY:Dt,content:Wt}=w[Q],zt=new h.RGBAImage({width:ht,height:mt});h.RGBAImage.copy(tt,zt,{x:xt,y:it},{x:0,y:0},{width:ht,height:mt}),J[Q]={data:zt,pixelRatio:wt,sdf:Et,stretchX:$t,stretchY:Dt,content:Wt}}_(null,J)}}return{cancel(){$&&($.cancel(),$=null),O&&(O.cancel(),O=null)}}}(i,this.map._requestManager,this.map.getPixelRatio(),(o,c)=>{if(this._spriteRequest=null,o)this.fire(new h.ErrorEvent(o));else if(c)for(const f in c)this.imageManager.addImage(f,c[f]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new h.Event("data",{dataType:"style"}))})}_validateLayer(i){const o=this.sourceCaches[i.source];if(!o)return;const c=i.sourceLayer;if(!c)return;const f=o.getSource();(f.type==="geojson"||f.vectorLayerIds&&f.vectorLayerIds.indexOf(c)===-1)&&this.fire(new h.ErrorEvent(new Error(`Source layer "${c}" does not exist on source "${f.id}" as specified by style layer "${i.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const i in this.sourceCaches)if(!this.sourceCaches[i].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(i){const o=[];for(const c of i){const f=this._layers[c];f.type!=="custom"&&o.push(f.serialize())}return o}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const i in this.sourceCaches)if(this.sourceCaches[i].hasTransition())return!0;for(const i in this._layers)if(this._layers[i].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(i){if(!this._loaded)return;const o=this._changed;if(this._changed){const f=Object.keys(this._updatedLayers),_=Object.keys(this._removedLayers);(f.length||_.length)&&this._updateWorkerLayers(f,_);for(const w in this._updatedSources){const S=this._updatedSources[w];if(S==="reload")this._reloadSource(w);else{if(S!=="clear")throw new Error(`Invalid action ${S}`);this._clearSource(w)}}this._updateTilesForChangedImages();for(const w in this._updatedPaintProps)this._layers[w].updateTransitions(i);this.light.updateTransitions(i),this._resetUpdates()}const c={};for(const f in this.sourceCaches){const _=this.sourceCaches[f];c[f]=_.used,_.used=!1}for(const f of this._order){const _=this._layers[f];_.recalculate(i,this._availableImages),!_.isHidden(i.zoom)&&_.source&&(this.sourceCaches[_.source].used=!0)}for(const f in c){const _=this.sourceCaches[f];c[f]!==_.used&&_.fire(new h.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:f}))}this.light.recalculate(i),this.z=i.zoom,o&&this.fire(new h.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const i=Object.keys(this._changedImages);if(i.length){for(const o in this.sourceCaches)this.sourceCaches[o].reloadTilesForDependencies(["icons","patterns"],i);this._changedImages={}}}_updateWorkerLayers(i,o){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(i),removedIds:o})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setTerrain(i){if(this._checkLoaded(),this._terrainDataCallback&&this.off("data",this._terrainDataCallback),this._terrainfreezeElevationCallback&&this.map.off("freezeElevation",this._terrainfreezeElevationCallback),i){const o=this.sourceCaches[i.source];if(!o)throw new Error(`cannot load terrain, because there exists no source with ID: ${i.source}`);this.terrain=new te(this,o,i),this.map.transform.updateElevation(this.terrain),this._terrainfreezeElevationCallback=c=>{c.freeze?this.map.transform.freezeElevation=!0:(this.map.transform.freezeElevation=!1,this.map.transform.recalculateZoom(this.terrain))},this._terrainDataCallback=c=>{c.tile&&(c.sourceId===i.source?(this.map.transform.updateElevation(this.terrain),this.terrain.rememberForRerender(c.sourceId,c.tile.tileID)):c.source.type==="geojson"&&this.terrain.rememberForRerender(c.sourceId,c.tile.tileID))},this.on("data",this._terrainDataCallback),this.map.on("freezeElevation",this._terrainfreezeElevationCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.map.transform.updateElevation(this.terrain);this.map.fire(new h.Event("terrain",{terrain:i}))}setState(i){if(this._checkLoaded(),yi(this,h.validateStyle(i)))return!1;(i=h.clone$1(i)).layers=Qt(i.layers);const o=function(f,_){if(!f)return[{command:Ft.setStyle,args:[_]}];let w=[];try{if(!Lt(f.version,_.version))return[{command:Ft.setStyle,args:[_]}];Lt(f.center,_.center)||w.push({command:Ft.setCenter,args:[_.center]}),Lt(f.zoom,_.zoom)||w.push({command:Ft.setZoom,args:[_.zoom]}),Lt(f.bearing,_.bearing)||w.push({command:Ft.setBearing,args:[_.bearing]}),Lt(f.pitch,_.pitch)||w.push({command:Ft.setPitch,args:[_.pitch]}),Lt(f.sprite,_.sprite)||w.push({command:Ft.setSprite,args:[_.sprite]}),Lt(f.glyphs,_.glyphs)||w.push({command:Ft.setGlyphs,args:[_.glyphs]}),Lt(f.transition,_.transition)||w.push({command:Ft.setTransition,args:[_.transition]}),Lt(f.light,_.light)||w.push({command:Ft.setLight,args:[_.light]});const S={},E=[];(function($,O,j,tt){let J;for(J in O=O||{},$=$||{})Object.prototype.hasOwnProperty.call($,J)&&(Object.prototype.hasOwnProperty.call(O,J)||jt(J,j,tt));for(J in O)Object.prototype.hasOwnProperty.call(O,J)&&(Object.prototype.hasOwnProperty.call($,J)?Lt($[J],O[J])||($[J].type==="geojson"&&O[J].type==="geojson"&&ie($,O,J)?j.push({command:Ft.setGeoJSONSourceData,args:[J,O[J].data]}):Se(J,O,j,tt)):bt(J,O,j))})(f.sources,_.sources,E,S);const P=[];f.layers&&f.layers.forEach($=>{S[$.source]?w.push({command:Ft.removeLayer,args:[$.id]}):P.push($)}),w=w.concat(E),function($,O,j){O=O||[];const tt=($=$||[]).map(Ve),J=O.map(Ve),Q=$.reduce(pe,{}),ht=O.reduce(pe,{}),mt=tt.slice(),xt=Object.create(null);let it,Et,wt,$t,Dt,Wt,zt;for(it=0,Et=0;it<tt.length;it++)wt=tt[it],Object.prototype.hasOwnProperty.call(ht,wt)?Et++:(j.push({command:Ft.removeLayer,args:[wt]}),mt.splice(mt.indexOf(wt,Et),1));for(it=0,Et=0;it<J.length;it++)wt=J[J.length-1-it],mt[mt.length-1-it]!==wt&&(Object.prototype.hasOwnProperty.call(Q,wt)?(j.push({command:Ft.removeLayer,args:[wt]}),mt.splice(mt.lastIndexOf(wt,mt.length-Et),1)):Et++,Wt=mt[mt.length-it],j.push({command:Ft.addLayer,args:[ht[wt],Wt]}),mt.splice(mt.length-it,0,wt),xt[wt]=!0);for(it=0;it<J.length;it++)if(wt=J[it],$t=Q[wt],Dt=ht[wt],!xt[wt]&&!Lt($t,Dt))if(Lt($t.source,Dt.source)&&Lt($t["source-layer"],Dt["source-layer"])&&Lt($t.type,Dt.type)){for(zt in Be($t.layout,Dt.layout,j,wt,null,Ft.setLayoutProperty),Be($t.paint,Dt.paint,j,wt,null,Ft.setPaintProperty),Lt($t.filter,Dt.filter)||j.push({command:Ft.setFilter,args:[wt,Dt.filter]}),Lt($t.minzoom,Dt.minzoom)&&Lt($t.maxzoom,Dt.maxzoom)||j.push({command:Ft.setLayerZoomRange,args:[wt,Dt.minzoom,Dt.maxzoom]}),$t)Object.prototype.hasOwnProperty.call($t,zt)&&zt!=="layout"&&zt!=="paint"&&zt!=="filter"&&zt!=="metadata"&&zt!=="minzoom"&&zt!=="maxzoom"&&(zt.indexOf("paint.")===0?Be($t[zt],Dt[zt],j,wt,zt.slice(6),Ft.setPaintProperty):Lt($t[zt],Dt[zt])||j.push({command:Ft.setLayerProperty,args:[wt,zt,Dt[zt]]}));for(zt in Dt)Object.prototype.hasOwnProperty.call(Dt,zt)&&!Object.prototype.hasOwnProperty.call($t,zt)&&zt!=="layout"&&zt!=="paint"&&zt!=="filter"&&zt!=="metadata"&&zt!=="minzoom"&&zt!=="maxzoom"&&(zt.indexOf("paint.")===0?Be($t[zt],Dt[zt],j,wt,zt.slice(6),Ft.setPaintProperty):Lt($t[zt],Dt[zt])||j.push({command:Ft.setLayerProperty,args:[wt,zt,Dt[zt]]}))}else j.push({command:Ft.removeLayer,args:[wt]}),Wt=mt[mt.lastIndexOf(wt)+1],j.push({command:Ft.addLayer,args:[Dt,Wt]})}(P,_.layers,w)}catch(S){console.warn("Unable to compute style diff:",S),w=[{command:Ft.setStyle,args:[_]}]}return w}(this.serialize(),i).filter(f=>!(f.command in Ae));if(o.length===0)return!1;const c=o.filter(f=>!(f.command in zi));if(c.length>0)throw new Error(`Unimplemented: ${c.map(f=>f.command).join(", ")}.`);return o.forEach(f=>{f.command!=="setTransition"&&this[f.command].apply(this,f.args)}),this.stylesheet=i,!0}addImage(i,o){if(this.getImage(i))return this.fire(new h.ErrorEvent(new Error(`An image named "${i}" already exists.`)));this.imageManager.addImage(i,o),this._afterImageUpdated(i)}updateImage(i,o){this.imageManager.updateImage(i,o)}getImage(i){return this.imageManager.getImage(i)}removeImage(i){if(!this.getImage(i))return this.fire(new h.ErrorEvent(new Error(`An image named "${i}" does not exist.`)));this.imageManager.removeImage(i),this._afterImageUpdated(i)}_afterImageUpdated(i){this._availableImages=this.imageManager.listImages(),this._changedImages[i]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new h.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(i,o,c={}){if(this._checkLoaded(),this.sourceCaches[i]!==void 0)throw new Error(`Source "${i}" already exists.`);if(!o.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(o).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(o.type)>=0&&this._validate(h.validateStyle.source,`sources.${i}`,o,null,c))return;this.map&&this.map._collectResourceTiming&&(o.collectResourceTiming=!0);const f=this.sourceCaches[i]=new Qe(i,o,this.dispatcher);f.style=this,f.setEventedParent(this,()=>({isSourceLoaded:this.loaded(),source:f.serialize(),sourceId:i})),f.onAdd(this.map),this._changed=!0}removeSource(i){if(this._checkLoaded(),this.sourceCaches[i]===void 0)throw new Error("There is no source with this ID");for(const c in this._layers)if(this._layers[c].source===i)return this.fire(new h.ErrorEvent(new Error(`Source "${i}" cannot be removed while layer "${c}" is using it.`)));const o=this.sourceCaches[i];delete this.sourceCaches[i],delete this._updatedSources[i],o.fire(new h.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:i})),o.setEventedParent(null),o.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(i,o){if(this._checkLoaded(),this.sourceCaches[i]===void 0)throw new Error(`There is no source with this ID=${i}`);const c=this.sourceCaches[i].getSource();if(c.type!=="geojson")throw new Error(`geojsonSource.type is ${c.type}, which is !== 'geojson`);c.setData(o),this._changed=!0}getSource(i){return this.sourceCaches[i]&&this.sourceCaches[i].getSource()}addLayer(i,o,c={}){this._checkLoaded();const f=i.id;if(this.getLayer(f))return void this.fire(new h.ErrorEvent(new Error(`Layer "${f}" already exists on this map.`)));let _;if(i.type==="custom"){if(yi(this,h.validateCustomStyleLayer(i)))return;_=h.createStyleLayer(i)}else{if(typeof i.source=="object"&&(this.addSource(f,i.source),i=h.clone$1(i),i=h.extend(i,{source:f})),this._validate(h.validateStyle.layer,`layers.${f}`,i,{arrayIndex:-1},c))return;_=h.createStyleLayer(i),this._validateLayer(_),_.setEventedParent(this,{layer:{id:f}}),this._serializedLayers[_.id]=_.serialize()}const w=o?this._order.indexOf(o):this._order.length;if(o&&w===-1)this.fire(new h.ErrorEvent(new Error(`Cannot add layer "${f}" before non-existing layer "${o}".`)));else{if(this._order.splice(w,0,f),this._layerOrderChanged=!0,this._layers[f]=_,this._removedLayers[f]&&_.source&&_.type!=="custom"){const S=this._removedLayers[f];delete this._removedLayers[f],S.type!==_.type?this._updatedSources[_.source]="clear":(this._updatedSources[_.source]="reload",this.sourceCaches[_.source].pause())}this._updateLayer(_),_.onAdd&&_.onAdd(this.map)}}moveLayer(i,o){if(this._checkLoaded(),this._changed=!0,!this._layers[i])return void this.fire(new h.ErrorEvent(new Error(`The layer '${i}' does not exist in the map's style and cannot be moved.`)));if(i===o)return;const c=this._order.indexOf(i);this._order.splice(c,1);const f=o?this._order.indexOf(o):this._order.length;o&&f===-1?this.fire(new h.ErrorEvent(new Error(`Cannot move layer "${i}" before non-existing layer "${o}".`))):(this._order.splice(f,0,i),this._layerOrderChanged=!0)}removeLayer(i){this._checkLoaded();const o=this._layers[i];if(!o)return void this.fire(new h.ErrorEvent(new Error(`Cannot remove non-existing layer "${i}".`)));o.setEventedParent(null);const c=this._order.indexOf(i);this._order.splice(c,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[i]=o,delete this._layers[i],delete this._serializedLayers[i],delete this._updatedLayers[i],delete this._updatedPaintProps[i],o.onRemove&&o.onRemove(this.map)}getLayer(i){return this._layers[i]}hasLayer(i){return i in this._layers}setLayerZoomRange(i,o,c){this._checkLoaded();const f=this.getLayer(i);f?f.minzoom===o&&f.maxzoom===c||(o!=null&&(f.minzoom=o),c!=null&&(f.maxzoom=c),this._updateLayer(f)):this.fire(new h.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${i}".`)))}setFilter(i,o,c={}){this._checkLoaded();const f=this.getLayer(i);if(f){if(!Lt(f.filter,o))return o==null?(f.filter=void 0,void this._updateLayer(f)):void(this._validate(h.validateStyle.filter,`layers.${f.id}.filter`,o,null,c)||(f.filter=h.clone$1(o),this._updateLayer(f)))}else this.fire(new h.ErrorEvent(new Error(`Cannot filter non-existing layer "${i}".`)))}getFilter(i){return h.clone$1(this.getLayer(i).filter)}setLayoutProperty(i,o,c,f={}){this._checkLoaded();const _=this.getLayer(i);_?Lt(_.getLayoutProperty(o),c)||(_.setLayoutProperty(o,c,f),this._updateLayer(_)):this.fire(new h.ErrorEvent(new Error(`Cannot style non-existing layer "${i}".`)))}getLayoutProperty(i,o){const c=this.getLayer(i);if(c)return c.getLayoutProperty(o);this.fire(new h.ErrorEvent(new Error(`Cannot get style of non-existing layer "${i}".`)))}setPaintProperty(i,o,c,f={}){this._checkLoaded();const _=this.getLayer(i);_?Lt(_.getPaintProperty(o),c)||(_.setPaintProperty(o,c,f)&&this._updateLayer(_),this._changed=!0,this._updatedPaintProps[i]=!0):this.fire(new h.ErrorEvent(new Error(`Cannot style non-existing layer "${i}".`)))}getPaintProperty(i,o){return this.getLayer(i).getPaintProperty(o)}setFeatureState(i,o){this._checkLoaded();const c=i.source,f=i.sourceLayer,_=this.sourceCaches[c];if(_===void 0)return void this.fire(new h.ErrorEvent(new Error(`The source '${c}' does not exist in the map's style.`)));const w=_.getSource().type;w==="geojson"&&f?this.fire(new h.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):w!=="vector"||f?(i.id===void 0&&this.fire(new h.ErrorEvent(new Error("The feature id parameter must be provided."))),_.setFeatureState(f,i.id,o)):this.fire(new h.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(i,o){this._checkLoaded();const c=i.source,f=this.sourceCaches[c];if(f===void 0)return void this.fire(new h.ErrorEvent(new Error(`The source '${c}' does not exist in the map's style.`)));const _=f.getSource().type,w=_==="vector"?i.sourceLayer:void 0;_!=="vector"||w?o&&typeof i.id!="string"&&typeof i.id!="number"?this.fire(new h.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):f.removeFeatureState(w,i.id,o):this.fire(new h.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(i){this._checkLoaded();const o=i.source,c=i.sourceLayer,f=this.sourceCaches[o];if(f!==void 0)return f.getSource().type!=="vector"||c?(i.id===void 0&&this.fire(new h.ErrorEvent(new Error("The feature id parameter must be provided."))),f.getFeatureState(c,i.id)):void this.fire(new h.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new h.ErrorEvent(new Error(`The source '${o}' does not exist in the map's style.`)))}getTransition(){return h.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){return h.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:h.mapObject(this.sourceCaches,i=>i.serialize()),layers:this._serializeLayers(this._order)},i=>i!==void 0)}_updateLayer(i){this._updatedLayers[i.id]=!0,i.source&&!this._updatedSources[i.source]&&this.sourceCaches[i.source].getSource().type!=="raster"&&(this._updatedSources[i.source]="reload",this.sourceCaches[i.source].pause()),this._changed=!0}_flattenAndSortRenderedFeatures(i){const o=w=>this._layers[w].type==="fill-extrusion",c={},f=[];for(let w=this._order.length-1;w>=0;w--){const S=this._order[w];if(o(S)){c[S]=w;for(const E of i){const P=E[S];if(P)for(const $ of P)f.push($)}}}f.sort((w,S)=>S.intersectionZ-w.intersectionZ);const _=[];for(let w=this._order.length-1;w>=0;w--){const S=this._order[w];if(o(S))for(let E=f.length-1;E>=0;E--){const P=f[E].feature;if(c[P.layer.id]<w)break;_.push(P),f.pop()}else for(const E of i){const P=E[S];if(P)for(const $ of P)_.push($.feature)}}return _}queryRenderedFeatures(i,o,c){o&&o.filter&&this._validate(h.validateStyle.filter,"queryRenderedFeatures.filter",o.filter,null,o);const f={};if(o&&o.layers){if(!Array.isArray(o.layers))return this.fire(new h.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const w of o.layers){const S=this._layers[w];if(!S)return this.fire(new h.ErrorEvent(new Error(`The layer '${w}' does not exist in the map's style and cannot be queried for features.`))),[];f[S.source]=!0}}const _=[];o.availableImages=this._availableImages;for(const w in this.sourceCaches)o.layers&&!f[w]||_.push(zn(this.sourceCaches[w],this._layers,this._serializedLayers,i,o,c));return this.placement&&_.push(function(w,S,E,P,$,O,j){const tt={},J=O.queryRenderedSymbols(P),Q=[];for(const ht of Object.keys(J).map(Number))Q.push(j[ht]);Q.sort(Gi);for(const ht of Q){const mt=ht.featureIndex.lookupSymbolFeatures(J[ht.bucketInstanceId],S,ht.bucketIndex,ht.sourceLayerIndex,$.filter,$.layers,$.availableImages,w);for(const xt in mt){const it=tt[xt]=tt[xt]||[],Et=mt[xt];Et.sort((wt,$t)=>{const Dt=ht.featureSortOrder;if(Dt){const Wt=Dt.indexOf(wt.featureIndex);return Dt.indexOf($t.featureIndex)-Wt}return $t.featureIndex-wt.featureIndex});for(const wt of Et)it.push(wt)}}for(const ht in tt)tt[ht].forEach(mt=>{const xt=mt.feature,it=E[w[ht].source].getFeatureState(xt.layer["source-layer"],xt.id);xt.source=xt.layer.source,xt.layer["source-layer"]&&(xt.sourceLayer=xt.layer["source-layer"]),xt.state=it});return tt}(this._layers,this._serializedLayers,this.sourceCaches,i,o,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(_)}querySourceFeatures(i,o){o&&o.filter&&this._validate(h.validateStyle.filter,"querySourceFeatures.filter",o.filter,null,o);const c=this.sourceCaches[i];return c?function(f,_){const w=f.getRenderableIds().map(P=>f.getTileByID(P)),S=[],E={};for(let P=0;P<w.length;P++){const $=w[P],O=$.tileID.canonical.key;E[O]||(E[O]=!0,$.querySourceFeatures(S,_))}return S}(c,o):[]}addSourceType(i,o,c){return Ln.getSourceType(i)?c(new Error(`A source type called "${i}" already exists.`)):(Ln.setSourceType(i,o),o.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:i,url:o.workerSourceURL},c):c(null,null))}getLight(){return this.light.getLight()}setLight(i,o={}){this._checkLoaded();const c=this.light.getLight();let f=!1;for(const w in i)if(!Lt(i[w],c[w])){f=!0;break}if(!f)return;const _={now:h.exported.now(),transition:h.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(i,o),this.light.updateTransitions(_)}_validate(i,o,c,f,_={}){return(!_||_.validate!==!1)&&yi(this,i.call(h.validateStyle,h.extend({key:o,style:this.serialize(),value:c,styleSpec:h.spec},f)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),h.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const i in this._layers)this._layers[i].setEventedParent(null);for(const i in this.sourceCaches){const o=this.sourceCaches[i];o.setEventedParent(null),o.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(i){this.sourceCaches[i].clearTiles()}_reloadSource(i){this.sourceCaches[i].resume(),this.sourceCaches[i].reload()}_updateSources(i){for(const o in this.sourceCaches)this.sourceCaches[o].update(i,this.terrain)}_generateCollisionBoxes(){for(const i in this.sourceCaches)this._reloadSource(i)}_updatePlacement(i,o,c,f,_=!1){let w=!1,S=!1;const E={};for(const P of this._order){const $=this._layers[P];if($.type!=="symbol")continue;if(!E[$.source]){const j=this.sourceCaches[$.source];E[$.source]=j.getRenderableIds(!0).map(tt=>j.getTileByID(tt)).sort((tt,J)=>J.tileID.overscaledZ-tt.tileID.overscaledZ||(tt.tileID.isLessThan(J.tileID)?-1:1))}const O=this.crossTileSymbolIndex.addLayer($,E[$.source],i.center.lng);w=w||O}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((_=_||this._layerOrderChanged||c===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(h.exported.now(),i.zoom))&&(this.pauseablePlacement=new Mt(i,this.terrain,this._order,_,o,c,f,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,E),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(h.exported.now()),S=!0),w&&this.pauseablePlacement.placement.setStale()),S||w)for(const P of this._order){const $=this._layers[P];$.type==="symbol"&&this.placement.updateLayerOpacities($,E[$.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(h.exported.now())}_releaseSymbolFadeTiles(){for(const i in this.sourceCaches)this.sourceCaches[i].releaseSymbolFadeTiles()}getImages(i,o,c){this.imageManager.getImages(o.icons,c),this._updateTilesForChangedImages();const f=this.sourceCaches[o.source];f&&f.setDependencies(o.tileID.key,o.type,o.icons)}getGlyphs(i,o,c){this.glyphManager.getGlyphs(o.stacks,c)}getResource(i,o,c){return h.makeRequest(o,c)}}Ln.getSourceType=function(d){return Qi[d]},Ln.setSourceType=function(d,i){Qi[d]=i},Ln.registerForPluginStateChange=h.registerForPluginStateChange;var er="attribute vec2 a_pos;uniform mat4 u_matrix;varying vec2 v_texture_pos;varying float v_depth;void main() {v_texture_pos=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);v_depth=gl_Position.z/gl_Position.w;}";const ta={prelude:ee(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_offset;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return (elevation+u_terrain_offset)*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:ee(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:ee(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:ee(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:ee("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:ee(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:ee(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:ee("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:ee("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:ee("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:ee(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:ee(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:ee(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:ee(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:ee(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float baseDelta=10.0;float ele=get_elevation(a_centroid);
#else
float baseDelta=0.0;float ele=0.0;
#endif
base=max(0.0,ele+base-baseDelta);height=max(0.0,ele+height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:ee(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float baseDelta=10.0;float ele=get_elevation(a_centroid);
#else
float baseDelta=0.0;float ele=0.0;
#endif
base=max(0.0,ele+base-baseDelta);height=max(0.0,ele+height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:ee(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:ee(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:ee(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:ee(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:ee(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:ee(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:ee(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:ee(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:ee(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:ee(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:ee("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",er),terrainDepth:ee("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",er),terrainCoords:ee("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",er)};function ee(d,i){const o=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,c=i.match(/attribute ([\w]+) ([\w]+)/g),f=d.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),_=i.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),w=_?_.concat(f):f,S={};return{fragmentSource:d=d.replace(o,(E,P,$,O,j)=>(S[j]=!0,P==="define"?`
#ifndef HAS_UNIFORM_u_${j}
varying ${$} ${O} ${j};
#else
uniform ${$} ${O} u_${j};
#endif
`:`
#ifdef HAS_UNIFORM_u_${j}
    ${$} ${O} ${j} = u_${j};
#endif
`)),vertexSource:i=i.replace(o,(E,P,$,O,j)=>{const tt=O==="float"?"vec2":"vec4",J=j.match(/color/)?"color":tt;return S[j]?P==="define"?`
#ifndef HAS_UNIFORM_u_${j}
uniform lowp float u_${j}_t;
attribute ${$} ${tt} a_${j};
varying ${$} ${O} ${j};
#else
uniform ${$} ${O} u_${j};
#endif
`:J==="vec4"?`
#ifndef HAS_UNIFORM_u_${j}
    ${j} = a_${j};
#else
    ${$} ${O} ${j} = u_${j};
#endif
`:`
#ifndef HAS_UNIFORM_u_${j}
    ${j} = unpack_mix_${J}(a_${j}, u_${j}_t);
#else
    ${$} ${O} ${j} = u_${j};
#endif
`:P==="define"?`
#ifndef HAS_UNIFORM_u_${j}
uniform lowp float u_${j}_t;
attribute ${$} ${tt} a_${j};
#else
uniform ${$} ${O} u_${j};
#endif
`:J==="vec4"?`
#ifndef HAS_UNIFORM_u_${j}
    ${$} ${O} ${j} = a_${j};
#else
    ${$} ${O} ${j} = u_${j};
#endif
`:`
#ifndef HAS_UNIFORM_u_${j}
    ${$} ${O} ${j} = unpack_mix_${J}(a_${j}, u_${j}_t);
#else
    ${$} ${O} ${j} = u_${j};
#endif
`}),staticAttributes:c,staticUniforms:w}}class Vs{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(i,o,c,f,_,w,S,E,P){this.context=i;let $=this.boundPaintVertexBuffers.length!==f.length;for(let O=0;!$&&O<f.length;O++)this.boundPaintVertexBuffers[O]!==f[O]&&($=!0);i.extVertexArrayObject&&this.vao&&this.boundProgram===o&&this.boundLayoutVertexBuffer===c&&!$&&this.boundIndexBuffer===_&&this.boundVertexOffset===w&&this.boundDynamicVertexBuffer===S&&this.boundDynamicVertexBuffer2===E&&this.boundDynamicVertexBuffer3===P?(i.bindVertexArrayOES.set(this.vao),S&&S.bind(),_&&_.dynamicDraw&&_.bind(),E&&E.bind(),P&&P.bind()):this.freshBind(o,c,f,_,w,S,E,P)}freshBind(i,o,c,f,_,w,S,E){let P;const $=i.numAttributes,O=this.context,j=O.gl;if(O.extVertexArrayObject)this.vao&&this.destroy(),this.vao=O.extVertexArrayObject.createVertexArrayOES(),O.bindVertexArrayOES.set(this.vao),P=0,this.boundProgram=i,this.boundLayoutVertexBuffer=o,this.boundPaintVertexBuffers=c,this.boundIndexBuffer=f,this.boundVertexOffset=_,this.boundDynamicVertexBuffer=w,this.boundDynamicVertexBuffer2=S,this.boundDynamicVertexBuffer3=E;else{P=O.currentNumAttributes||0;for(let tt=$;tt<P;tt++)j.disableVertexAttribArray(tt)}o.enableAttributes(j,i);for(const tt of c)tt.enableAttributes(j,i);w&&w.enableAttributes(j,i),S&&S.enableAttributes(j,i),E&&E.enableAttributes(j,i),o.bind(),o.setVertexAttribPointers(j,i,_);for(const tt of c)tt.bind(),tt.setVertexAttribPointers(j,i,_);w&&(w.bind(),w.setVertexAttribPointers(j,i,_)),f&&f.bind(),S&&(S.bind(),S.setVertexAttribPointers(j,i,_)),E&&(E.bind(),E.setVertexAttribPointers(j,i,_)),O.currentNumAttributes=$}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function ea(d){const i=[];for(let o=0;o<d.length;o++){if(d[o]===null)continue;const c=d[o].split(" ");i.push(c.pop())}return i}class Gl{constructor(i,o,c,f,_,w,S){const E=i.gl;this.program=E.createProgram();const P=ea(c.staticAttributes),$=f?f.getBinderAttributes():[],O=P.concat($),j=ta.prelude.staticUniforms?ea(ta.prelude.staticUniforms):[],tt=c.staticUniforms?ea(c.staticUniforms):[],J=f?f.getBinderUniforms():[],Q=j.concat(tt).concat(J),ht=[];for(const Dt of Q)ht.indexOf(Dt)<0&&ht.push(Dt);const mt=f?f.defines():[];w&&mt.push("#define OVERDRAW_INSPECTOR;"),S&&mt.push("#define TERRAIN3D;");const xt=mt.concat(ta.prelude.fragmentSource,c.fragmentSource).join(`
`),it=mt.concat(ta.prelude.vertexSource,c.vertexSource).join(`
`),Et=E.createShader(E.FRAGMENT_SHADER);if(E.isContextLost())return void(this.failedToCreate=!0);E.shaderSource(Et,xt),E.compileShader(Et),E.attachShader(this.program,Et);const wt=E.createShader(E.VERTEX_SHADER);if(E.isContextLost())return void(this.failedToCreate=!0);E.shaderSource(wt,it),E.compileShader(wt),E.attachShader(this.program,wt),this.attributes={};const $t={};this.numAttributes=O.length;for(let Dt=0;Dt<this.numAttributes;Dt++)O[Dt]&&(E.bindAttribLocation(this.program,Dt,O[Dt]),this.attributes[O[Dt]]=Dt);E.linkProgram(this.program),E.deleteShader(wt),E.deleteShader(Et);for(let Dt=0;Dt<ht.length;Dt++){const Wt=ht[Dt];if(Wt&&!$t[Wt]){const zt=E.getUniformLocation(this.program,Wt);zt&&($t[Wt]=zt)}}this.fixedUniforms=_(i,$t),this.terrainUniforms=((Dt,Wt)=>({u_depth:new h.Uniform1i(Dt,Wt.u_depth),u_terrain:new h.Uniform1i(Dt,Wt.u_terrain),u_terrain_dim:new h.Uniform1f(Dt,Wt.u_terrain_dim),u_terrain_matrix:new h.UniformMatrix4f(Dt,Wt.u_terrain_matrix),u_terrain_unpack:new h.Uniform4f(Dt,Wt.u_terrain_unpack),u_terrain_offset:new h.Uniform1f(Dt,Wt.u_terrain_offset),u_terrain_exaggeration:new h.Uniform1f(Dt,Wt.u_terrain_exaggeration)}))(i,$t),this.binderUniforms=f?f.getUniforms(i,$t):[]}draw(i,o,c,f,_,w,S,E,P,$,O,j,tt,J,Q,ht,mt,xt){const it=i.gl;if(this.failedToCreate)return;if(i.program.set(this.program),i.setDepthMode(c),i.setStencilMode(f),i.setColorMode(_),i.setCullFace(w),E){i.activeTexture.set(it.TEXTURE2),it.bindTexture(it.TEXTURE_2D,E.depthTexture),i.activeTexture.set(it.TEXTURE3),it.bindTexture(it.TEXTURE_2D,E.texture);for(const wt in this.terrainUniforms)this.terrainUniforms[wt].set(E[wt])}for(const wt in this.fixedUniforms)this.fixedUniforms[wt].set(S[wt]);Q&&Q.setUniforms(i,this.binderUniforms,tt,{zoom:J});let Et=0;switch(o){case it.LINES:Et=2;break;case it.TRIANGLES:Et=3;break;case it.LINE_STRIP:Et=1}for(const wt of j.get()){const $t=wt.vaos||(wt.vaos={});($t[P]||($t[P]=new Vs)).bind(i,this,$,Q?Q.getPaintVertexBuffers():[],O,wt.vertexOffset,ht,mt,xt),it.drawElements(o,wt.primitiveLength*Et,it.UNSIGNED_SHORT,wt.primitiveOffset*Et*2)}}}function yn(d,i,o){const c=1/Cn(o,1,i.transform.tileZoom),f=Math.pow(2,o.tileID.overscaledZ),_=o.tileSize*Math.pow(2,i.transform.tileZoom)/f,w=_*(o.tileID.canonical.x+o.tileID.wrap*f),S=_*o.tileID.canonical.y;return{u_image:0,u_texsize:o.imageAtlasTexture.size,u_scale:[c,d.fromScale,d.toScale],u_fade:d.t,u_pixel_coord_upper:[w>>16,S>>16],u_pixel_coord_lower:[65535&w,65535&S]}}const il=(d,i,o,c)=>{const f=i.style.light,_=f.properties.get("position"),w=[_.x,_.y,_.z],S=h.create$1();f.properties.get("anchor")==="viewport"&&h.fromRotation(S,-i.transform.angle),h.transformMat3(w,w,S);const E=f.properties.get("color");return{u_matrix:d,u_lightpos:w,u_lightintensity:f.properties.get("intensity"),u_lightcolor:[E.r,E.g,E.b],u_vertical_gradient:+o,u_opacity:c}},pn=(d,i,o,c,f,_,w)=>h.extend(il(d,i,o,c),yn(_,i,w),{u_height_factor:-Math.pow(2,f.overscaledZ)/w.tileSize/8}),Mo=d=>({u_matrix:d}),Un=(d,i,o,c)=>h.extend(Mo(d),yn(o,i,c)),Wl=(d,i)=>({u_matrix:d,u_world:i}),mi=(d,i,o,c,f)=>h.extend(Un(d,i,o,c),{u_world:f}),zr=(d,i,o,c)=>{const f=d.transform;let _,w;if(c.paint.get("circle-pitch-alignment")==="map"){const S=Cn(o,1,f.zoom);_=!0,w=[S,S]}else _=!1,w=f.pixelsToGLUnits;return{u_camera_to_center_distance:f.cameraToCenterDistance,u_scale_with_map:+(c.paint.get("circle-pitch-scale")==="map"),u_matrix:d.translatePosMatrix(i.posMatrix,o,c.paint.get("circle-translate"),c.paint.get("circle-translate-anchor")),u_pitch_with_map:+_,u_device_pixel_ratio:d.pixelRatio,u_extrude_scale:w}},vs=(d,i,o)=>{const c=Cn(o,1,i.zoom),f=Math.pow(2,i.zoom-o.tileID.overscaledZ),_=o.tileID.overscaleFactor();return{u_matrix:d,u_camera_to_center_distance:i.cameraToCenterDistance,u_pixels_to_tile_units:c,u_extrude_scale:[i.pixelsToGLUnits[0]/(c*f),i.pixelsToGLUnits[1]/(c*f)],u_overscale_factor:_}},js=(d,i,o=1)=>({u_matrix:d,u_color:i,u_overlay:0,u_overlay_scale:o}),Vi=d=>({u_matrix:d}),ir=(d,i,o,c)=>({u_matrix:d,u_extrude_scale:Cn(i,1,o),u_intensity:c});function Lr(d,i){const o=Math.pow(2,i.canonical.z),c=i.canonical.y;return[new h.MercatorCoordinate(0,c/o).toLngLat().lat,new h.MercatorCoordinate(0,(c+1)/o).toLngLat().lat]}const ls=(d,i,o,c)=>{const f=d.transform;return{u_matrix:fn(d,i,o,c),u_ratio:1/Cn(i,1,f.zoom),u_device_pixel_ratio:d.pixelRatio,u_units_to_pixels:[1/f.pixelsToGLUnits[0],1/f.pixelsToGLUnits[1]]}},nl=(d,i,o,c,f)=>h.extend(ls(d,i,o,f),{u_image:0,u_image_height:c}),Aa=(d,i,o,c,f)=>{const _=d.transform,w=Ki(i,_);return{u_matrix:fn(d,i,o,f),u_texsize:i.imageAtlasTexture.size,u_ratio:1/Cn(i,1,_.zoom),u_device_pixel_ratio:d.pixelRatio,u_image:0,u_scale:[w,c.fromScale,c.toScale],u_fade:c.t,u_units_to_pixels:[1/_.pixelsToGLUnits[0],1/_.pixelsToGLUnits[1]]}},Vn=(d,i,o,c,f,_)=>{const w=d.lineAtlas,S=Ki(i,d.transform),E=o.layout.get("line-cap")==="round",P=w.getDash(c.from,E),$=w.getDash(c.to,E),O=P.width*f.fromScale,j=$.width*f.toScale;return h.extend(ls(d,i,o,_),{u_patternscale_a:[S/O,-P.height/2],u_patternscale_b:[S/j,-$.height/2],u_sdfgamma:w.width/(256*Math.min(O,j)*d.pixelRatio)/2,u_image:0,u_tex_y_a:P.y,u_tex_y_b:$.y,u_mix:f.t})};function Ki(d,i){return 1/Cn(d,1,i.tileZoom)}function fn(d,i,o,c){return d.translatePosMatrix(c?c.posMatrix:i.tileID.posMatrix,i,o.paint.get("line-translate"),o.paint.get("line-translate-anchor"))}const ae=(d,i,o,c,f)=>{return{u_matrix:d,u_tl_parent:i,u_scale_parent:o,u_buffer_scale:1,u_fade_t:c.mix,u_opacity:c.opacity*f.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:f.paint.get("raster-brightness-min"),u_brightness_high:f.paint.get("raster-brightness-max"),u_saturation_factor:(w=f.paint.get("raster-saturation"),w>0?1-1/(1.001-w):-w),u_contrast_factor:(_=f.paint.get("raster-contrast"),_>0?1/(1-_):1+_),u_spin_weights:ei(f.paint.get("raster-hue-rotate"))};var _,w};function ei(d){d*=Math.PI/180;const i=Math.sin(d),o=Math.cos(d);return[(2*o+1)/3,(-Math.sqrt(3)*i-o+1)/3,(Math.sqrt(3)*i-o+1)/3]}const ia=(d,i,o,c,f,_,w,S,E,P)=>{const $=f.transform;return{u_is_size_zoom_constant:+(d==="constant"||d==="source"),u_is_size_feature_constant:+(d==="constant"||d==="camera"),u_size_t:i?i.uSizeT:0,u_size:i?i.uSize:0,u_camera_to_center_distance:$.cameraToCenterDistance,u_pitch:$.pitch/360*2*Math.PI,u_rotate_symbol:+o,u_aspect_ratio:$.width/$.height,u_fade_change:f.options.fadeDuration?f.symbolFadeChange:1,u_matrix:_,u_label_plane_matrix:w,u_coord_matrix:S,u_is_text:+E,u_pitch_with_map:+c,u_texsize:P,u_texture:0}},Zn=(d,i,o,c,f,_,w,S,E,P,$)=>{const O=f.transform;return h.extend(ia(d,i,o,c,f,_,w,S,E,P),{u_gamma_scale:c?Math.cos(O._pitch)*O.cameraToCenterDistance:1,u_device_pixel_ratio:f.pixelRatio,u_is_halo:+$})},le=(d,i,o,c,f,_,w,S,E,P)=>h.extend(Zn(d,i,o,c,f,_,w,S,!0,E,!0),{u_texsize_icon:P,u_texture_icon:1}),He=(d,i,o)=>({u_matrix:d,u_opacity:i,u_color:o}),Yr=(d,i,o,c,f,_)=>h.extend(function(w,S,E,P){const $=E.imageManager.getPattern(w.from.toString()),O=E.imageManager.getPattern(w.to.toString()),{width:j,height:tt}=E.imageManager.getPixelSize(),J=Math.pow(2,P.tileID.overscaledZ),Q=P.tileSize*Math.pow(2,E.transform.tileZoom)/J,ht=Q*(P.tileID.canonical.x+P.tileID.wrap*J),mt=Q*P.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:$.tl,u_pattern_br_a:$.br,u_pattern_tl_b:O.tl,u_pattern_br_b:O.br,u_texsize:[j,tt],u_mix:S.t,u_pattern_size_a:$.displaySize,u_pattern_size_b:O.displaySize,u_scale_a:S.fromScale,u_scale_b:S.toScale,u_tile_units_to_pixels:1/Cn(P,1,E.transform.tileZoom),u_pixel_coord_upper:[ht>>16,mt>>16],u_pixel_coord_lower:[65535&ht,65535&mt]}}(c,_,o,f),{u_matrix:d,u_opacity:i}),ts={fillExtrusion:(d,i)=>({u_matrix:new h.UniformMatrix4f(d,i.u_matrix),u_lightpos:new h.Uniform3f(d,i.u_lightpos),u_lightintensity:new h.Uniform1f(d,i.u_lightintensity),u_lightcolor:new h.Uniform3f(d,i.u_lightcolor),u_vertical_gradient:new h.Uniform1f(d,i.u_vertical_gradient),u_opacity:new h.Uniform1f(d,i.u_opacity)}),fillExtrusionPattern:(d,i)=>({u_matrix:new h.UniformMatrix4f(d,i.u_matrix),u_lightpos:new h.Uniform3f(d,i.u_lightpos),u_lightintensity:new h.Uniform1f(d,i.u_lightintensity),u_lightcolor:new h.Uniform3f(d,i.u_lightcolor),u_vertical_gradient:new h.Uniform1f(d,i.u_vertical_gradient),u_height_factor:new h.Uniform1f(d,i.u_height_factor),u_image:new h.Uniform1i(d,i.u_image),u_texsize:new h.Uniform2f(d,i.u_texsize),u_pixel_coord_upper:new h.Uniform2f(d,i.u_pixel_coord_upper),u_pixel_coord_lower:new h.Uniform2f(d,i.u_pixel_coord_lower),u_scale:new h.Uniform3f(d,i.u_scale),u_fade:new h.Uniform1f(d,i.u_fade),u_opacity:new h.Uniform1f(d,i.u_opacity)}),fill:(d,i)=>({u_matrix:new h.UniformMatrix4f(d,i.u_matrix)}),fillPattern:(d,i)=>({u_matrix:new h.UniformMatrix4f(d,i.u_matrix),u_image:new h.Uniform1i(d,i.u_image),u_texsize:new h.Uniform2f(d,i.u_texsize),u_pixel_coord_upper:new h.Uniform2f(d,i.u_pixel_coord_upper),u_pixel_coord_lower:new h.Uniform2f(d,i.u_pixel_coord_lower),u_scale:new h.Uniform3f(d,i.u_scale),u_fade:new h.Uniform1f(d,i.u_fade)}),fillOutline:(d,i)=>({u_matrix:new h.UniformMatrix4f(d,i.u_matrix),u_world:new h.Uniform2f(d,i.u_world)}),fillOutlinePattern:(d,i)=>({u_matrix:new h.UniformMatrix4f(d,i.u_matrix),u_world:new h.Uniform2f(d,i.u_world),u_image:new h.Uniform1i(d,i.u_image),u_texsize:new h.Uniform2f(d,i.u_texsize),u_pixel_coord_upper:new h.Uniform2f(d,i.u_pixel_coord_upper),u_pixel_coord_lower:new h.Uniform2f(d,i.u_pixel_coord_lower),u_scale:new h.Uniform3f(d,i.u_scale),u_fade:new h.Uniform1f(d,i.u_fade)}),circle:(d,i)=>({u_camera_to_center_distance:new h.Uniform1f(d,i.u_camera_to_center_distance),u_scale_with_map:new h.Uniform1i(d,i.u_scale_with_map),u_pitch_with_map:new h.Uniform1i(d,i.u_pitch_with_map),u_extrude_scale:new h.Uniform2f(d,i.u_extrude_scale),u_device_pixel_ratio:new h.Uniform1f(d,i.u_device_pixel_ratio),u_matrix:new h.UniformMatrix4f(d,i.u_matrix)}),collisionBox:(d,i)=>({u_matrix:new h.UniformMatrix4f(d,i.u_matrix),u_camera_to_center_distance:new h.Uniform1f(d,i.u_camera_to_center_distance),u_pixels_to_tile_units:new h.Uniform1f(d,i.u_pixels_to_tile_units),u_extrude_scale:new h.Uniform2f(d,i.u_extrude_scale),u_overscale_factor:new h.Uniform1f(d,i.u_overscale_factor)}),collisionCircle:(d,i)=>({u_matrix:new h.UniformMatrix4f(d,i.u_matrix),u_inv_matrix:new h.UniformMatrix4f(d,i.u_inv_matrix),u_camera_to_center_distance:new h.Uniform1f(d,i.u_camera_to_center_distance),u_viewport_size:new h.Uniform2f(d,i.u_viewport_size)}),debug:(d,i)=>({u_color:new h.UniformColor(d,i.u_color),u_matrix:new h.UniformMatrix4f(d,i.u_matrix),u_overlay:new h.Uniform1i(d,i.u_overlay),u_overlay_scale:new h.Uniform1f(d,i.u_overlay_scale)}),clippingMask:(d,i)=>({u_matrix:new h.UniformMatrix4f(d,i.u_matrix)}),heatmap:(d,i)=>({u_extrude_scale:new h.Uniform1f(d,i.u_extrude_scale),u_intensity:new h.Uniform1f(d,i.u_intensity),u_matrix:new h.UniformMatrix4f(d,i.u_matrix)}),heatmapTexture:(d,i)=>({u_matrix:new h.UniformMatrix4f(d,i.u_matrix),u_world:new h.Uniform2f(d,i.u_world),u_image:new h.Uniform1i(d,i.u_image),u_color_ramp:new h.Uniform1i(d,i.u_color_ramp),u_opacity:new h.Uniform1f(d,i.u_opacity)}),hillshade:(d,i)=>({u_matrix:new h.UniformMatrix4f(d,i.u_matrix),u_image:new h.Uniform1i(d,i.u_image),u_latrange:new h.Uniform2f(d,i.u_latrange),u_light:new h.Uniform2f(d,i.u_light),u_shadow:new h.UniformColor(d,i.u_shadow),u_highlight:new h.UniformColor(d,i.u_highlight),u_accent:new h.UniformColor(d,i.u_accent)}),hillshadePrepare:(d,i)=>({u_matrix:new h.UniformMatrix4f(d,i.u_matrix),u_image:new h.Uniform1i(d,i.u_image),u_dimension:new h.Uniform2f(d,i.u_dimension),u_zoom:new h.Uniform1f(d,i.u_zoom),u_unpack:new h.Uniform4f(d,i.u_unpack)}),line:(d,i)=>({u_matrix:new h.UniformMatrix4f(d,i.u_matrix),u_ratio:new h.Uniform1f(d,i.u_ratio),u_device_pixel_ratio:new h.Uniform1f(d,i.u_device_pixel_ratio),u_units_to_pixels:new h.Uniform2f(d,i.u_units_to_pixels)}),lineGradient:(d,i)=>({u_matrix:new h.UniformMatrix4f(d,i.u_matrix),u_ratio:new h.Uniform1f(d,i.u_ratio),u_device_pixel_ratio:new h.Uniform1f(d,i.u_device_pixel_ratio),u_units_to_pixels:new h.Uniform2f(d,i.u_units_to_pixels),u_image:new h.Uniform1i(d,i.u_image),u_image_height:new h.Uniform1f(d,i.u_image_height)}),linePattern:(d,i)=>({u_matrix:new h.UniformMatrix4f(d,i.u_matrix),u_texsize:new h.Uniform2f(d,i.u_texsize),u_ratio:new h.Uniform1f(d,i.u_ratio),u_device_pixel_ratio:new h.Uniform1f(d,i.u_device_pixel_ratio),u_image:new h.Uniform1i(d,i.u_image),u_units_to_pixels:new h.Uniform2f(d,i.u_units_to_pixels),u_scale:new h.Uniform3f(d,i.u_scale),u_fade:new h.Uniform1f(d,i.u_fade)}),lineSDF:(d,i)=>({u_matrix:new h.UniformMatrix4f(d,i.u_matrix),u_ratio:new h.Uniform1f(d,i.u_ratio),u_device_pixel_ratio:new h.Uniform1f(d,i.u_device_pixel_ratio),u_units_to_pixels:new h.Uniform2f(d,i.u_units_to_pixels),u_patternscale_a:new h.Uniform2f(d,i.u_patternscale_a),u_patternscale_b:new h.Uniform2f(d,i.u_patternscale_b),u_sdfgamma:new h.Uniform1f(d,i.u_sdfgamma),u_image:new h.Uniform1i(d,i.u_image),u_tex_y_a:new h.Uniform1f(d,i.u_tex_y_a),u_tex_y_b:new h.Uniform1f(d,i.u_tex_y_b),u_mix:new h.Uniform1f(d,i.u_mix)}),raster:(d,i)=>({u_matrix:new h.UniformMatrix4f(d,i.u_matrix),u_tl_parent:new h.Uniform2f(d,i.u_tl_parent),u_scale_parent:new h.Uniform1f(d,i.u_scale_parent),u_buffer_scale:new h.Uniform1f(d,i.u_buffer_scale),u_fade_t:new h.Uniform1f(d,i.u_fade_t),u_opacity:new h.Uniform1f(d,i.u_opacity),u_image0:new h.Uniform1i(d,i.u_image0),u_image1:new h.Uniform1i(d,i.u_image1),u_brightness_low:new h.Uniform1f(d,i.u_brightness_low),u_brightness_high:new h.Uniform1f(d,i.u_brightness_high),u_saturation_factor:new h.Uniform1f(d,i.u_saturation_factor),u_contrast_factor:new h.Uniform1f(d,i.u_contrast_factor),u_spin_weights:new h.Uniform3f(d,i.u_spin_weights)}),symbolIcon:(d,i)=>({u_is_size_zoom_constant:new h.Uniform1i(d,i.u_is_size_zoom_constant),u_is_size_feature_constant:new h.Uniform1i(d,i.u_is_size_feature_constant),u_size_t:new h.Uniform1f(d,i.u_size_t),u_size:new h.Uniform1f(d,i.u_size),u_camera_to_center_distance:new h.Uniform1f(d,i.u_camera_to_center_distance),u_pitch:new h.Uniform1f(d,i.u_pitch),u_rotate_symbol:new h.Uniform1i(d,i.u_rotate_symbol),u_aspect_ratio:new h.Uniform1f(d,i.u_aspect_ratio),u_fade_change:new h.Uniform1f(d,i.u_fade_change),u_matrix:new h.UniformMatrix4f(d,i.u_matrix),u_label_plane_matrix:new h.UniformMatrix4f(d,i.u_label_plane_matrix),u_coord_matrix:new h.UniformMatrix4f(d,i.u_coord_matrix),u_is_text:new h.Uniform1i(d,i.u_is_text),u_pitch_with_map:new h.Uniform1i(d,i.u_pitch_with_map),u_texsize:new h.Uniform2f(d,i.u_texsize),u_texture:new h.Uniform1i(d,i.u_texture)}),symbolSDF:(d,i)=>({u_is_size_zoom_constant:new h.Uniform1i(d,i.u_is_size_zoom_constant),u_is_size_feature_constant:new h.Uniform1i(d,i.u_is_size_feature_constant),u_size_t:new h.Uniform1f(d,i.u_size_t),u_size:new h.Uniform1f(d,i.u_size),u_camera_to_center_distance:new h.Uniform1f(d,i.u_camera_to_center_distance),u_pitch:new h.Uniform1f(d,i.u_pitch),u_rotate_symbol:new h.Uniform1i(d,i.u_rotate_symbol),u_aspect_ratio:new h.Uniform1f(d,i.u_aspect_ratio),u_fade_change:new h.Uniform1f(d,i.u_fade_change),u_matrix:new h.UniformMatrix4f(d,i.u_matrix),u_label_plane_matrix:new h.UniformMatrix4f(d,i.u_label_plane_matrix),u_coord_matrix:new h.UniformMatrix4f(d,i.u_coord_matrix),u_is_text:new h.Uniform1i(d,i.u_is_text),u_pitch_with_map:new h.Uniform1i(d,i.u_pitch_with_map),u_texsize:new h.Uniform2f(d,i.u_texsize),u_texture:new h.Uniform1i(d,i.u_texture),u_gamma_scale:new h.Uniform1f(d,i.u_gamma_scale),u_device_pixel_ratio:new h.Uniform1f(d,i.u_device_pixel_ratio),u_is_halo:new h.Uniform1i(d,i.u_is_halo)}),symbolTextAndIcon:(d,i)=>({u_is_size_zoom_constant:new h.Uniform1i(d,i.u_is_size_zoom_constant),u_is_size_feature_constant:new h.Uniform1i(d,i.u_is_size_feature_constant),u_size_t:new h.Uniform1f(d,i.u_size_t),u_size:new h.Uniform1f(d,i.u_size),u_camera_to_center_distance:new h.Uniform1f(d,i.u_camera_to_center_distance),u_pitch:new h.Uniform1f(d,i.u_pitch),u_rotate_symbol:new h.Uniform1i(d,i.u_rotate_symbol),u_aspect_ratio:new h.Uniform1f(d,i.u_aspect_ratio),u_fade_change:new h.Uniform1f(d,i.u_fade_change),u_matrix:new h.UniformMatrix4f(d,i.u_matrix),u_label_plane_matrix:new h.UniformMatrix4f(d,i.u_label_plane_matrix),u_coord_matrix:new h.UniformMatrix4f(d,i.u_coord_matrix),u_is_text:new h.Uniform1i(d,i.u_is_text),u_pitch_with_map:new h.Uniform1i(d,i.u_pitch_with_map),u_texsize:new h.Uniform2f(d,i.u_texsize),u_texsize_icon:new h.Uniform2f(d,i.u_texsize_icon),u_texture:new h.Uniform1i(d,i.u_texture),u_texture_icon:new h.Uniform1i(d,i.u_texture_icon),u_gamma_scale:new h.Uniform1f(d,i.u_gamma_scale),u_device_pixel_ratio:new h.Uniform1f(d,i.u_device_pixel_ratio),u_is_halo:new h.Uniform1i(d,i.u_is_halo)}),background:(d,i)=>({u_matrix:new h.UniformMatrix4f(d,i.u_matrix),u_opacity:new h.Uniform1f(d,i.u_opacity),u_color:new h.UniformColor(d,i.u_color)}),backgroundPattern:(d,i)=>({u_matrix:new h.UniformMatrix4f(d,i.u_matrix),u_opacity:new h.Uniform1f(d,i.u_opacity),u_image:new h.Uniform1i(d,i.u_image),u_pattern_tl_a:new h.Uniform2f(d,i.u_pattern_tl_a),u_pattern_br_a:new h.Uniform2f(d,i.u_pattern_br_a),u_pattern_tl_b:new h.Uniform2f(d,i.u_pattern_tl_b),u_pattern_br_b:new h.Uniform2f(d,i.u_pattern_br_b),u_texsize:new h.Uniform2f(d,i.u_texsize),u_mix:new h.Uniform1f(d,i.u_mix),u_pattern_size_a:new h.Uniform2f(d,i.u_pattern_size_a),u_pattern_size_b:new h.Uniform2f(d,i.u_pattern_size_b),u_scale_a:new h.Uniform1f(d,i.u_scale_a),u_scale_b:new h.Uniform1f(d,i.u_scale_b),u_pixel_coord_upper:new h.Uniform2f(d,i.u_pixel_coord_upper),u_pixel_coord_lower:new h.Uniform2f(d,i.u_pixel_coord_lower),u_tile_units_to_pixels:new h.Uniform1f(d,i.u_tile_units_to_pixels)}),terrain:(d,i)=>({u_matrix:new h.UniformMatrix4f(d,i.u_matrix),u_texture:new h.Uniform1i(d,i.u_texture)}),terrainDepth:(d,i)=>({u_matrix:new h.UniformMatrix4f(d,i.u_matrix)}),terrainCoords:(d,i)=>({u_matrix:new h.UniformMatrix4f(d,i.u_matrix),u_texture:new h.Uniform1i(d,i.u_texture),u_terrain_coords_id:new h.Uniform1f(d,i.u_terrain_coords_id)})};class Oi{constructor(i,o,c){this.context=i;const f=i.gl;this.buffer=f.createBuffer(),this.dynamicDraw=Boolean(c),this.context.unbindVAO(),i.bindElementBuffer.set(this.buffer),f.bufferData(f.ELEMENT_ARRAY_BUFFER,o.arrayBuffer,this.dynamicDraw?f.DYNAMIC_DRAW:f.STATIC_DRAW),this.dynamicDraw||delete o.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(i){const o=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),o.bufferSubData(o.ELEMENT_ARRAY_BUFFER,0,i.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const qs={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class na{constructor(i,o,c,f){this.length=o.length,this.attributes=c,this.itemSize=o.bytesPerElement,this.dynamicDraw=f,this.context=i;const _=i.gl;this.buffer=_.createBuffer(),i.bindVertexBuffer.set(this.buffer),_.bufferData(_.ARRAY_BUFFER,o.arrayBuffer,this.dynamicDraw?_.DYNAMIC_DRAW:_.STATIC_DRAW),this.dynamicDraw||delete o.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(i){if(i.length!==this.length)throw new Error(`Length of new data is ${i.length}, which doesn't match current length of ${this.length}`);const o=this.context.gl;this.bind(),o.bufferSubData(o.ARRAY_BUFFER,0,i.arrayBuffer)}enableAttributes(i,o){for(let c=0;c<this.attributes.length;c++){const f=o.attributes[this.attributes[c].name];f!==void 0&&i.enableVertexAttribArray(f)}}setVertexAttribPointers(i,o,c){for(let f=0;f<this.attributes.length;f++){const _=this.attributes[f],w=o.attributes[_.name];w!==void 0&&i.vertexAttribPointer(w,_.components,i[qs[_.type]],!1,this.itemSize,_.offset+this.itemSize*(c||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class hi{constructor(i){this.gl=i.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(i){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class $r extends hi{getDefault(){return h.Color.transparent}set(i){const o=this.current;(i.r!==o.r||i.g!==o.g||i.b!==o.b||i.a!==o.a||this.dirty)&&(this.gl.clearColor(i.r,i.g,i.b,i.a),this.current=i,this.dirty=!1)}}class sn extends hi{getDefault(){return 1}set(i){(i!==this.current||this.dirty)&&(this.gl.clearDepth(i),this.current=i,this.dirty=!1)}}class sa extends hi{getDefault(){return 0}set(i){(i!==this.current||this.dirty)&&(this.gl.clearStencil(i),this.current=i,this.dirty=!1)}}class ra extends hi{getDefault(){return[!0,!0,!0,!0]}set(i){const o=this.current;(i[0]!==o[0]||i[1]!==o[1]||i[2]!==o[2]||i[3]!==o[3]||this.dirty)&&(this.gl.colorMask(i[0],i[1],i[2],i[3]),this.current=i,this.dirty=!1)}}class Xl extends hi{getDefault(){return!0}set(i){(i!==this.current||this.dirty)&&(this.gl.depthMask(i),this.current=i,this.dirty=!1)}}class ws extends hi{getDefault(){return 255}set(i){(i!==this.current||this.dirty)&&(this.gl.stencilMask(i),this.current=i,this.dirty=!1)}}class sl extends hi{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(i){const o=this.current;(i.func!==o.func||i.ref!==o.ref||i.mask!==o.mask||this.dirty)&&(this.gl.stencilFunc(i.func,i.ref,i.mask),this.current=i,this.dirty=!1)}}class Zs extends hi{getDefault(){const i=this.gl;return[i.KEEP,i.KEEP,i.KEEP]}set(i){const o=this.current;(i[0]!==o[0]||i[1]!==o[1]||i[2]!==o[2]||this.dirty)&&(this.gl.stencilOp(i[0],i[1],i[2]),this.current=i,this.dirty=!1)}}class cs extends hi{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;i?o.enable(o.STENCIL_TEST):o.disable(o.STENCIL_TEST),this.current=i,this.dirty=!1}}class rl extends hi{getDefault(){return[0,1]}set(i){const o=this.current;(i[0]!==o[0]||i[1]!==o[1]||this.dirty)&&(this.gl.depthRange(i[0],i[1]),this.current=i,this.dirty=!1)}}class es extends hi{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;i?o.enable(o.DEPTH_TEST):o.disable(o.DEPTH_TEST),this.current=i,this.dirty=!1}}class Ci extends hi{getDefault(){return this.gl.LESS}set(i){(i!==this.current||this.dirty)&&(this.gl.depthFunc(i),this.current=i,this.dirty=!1)}}class is extends hi{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;i?o.enable(o.BLEND):o.disable(o.BLEND),this.current=i,this.dirty=!1}}class bs extends hi{getDefault(){const i=this.gl;return[i.ONE,i.ZERO]}set(i){const o=this.current;(i[0]!==o[0]||i[1]!==o[1]||this.dirty)&&(this.gl.blendFunc(i[0],i[1]),this.current=i,this.dirty=!1)}}class un extends hi{getDefault(){return h.Color.transparent}set(i){const o=this.current;(i.r!==o.r||i.g!==o.g||i.b!==o.b||i.a!==o.a||this.dirty)&&(this.gl.blendColor(i.r,i.g,i.b,i.a),this.current=i,this.dirty=!1)}}class Dr extends hi{getDefault(){return this.gl.FUNC_ADD}set(i){(i!==this.current||this.dirty)&&(this.gl.blendEquation(i),this.current=i,this.dirty=!1)}}class Hn extends hi{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;i?o.enable(o.CULL_FACE):o.disable(o.CULL_FACE),this.current=i,this.dirty=!1}}class $n extends hi{getDefault(){return this.gl.BACK}set(i){(i!==this.current||this.dirty)&&(this.gl.cullFace(i),this.current=i,this.dirty=!1)}}class Hs extends hi{getDefault(){return this.gl.CCW}set(i){(i!==this.current||this.dirty)&&(this.gl.frontFace(i),this.current=i,this.dirty=!1)}}class Jr extends hi{getDefault(){return null}set(i){(i!==this.current||this.dirty)&&(this.gl.useProgram(i),this.current=i,this.dirty=!1)}}class Li extends hi{getDefault(){return this.gl.TEXTURE0}set(i){(i!==this.current||this.dirty)&&(this.gl.activeTexture(i),this.current=i,this.dirty=!1)}}class oa extends hi{getDefault(){const i=this.gl;return[0,0,i.drawingBufferWidth,i.drawingBufferHeight]}set(i){const o=this.current;(i[0]!==o[0]||i[1]!==o[1]||i[2]!==o[2]||i[3]!==o[3]||this.dirty)&&(this.gl.viewport(i[0],i[1],i[2],i[3]),this.current=i,this.dirty=!1)}}class Pc extends hi{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;o.bindFramebuffer(o.FRAMEBUFFER,i),this.current=i,this.dirty=!1}}class aa extends hi{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;o.bindRenderbuffer(o.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class la extends hi{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;o.bindTexture(o.TEXTURE_2D,i),this.current=i,this.dirty=!1}}class Po extends hi{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;o.bindBuffer(o.ARRAY_BUFFER,i),this.current=i,this.dirty=!1}}class Qr extends hi{getDefault(){return null}set(i){const o=this.gl;o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,i),this.current=i,this.dirty=!1}}class ol extends hi{constructor(i){super(i),this.vao=i.extVertexArrayObject}getDefault(){return null}set(i){this.vao&&(i!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(i),this.current=i,this.dirty=!1)}}class Gn extends hi{getDefault(){return 4}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;o.pixelStorei(o.UNPACK_ALIGNMENT,i),this.current=i,this.dirty=!1}}class Kl extends hi{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i),this.current=i,this.dirty=!1}}class nr extends hi{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,i),this.current=i,this.dirty=!1}}class Es extends hi{constructor(i,o){super(i),this.context=i,this.parent=o}getDefault(){return null}}class to extends Es{setDirty(){this.dirty=!0}set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const o=this.gl;o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,i,0),this.current=i,this.dirty=!1}}class Ma extends Es{set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const o=this.gl;o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_ATTACHMENT,o.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class Br{constructor(i,o,c,f){this.context=i,this.width=o,this.height=c;const _=i.gl,w=this.framebuffer=_.createFramebuffer();if(this.colorAttachment=new to(i,w),f&&(this.depthAttachment=new Ma(i,w)),_.checkFramebufferStatus(_.FRAMEBUFFER)!==_.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const i=this.context.gl,o=this.colorAttachment.get();if(o&&i.deleteTexture(o),this.depthAttachment){const c=this.depthAttachment.get();c&&i.deleteRenderbuffer(c)}i.deleteFramebuffer(this.framebuffer)}}class We{constructor(i,o,c){this.blendFunction=i,this.blendColor=o,this.mask=c}}We.Replace=[1,0],We.disabled=new We(We.Replace,h.Color.transparent,[!1,!1,!1,!1]),We.unblended=new We(We.Replace,h.Color.transparent,[!0,!0,!0,!0]),We.alphaBlended=new We([1,771],h.Color.transparent,[!0,!0,!0,!0]);class Pa{constructor(i){this.gl=i,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new $r(this),this.clearDepth=new sn(this),this.clearStencil=new sa(this),this.colorMask=new ra(this),this.depthMask=new Xl(this),this.stencilMask=new ws(this),this.stencilFunc=new sl(this),this.stencilOp=new Zs(this),this.stencilTest=new cs(this),this.depthRange=new rl(this),this.depthTest=new es(this),this.depthFunc=new Ci(this),this.blend=new is(this),this.blendFunc=new bs(this),this.blendColor=new un(this),this.blendEquation=new Dr(this),this.cullFace=new Hn(this),this.cullFaceSide=new $n(this),this.frontFace=new Hs(this),this.program=new Jr(this),this.activeTexture=new Li(this),this.viewport=new oa(this),this.bindFramebuffer=new Pc(this),this.bindRenderbuffer=new aa(this),this.bindTexture=new la(this),this.bindVertexBuffer=new Po(this),this.bindElementBuffer=new Qr(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ol(this),this.pixelStoreUnpack=new Gn(this),this.pixelStoreUnpackPremultiplyAlpha=new Kl(this),this.pixelStoreUnpackFlipY=new nr(this),this.extTextureFilterAnisotropic=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=i.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=i.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(i.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=i.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=i.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(i,o){return new Oi(this,i,o)}createVertexBuffer(i,o,c){return new na(this,i,o,c)}createRenderbuffer(i,o,c){const f=this.gl,_=f.createRenderbuffer();return this.bindRenderbuffer.set(_),f.renderbufferStorage(f.RENDERBUFFER,i,o,c),this.bindRenderbuffer.set(null),_}createFramebuffer(i,o,c){return new Br(this,i,o,c)}clear({color:i,depth:o}){const c=this.gl;let f=0;i&&(f|=c.COLOR_BUFFER_BIT,this.clearColor.set(i),this.colorMask.set([!0,!0,!0,!0])),o!==void 0&&(f|=c.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(o),this.depthMask.set(!0)),c.clear(f)}setCullFace(i){i.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(i.mode),this.frontFace.set(i.frontFace))}setDepthMode(i){i.func!==this.gl.ALWAYS||i.mask?(this.depthTest.set(!0),this.depthFunc.set(i.func),this.depthMask.set(i.mask),this.depthRange.set(i.range)):this.depthTest.set(!1)}setStencilMode(i){i.test.func!==this.gl.ALWAYS||i.mask?(this.stencilTest.set(!0),this.stencilMask.set(i.mask),this.stencilOp.set([i.fail,i.depthFail,i.pass]),this.stencilFunc.set({func:i.test.func,ref:i.ref,mask:i.test.mask})):this.stencilTest.set(!1)}setColorMode(i){Lt(i.blendFunction,We.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(i.blendFunction),this.blendColor.set(i.blendColor)),this.colorMask.set(i.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class ui{constructor(i,o,c){this.func=i,this.mask=o,this.range=c}}ui.ReadOnly=!1,ui.ReadWrite=!0,ui.disabled=new ui(519,ui.ReadOnly,[0,1]);const $i=7680;class bi{constructor(i,o,c,f,_,w){this.test=i,this.ref=o,this.mask=c,this.fail=f,this.depthFail=_,this.pass=w}}bi.disabled=new bi({func:519,mask:0},0,0,$i,$i,$i);class Di{constructor(i,o,c){this.enable=i,this.mode=o,this.frontFace=c}}let eo;function Rr(d,i,o,c,f,_,w){const S=d.context,E=S.gl,P=d.useProgram("collisionBox"),$=[];let O=0,j=0;for(let it=0;it<c.length;it++){const Et=c[it],wt=i.getTile(Et),$t=wt.getBucket(o);if(!$t)continue;let Dt=Et.posMatrix;f[0]===0&&f[1]===0||(Dt=d.translatePosMatrix(Et.posMatrix,wt,f,_));const Wt=w?$t.textCollisionBox:$t.iconCollisionBox,zt=$t.collisionCircleArray;if(zt.length>0){const fe=h.create(),se=Dt;h.mul(fe,$t.placementInvProjMatrix,d.transform.glCoordMatrix),h.mul(fe,fe,$t.placementViewportMatrix),$.push({circleArray:zt,circleOffset:j,transform:se,invTransform:fe,coord:Et}),O+=zt.length/4,j=O}Wt&&P.draw(S,E.LINES,ui.disabled,bi.disabled,d.colorModeForRenderPass(),Di.disabled,vs(Dt,d.transform,wt),d.style.terrain&&d.style.terrain.getTerrainData(Et),o.id,Wt.layoutVertexBuffer,Wt.indexBuffer,Wt.segments,null,d.transform.zoom,null,null,Wt.collisionVertexBuffer)}if(!w||!$.length)return;const tt=d.useProgram("collisionCircle"),J=new h.CollisionCircleLayoutArray;J.resize(4*O),J._trim();let Q=0;for(const it of $)for(let Et=0;Et<it.circleArray.length/4;Et++){const wt=4*Et,$t=it.circleArray[wt+0],Dt=it.circleArray[wt+1],Wt=it.circleArray[wt+2],zt=it.circleArray[wt+3];J.emplace(Q++,$t,Dt,Wt,zt,0),J.emplace(Q++,$t,Dt,Wt,zt,1),J.emplace(Q++,$t,Dt,Wt,zt,2),J.emplace(Q++,$t,Dt,Wt,zt,3)}(!eo||eo.length<2*O)&&(eo=function(it){const Et=2*it,wt=new h.QuadTriangleArray;wt.resize(Et),wt._trim();for(let $t=0;$t<Et;$t++){const Dt=6*$t;wt.uint16[Dt+0]=4*$t+0,wt.uint16[Dt+1]=4*$t+1,wt.uint16[Dt+2]=4*$t+2,wt.uint16[Dt+3]=4*$t+2,wt.uint16[Dt+4]=4*$t+3,wt.uint16[Dt+5]=4*$t+0}return wt}(O));const ht=S.createIndexBuffer(eo,!0),mt=S.createVertexBuffer(J,h.collisionCircleLayout.members,!0);for(const it of $){const Et={u_matrix:it.transform,u_inv_matrix:it.invTransform,u_camera_to_center_distance:(xt=d.transform).cameraToCenterDistance,u_viewport_size:[xt.width,xt.height]};tt.draw(S,E.TRIANGLES,ui.disabled,bi.disabled,d.colorModeForRenderPass(),Di.disabled,Et,d.style.terrain&&d.style.terrain.getTerrainData(it.coord),o.id,mt,ht,h.SegmentVector.simpleSegment(0,2*it.circleOffset,it.circleArray.length,it.circleArray.length/2),null,d.transform.zoom,null,null,null)}var xt;mt.destroy(),ht.destroy()}Di.disabled=new Di(!1,1029,2305),Di.backCCW=new Di(!0,1029,2305);const al=h.identity(new Float32Array(16));function ll(d,i,o,c,f,_){const{horizontalAlign:w,verticalAlign:S}=h.getAnchorAlignment(d),E=-(w-.5)*i,P=-(S-.5)*o,$=h.evaluateVariableOffset(d,c);return new h.pointGeometry((E/f+$[0])*_,(P/f+$[1])*_)}function Fr(d,i,o,c,f,_,w,S,E,P,$){const O=d.text.placedSymbolArray,j=d.text.dynamicLayoutVertexArray,tt=d.icon.dynamicLayoutVertexArray,J={};j.clear();for(let Q=0;Q<O.length;Q++){const ht=O.get(Q),mt=d.allowVerticalPlacement&&!ht.placedOrientation,xt=ht.hidden||!ht.crossTileID||mt?null:c[ht.crossTileID];if(xt){const it=new h.pointGeometry(ht.anchorX,ht.anchorY),Et=ai(it,o?w:_,$),wt=Oe(f.cameraToCenterDistance,Et.signedDistanceFromCamera);let $t=h.evaluateSizeForFeature(d.textSizeData,E,ht)*wt/h.ONE_EM;o&&($t*=d.tilePixelRatio/S);const{width:Dt,height:Wt,anchor:zt,textOffset:fe,textBoxScale:se}=xt,ye=ll(zt,Dt,Wt,fe,se,$t),ni=o?ai(it.add(ye),_,$).point:Et.point.add(i?ye.rotate(-f.angle):ye),di=d.allowVerticalPlacement&&ht.placedOrientation===h.WritingMode.vertical?Math.PI/2:0;for(let Le=0;Le<ht.numGlyphs;Le++)h.addDynamicAttributes(j,ni,di);P&&ht.associatedIconIndex>=0&&(J[ht.associatedIconIndex]={shiftedAnchor:ni,angle:di})}else qe(ht.numGlyphs,j)}if(P){tt.clear();const Q=d.icon.placedSymbolArray;for(let ht=0;ht<Q.length;ht++){const mt=Q.get(ht);if(mt.hidden)qe(mt.numGlyphs,tt);else{const xt=J[ht];if(xt)for(let it=0;it<mt.numGlyphs;it++)h.addDynamicAttributes(tt,xt.shiftedAnchor,xt.angle);else qe(mt.numGlyphs,tt)}}d.icon.dynamicLayoutVertexBuffer.updateData(tt)}d.text.dynamicLayoutVertexBuffer.updateData(j)}function io(d,i,o){return o.iconsInText&&i?"symbolTextAndIcon":d?"symbolSDF":"symbolIcon"}function zo(d,i,o,c,f,_,w,S,E,P,$,O){const j=d.context,tt=j.gl,J=d.transform,Q=S==="map",ht=E==="map",mt=S!=="viewport"&&o.layout.get("symbol-placement")!=="point",xt=Q&&!ht&&!mt,it=!o.layout.get("symbol-sort-key").isConstant();let Et=!1;const wt=d.depthModeForSublayer(0,ui.ReadOnly),$t=o.layout.get("text-variable-anchor"),Dt=[];for(const Wt of c){const zt=i.getTile(Wt),fe=zt.getBucket(o);if(!fe)continue;const se=f?fe.text:fe.icon;if(!se||!se.segments.get().length)continue;const ye=se.programConfigurations.get(o.id),ni=f||fe.sdfIcons,di=f?fe.textSizeData:fe.iconSizeData,Le=ht||J.pitch!==0,Ii=d.useProgram(io(ni,f,fe),ye),Ke=h.evaluateSizeForZoom(di,J.zoom),ki=d.style.terrain&&d.style.terrain.getTerrainData(Wt);let wi,qi,Dn,or,jn=[0,0],ar=null;if(f){if(qi=zt.glyphAtlasTexture,Dn=tt.LINEAR,wi=zt.glyphAtlasTexture.size,fe.iconsInText){jn=zt.imageAtlasTexture.size,ar=zt.imageAtlasTexture;const Fn=di.kind==="composite"||di.kind==="camera";or=Le||d.options.rotating||d.options.zooming||Fn?tt.LINEAR:tt.NEAREST}}else{const Fn=o.layout.get("icon-size").constantOr(0)!==1||fe.iconsNeedLinear;qi=zt.imageAtlasTexture,Dn=ni||d.options.rotating||d.options.zooming||Fn||Le?tt.LINEAR:tt.NEAREST,wi=zt.imageAtlasTexture.size}const Vr=Cn(zt,1,d.transform.zoom),Ls=en(Wt.posMatrix,ht,Q,d.transform,Vr),ds=we(Wt.posMatrix,ht,Q,d.transform,Vr),vr=$t&&fe.hasTextData(),jr=o.layout.get("icon-text-fit")!=="none"&&vr&&fe.hasIconData();if(mt){const Fn=d.style.terrain?(_l,Oo)=>d.style.terrain.getElevation(Wt,_l,Oo):null,Cs=o.layout.get("text-rotation-alignment")==="map";oe(fe,Wt.posMatrix,d,f,Ls,ds,ht,P,Cs,Fn)}const Mn=d.translatePosMatrix(Wt.posMatrix,zt,_,w),pi=mt||f&&$t||jr?al:Ls,Fi=d.translatePosMatrix(ds,zt,_,w,!0),Bn=ni&&o.paint.get(f?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Rn;Rn=ni?fe.iconsInText?le(di.kind,Ke,xt,ht,d,Mn,pi,Fi,wi,jn):Zn(di.kind,Ke,xt,ht,d,Mn,pi,Fi,f,wi,!0):ia(di.kind,Ke,xt,ht,d,Mn,pi,Fi,f,wi);const ln={program:Ii,buffers:se,uniformValues:Rn,atlasTexture:qi,atlasTextureIcon:ar,atlasInterpolation:Dn,atlasInterpolationIcon:or,isSDF:ni,hasHalo:Bn};if(it&&fe.canOverlap){Et=!0;const Fn=se.segments.get();for(const Cs of Fn)Dt.push({segments:new h.SegmentVector([Cs]),sortKey:Cs.sortKey,state:ln,terrainData:ki})}else Dt.push({segments:se.segments,sortKey:0,state:ln,terrainData:ki})}Et&&Dt.sort((Wt,zt)=>Wt.sortKey-zt.sortKey);for(const Wt of Dt){const zt=Wt.state;if(j.activeTexture.set(tt.TEXTURE0),zt.atlasTexture.bind(zt.atlasInterpolation,tt.CLAMP_TO_EDGE),zt.atlasTextureIcon&&(j.activeTexture.set(tt.TEXTURE1),zt.atlasTextureIcon&&zt.atlasTextureIcon.bind(zt.atlasInterpolationIcon,tt.CLAMP_TO_EDGE)),zt.isSDF){const fe=zt.uniformValues;zt.hasHalo&&(fe.u_is_halo=1,no(zt.buffers,Wt.segments,o,d,zt.program,wt,$,O,fe,Wt.terrainData)),fe.u_is_halo=0}no(zt.buffers,Wt.segments,o,d,zt.program,wt,$,O,zt.uniformValues,Wt.terrainData)}}function no(d,i,o,c,f,_,w,S,E,P){const $=c.context;f.draw($,$.gl.TRIANGLES,_,w,S,Di.disabled,E,P,o.id,d.layoutVertexBuffer,d.indexBuffer,i,o.paint,c.transform.zoom,d.programConfigurations.get(o.id),d.dynamicLayoutVertexBuffer,d.opacityVertexBuffer)}function fr(d,i,o,c,f,_,w){const S=d.context.gl,E=o.paint.get("fill-pattern"),P=E&&E.constantOr(1),$=o.getCrossfadeParameters();let O,j,tt,J,Q;w?(j=P&&!o.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",O=S.LINES):(j=P?"fillPattern":"fill",O=S.TRIANGLES);for(const ht of c){const mt=i.getTile(ht);if(P&&!mt.patternsLoaded())continue;const xt=mt.getBucket(o);if(!xt)continue;const it=xt.programConfigurations.get(o.id),Et=d.useProgram(j,it),wt=d.style.terrain&&d.style.terrain.getTerrainData(ht);P&&(d.context.activeTexture.set(S.TEXTURE0),mt.imageAtlasTexture.bind(S.LINEAR,S.CLAMP_TO_EDGE),it.updatePaintBuffers($));const $t=E.constantOr(null);if($t&&mt.imageAtlas){const zt=mt.imageAtlas,fe=zt.patternPositions[$t.to.toString()],se=zt.patternPositions[$t.from.toString()];fe&&se&&it.setConstantPatternPositions(fe,se)}const Dt=wt?ht:null,Wt=d.translatePosMatrix(Dt?Dt.posMatrix:ht.posMatrix,mt,o.paint.get("fill-translate"),o.paint.get("fill-translate-anchor"));if(w){J=xt.indexBuffer2,Q=xt.segments2;const zt=[S.drawingBufferWidth,S.drawingBufferHeight];tt=j==="fillOutlinePattern"&&P?mi(Wt,d,$,mt,zt):Wl(Wt,zt)}else J=xt.indexBuffer,Q=xt.segments,tt=P?Un(Wt,d,$,mt):Mo(Wt);Et.draw(d.context,O,f,d.stencilModeForClipping(ht),_,Di.disabled,tt,wt,o.id,xt.layoutVertexBuffer,J,Q,o.paint,d.transform.zoom,it)}}function so(d,i,o,c,f,_,w){const S=d.context,E=S.gl,P=o.paint.get("fill-extrusion-pattern"),$=P.constantOr(1),O=o.getCrossfadeParameters(),j=o.paint.get("fill-extrusion-opacity");for(const tt of c){const J=i.getTile(tt),Q=J.getBucket(o);if(!Q)continue;const ht=d.style.terrain&&d.style.terrain.getTerrainData(tt),mt=Q.programConfigurations.get(o.id),xt=d.useProgram($?"fillExtrusionPattern":"fillExtrusion",mt);$&&(d.context.activeTexture.set(E.TEXTURE0),J.imageAtlasTexture.bind(E.LINEAR,E.CLAMP_TO_EDGE),mt.updatePaintBuffers(O));const it=P.constantOr(null);if(it&&J.imageAtlas){const Dt=J.imageAtlas,Wt=Dt.patternPositions[it.to.toString()],zt=Dt.patternPositions[it.from.toString()];Wt&&zt&&mt.setConstantPatternPositions(Wt,zt)}const Et=d.translatePosMatrix(tt.posMatrix,J,o.paint.get("fill-extrusion-translate"),o.paint.get("fill-extrusion-translate-anchor")),wt=o.paint.get("fill-extrusion-vertical-gradient"),$t=$?pn(Et,d,wt,j,tt,O,J):il(Et,d,wt,j);xt.draw(S,S.gl.TRIANGLES,f,_,w,Di.backCCW,$t,ht,o.id,Q.layoutVertexBuffer,Q.indexBuffer,Q.segments,o.paint,d.transform.zoom,mt,d.style.terrain&&Q.centroidVertexBuffer)}}function ro(d,i,o,c,f,_,w){const S=d.context,E=S.gl,P=o.fbo;if(!P)return;const $=d.useProgram("hillshade"),O=d.style.terrain&&d.style.terrain.getTerrainData(i);S.activeTexture.set(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,P.colorAttachment.get()),$.draw(S,E.TRIANGLES,f,_,w,Di.disabled,((j,tt,J,Q)=>{const ht=J.paint.get("hillshade-shadow-color"),mt=J.paint.get("hillshade-highlight-color"),xt=J.paint.get("hillshade-accent-color");let it=J.paint.get("hillshade-illumination-direction")*(Math.PI/180);J.paint.get("hillshade-illumination-anchor")==="viewport"&&(it-=j.transform.angle);const Et=!j.options.moving;return{u_matrix:Q?Q.posMatrix:j.transform.calculatePosMatrix(tt.tileID.toUnwrapped(),Et),u_image:0,u_latrange:Lr(0,tt.tileID),u_light:[J.paint.get("hillshade-exaggeration"),it],u_shadow:ht,u_highlight:mt,u_accent:xt}})(d,o,c,O?i:null),O,c.id,d.rasterBoundsBuffer,d.quadTriangleIndexBuffer,d.rasterBoundsSegments)}function Yl(d,i,o,c,f,_){const w=d.context,S=w.gl,E=i.dem;if(E&&E.data){const P=E.dim,$=E.stride,O=E.getPixels();if(w.activeTexture.set(S.TEXTURE1),w.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||d.getTileTexture($),i.demTexture){const tt=i.demTexture;tt.update(O,{premultiply:!1}),tt.bind(S.NEAREST,S.CLAMP_TO_EDGE)}else i.demTexture=new Xt(w,O,S.RGBA,{premultiply:!1}),i.demTexture.bind(S.NEAREST,S.CLAMP_TO_EDGE);w.activeTexture.set(S.TEXTURE0);let j=i.fbo;if(!j){const tt=new Xt(w,{width:P,height:P,data:null},S.RGBA);tt.bind(S.LINEAR,S.CLAMP_TO_EDGE),j=i.fbo=w.createFramebuffer(P,P,!0),j.colorAttachment.set(tt.texture)}w.bindFramebuffer.set(j.framebuffer),w.viewport.set([0,0,P,P]),d.useProgram("hillshadePrepare").draw(w,S.TRIANGLES,c,f,_,Di.disabled,((tt,J)=>{const Q=J.stride,ht=h.create();return h.ortho(ht,0,h.EXTENT,-h.EXTENT,0,0,1),h.translate(ht,ht,[0,-h.EXTENT,0]),{u_matrix:ht,u_image:1,u_dimension:[Q,Q],u_zoom:tt.overscaledZ,u_unpack:J.getUnpackVector()}})(i.tileID,E),null,o.id,d.rasterBoundsBuffer,d.quadTriangleIndexBuffer,d.rasterBoundsSegments),i.needsHillshadePrepare=!1}}function za(d,i,o,c,f,_){const w=c.paint.get("raster-fade-duration");if(!_&&w>0){const S=h.exported.now(),E=(S-d.timeAdded)/w,P=i?(S-i.timeAdded)/w:-1,$=o.getSource(),O=f.coveringZoomLevel({tileSize:$.tileSize,roundZoom:$.roundZoom}),j=!i||Math.abs(i.tileID.overscaledZ-O)>Math.abs(d.tileID.overscaledZ-O),tt=j&&d.refreshedUponExpiration?1:h.clamp(j?E:1-P,0,1);return d.refreshedUponExpiration&&E>=1&&(d.refreshedUponExpiration=!1),i?{opacity:1,mix:1-tt}:{opacity:tt,mix:0}}return{opacity:1,mix:0}}const Or=new h.Color(1,0,0,1),ks=new h.Color(0,1,0,1),Lo=new h.Color(0,0,1,1),rn=new h.Color(1,0,1,1),Is=new h.Color(0,1,1,1);function Ni(d,i,o,c){ji(d,0,i+o/2,d.transform.width,o,c)}function oo(d,i,o,c){ji(d,i-o/2,0,o,d.transform.height,c)}function ji(d,i,o,c,f,_){const w=d.context,S=w.gl;S.enable(S.SCISSOR_TEST),S.scissor(i*d.pixelRatio,o*d.pixelRatio,c*d.pixelRatio,f*d.pixelRatio),w.clear({color:_}),S.disable(S.SCISSOR_TEST)}function cl(d,i,o){const c=d.context,f=c.gl,_=o.posMatrix,w=d.useProgram("debug"),S=ui.disabled,E=bi.disabled,P=d.colorModeForRenderPass(),$="$debug",O=d.style.terrain&&d.style.terrain.getTerrainData(o);c.activeTexture.set(f.TEXTURE0),d.emptyTexture.bind(f.LINEAR,f.CLAMP_TO_EDGE);const j=i.getTileByID(o.key).latestRawTileData,tt=Math.floor((j&&j.byteLength||0)/1024),J=i.getTile(o).tileSize,Q=512/Math.min(J,512)*(o.overscaledZ/d.transform.zoom)*.5;let ht=o.canonical.toString();o.overscaledZ!==o.canonical.z&&(ht+=` => ${o.overscaledZ}`),function(mt,xt){mt.initDebugOverlayCanvas();const it=mt.debugOverlayCanvas,Et=mt.context.gl,wt=mt.debugOverlayCanvas.getContext("2d");wt.clearRect(0,0,it.width,it.height),wt.shadowColor="white",wt.shadowBlur=2,wt.lineWidth=1.5,wt.strokeStyle="white",wt.textBaseline="top",wt.font="bold 36px Open Sans, sans-serif",wt.fillText(xt,5,5),wt.strokeText(xt,5,5),mt.debugOverlayTexture.update(it),mt.debugOverlayTexture.bind(Et.LINEAR,Et.CLAMP_TO_EDGE)}(d,`${ht} ${tt}kB`),w.draw(c,f.TRIANGLES,S,E,We.alphaBlended,Di.disabled,js(_,h.Color.transparent,Q),null,$,d.debugBuffer,d.quadTriangleIndexBuffer,d.debugSegments),w.draw(c,f.LINE_STRIP,S,E,P,Di.disabled,js(_,h.Color.red),O,$,d.debugBuffer,d.tileBorderIndexBuffer,d.debugSegments)}function $o(d,i,o){const c=d.context,f=c.gl,_=d.colorModeForRenderPass(),w=new ui(f.LEQUAL,ui.ReadWrite,d.depthRangeFor3D),S=d.useProgram("terrain"),E=i.getTerrainMesh(),P=i.getTerrainData(o.tileID);c.bindFramebuffer.set(null),c.viewport.set([0,0,d.width,d.height]),c.activeTexture.set(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,i.getRTTFramebuffer().colorAttachment.get());const $=d.transform.calculatePosMatrix(o.tileID.toUnwrapped());S.draw(c,f.TRIANGLES,w,bi.disabled,_,Di.backCCW,{u_matrix:$,u_texture:0},P,"terrain",E.vertexBuffer,E.indexBuffer,E.segments)}function La(d,i,o,c){const f=d.context,_=o.tileSize*i.qualityFactor;o.textures[c]||(o.textures[c]=d.getTileTexture(_)||new Xt(f,{width:_,height:_,data:null},f.gl.RGBA),o.textures[c].bind(f.gl.LINEAR,f.gl.CLAMP_TO_EDGE),c===0&&i.sourceCache.renderHistory.unshift(o.tileID.key));const w=i.getRTTFramebuffer();w.colorAttachment.set(o.textures[c].texture),f.bindFramebuffer.set(w.framebuffer),f.viewport.set([0,0,_,_])}class Do{constructor(i){this._coordsDescendingInv={},this._coordsDescendingInvStr={},this.painter=i,this._renderToTexture={background:!0,fill:!0,line:!0,raster:!0},this._coordsDescendingInv={},this._coordsDescendingInvStr={},this._stacks=[],this._prevType=null,this._rerender={},this._renderableTiles=i.style.terrain.sourceCache.getRenderableTiles(),this._init()}_init(){const i=this.painter.style,o=i.terrain;for(const c in i.sourceCaches){this._coordsDescendingInv[c]={};const f=i.sourceCaches[c].getVisibleCoordinates();for(const _ of f){const w=o.sourceCache.getTerrainCoords(_);for(const S in w)this._coordsDescendingInv[c][S]||(this._coordsDescendingInv[c][S]=[]),this._coordsDescendingInv[c][S].push(w[S])}}for(const c of i._order){const f=i._layers[c],_=f.source;if(this._renderToTexture[f.type]&&!this._coordsDescendingInvStr[_]){this._coordsDescendingInvStr[_]={};for(const w in this._coordsDescendingInv[_])this._coordsDescendingInvStr[_][w]=this._coordsDescendingInv[_][w].map(S=>S.key).sort().join()}}return this._renderableTiles.forEach(c=>{for(const f in this._coordsDescendingInvStr){const _=this._coordsDescendingInvStr[f][c.tileID.key];_&&_!==c.textureCoords[f]&&c.clearTextures(this.painter),o.needsRerender(f,c.tileID)&&c.clearTextures(this.painter)}this._rerender[c.tileID.key]=!c.textures.length}),o.clearRerenderCache(),o.sourceCache.removeOutdated(this.painter),this}renderLayer(i){const o=i.type,c=this.painter,f=c.style._order,_=c.currentLayer,w=_+1===f.length;if(this._renderToTexture[o]&&(this._prevType&&this._renderToTexture[this._prevType]||this._stacks.push([]),this._prevType=o,this._stacks[this._stacks.length-1].push(f[_]),!w))return!0;if(this._renderToTexture[this._prevType]||o==="hillshade"||this._renderToTexture[o]&&w){this._prevType=o;const S=this._stacks.length-1,E=this._stacks[S]||[];for(const P of this._renderableTiles){if(La(c,c.style.terrain,P,S),this._rerender[P.tileID.key]){c.context.clear({color:h.Color.transparent});for(let $=0;$<E.length;$++){const O=c.style._layers[E[$]],j=O.source?this._coordsDescendingInv[O.source][P.tileID.key]:[P.tileID];c._renderTileClippingMasks(O,j),c.renderLayer(c,c.style.sourceCaches[O.source],O,j),O.source&&(P.textureCoords[O.source]=this._coordsDescendingInvStr[O.source][P.tileID.key])}}$o(c,c.style.terrain,P)}if(o==="hillshade"){this._stacks.push([f[_]]);for(const P of this._renderableTiles){const $=this._coordsDescendingInv[i.source][P.tileID.key];La(c,c.style.terrain,P,this._stacks.length-1),c.context.clear({color:h.Color.transparent}),c._renderTileClippingMasks(i,$),c.renderLayer(c,c.style.sourceCaches[i.source],i,$),$o(c,c.style.terrain,P)}return!0}return this._renderToTexture[o]}return!1}}const ao={symbol:function(d,i,o,c,f){if(d.renderPass!=="translucent")return;const _=bi.disabled,w=d.colorModeForRenderPass();o.layout.get("text-variable-anchor")&&function(S,E,P,$,O,j,tt){const J=E.transform,Q=O==="map",ht=j==="map";for(const mt of S){const xt=$.getTile(mt),it=xt.getBucket(P);if(!it||!it.text||!it.text.segments.get().length)continue;const Et=h.evaluateSizeForZoom(it.textSizeData,J.zoom),wt=Cn(xt,1,E.transform.zoom),$t=en(mt.posMatrix,ht,Q,E.transform,wt),Dt=P.layout.get("icon-text-fit")!=="none"&&it.hasIconData();if(Et){const Wt=Math.pow(2,J.zoom-xt.tileID.overscaledZ);Fr(it,Q,ht,tt,J,$t,mt.posMatrix,Wt,Et,Dt,E.style.terrain?(zt,fe)=>E.style.terrain.getElevation(mt,zt,fe):null)}}}(c,d,o,i,o.layout.get("text-rotation-alignment"),o.layout.get("text-pitch-alignment"),f),o.paint.get("icon-opacity").constantOr(1)!==0&&zo(d,i,o,c,!1,o.paint.get("icon-translate"),o.paint.get("icon-translate-anchor"),o.layout.get("icon-rotation-alignment"),o.layout.get("icon-pitch-alignment"),o.layout.get("icon-keep-upright"),_,w),o.paint.get("text-opacity").constantOr(1)!==0&&zo(d,i,o,c,!0,o.paint.get("text-translate"),o.paint.get("text-translate-anchor"),o.layout.get("text-rotation-alignment"),o.layout.get("text-pitch-alignment"),o.layout.get("text-keep-upright"),_,w),i.map.showCollisionBoxes&&(Rr(d,i,o,c,o.paint.get("text-translate"),o.paint.get("text-translate-anchor"),!0),Rr(d,i,o,c,o.paint.get("icon-translate"),o.paint.get("icon-translate-anchor"),!1))},circle:function(d,i,o,c){if(d.renderPass!=="translucent")return;const f=o.paint.get("circle-opacity"),_=o.paint.get("circle-stroke-width"),w=o.paint.get("circle-stroke-opacity"),S=!o.layout.get("circle-sort-key").isConstant();if(f.constantOr(1)===0&&(_.constantOr(1)===0||w.constantOr(1)===0))return;const E=d.context,P=E.gl,$=d.depthModeForSublayer(0,ui.ReadOnly),O=bi.disabled,j=d.colorModeForRenderPass(),tt=[];for(let J=0;J<c.length;J++){const Q=c[J],ht=i.getTile(Q),mt=ht.getBucket(o);if(!mt)continue;const xt=mt.programConfigurations.get(o.id),it=d.useProgram("circle",xt),Et=mt.layoutVertexBuffer,wt=mt.indexBuffer,$t=d.style.terrain&&d.style.terrain.getTerrainData(Q),Dt={programConfiguration:xt,program:it,layoutVertexBuffer:Et,indexBuffer:wt,uniformValues:zr(d,Q,ht,o),terrainData:$t};if(S){const Wt=mt.segments.get();for(const zt of Wt)tt.push({segments:new h.SegmentVector([zt]),sortKey:zt.sortKey,state:Dt})}else tt.push({segments:mt.segments,sortKey:0,state:Dt})}S&&tt.sort((J,Q)=>J.sortKey-Q.sortKey);for(const J of tt){const{programConfiguration:Q,program:ht,layoutVertexBuffer:mt,indexBuffer:xt,uniformValues:it,terrainData:Et}=J.state;ht.draw(E,P.TRIANGLES,$,O,j,Di.disabled,it,Et,o.id,mt,xt,J.segments,o.paint,d.transform.zoom,Q)}},heatmap:function(d,i,o,c){if(o.paint.get("heatmap-opacity")!==0)if(d.renderPass==="offscreen"){const f=d.context,_=f.gl,w=bi.disabled,S=new We([_.ONE,_.ONE],h.Color.transparent,[!0,!0,!0,!0]);(function(E,P,$){const O=E.gl;E.activeTexture.set(O.TEXTURE1),E.viewport.set([0,0,P.width/4,P.height/4]);let j=$.heatmapFbo;if(j)O.bindTexture(O.TEXTURE_2D,j.colorAttachment.get()),E.bindFramebuffer.set(j.framebuffer);else{const tt=O.createTexture();O.bindTexture(O.TEXTURE_2D,tt),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_S,O.CLAMP_TO_EDGE),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_T,O.CLAMP_TO_EDGE),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,O.LINEAR),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,O.LINEAR),j=$.heatmapFbo=E.createFramebuffer(P.width/4,P.height/4,!1),function(J,Q,ht,mt){const xt=J.gl;xt.texImage2D(xt.TEXTURE_2D,0,xt.RGBA,Q.width/4,Q.height/4,0,xt.RGBA,J.extRenderToTextureHalfFloat?J.extTextureHalfFloat.HALF_FLOAT_OES:xt.UNSIGNED_BYTE,null),mt.colorAttachment.set(ht)}(E,P,tt,j)}})(f,d,o),f.clear({color:h.Color.transparent});for(let E=0;E<c.length;E++){const P=c[E];if(i.hasRenderableParent(P))continue;const $=i.getTile(P),O=$.getBucket(o);if(!O)continue;const j=O.programConfigurations.get(o.id),tt=d.useProgram("heatmap",j),{zoom:J}=d.transform;tt.draw(f,_.TRIANGLES,ui.disabled,w,S,Di.disabled,ir(P.posMatrix,$,J,o.paint.get("heatmap-intensity")),null,o.id,O.layoutVertexBuffer,O.indexBuffer,O.segments,o.paint,d.transform.zoom,j)}f.viewport.set([0,0,d.width,d.height])}else d.renderPass==="translucent"&&(d.context.setColorMode(d.colorModeForRenderPass()),function(f,_){const w=f.context,S=w.gl,E=_.heatmapFbo;if(!E)return;w.activeTexture.set(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,E.colorAttachment.get()),w.activeTexture.set(S.TEXTURE1);let P=_.colorRampTexture;P||(P=_.colorRampTexture=new Xt(w,_.colorRamp,S.RGBA)),P.bind(S.LINEAR,S.CLAMP_TO_EDGE),f.useProgram("heatmapTexture").draw(w,S.TRIANGLES,ui.disabled,bi.disabled,f.colorModeForRenderPass(),Di.disabled,(($,O,j,tt)=>{const J=h.create();h.ortho(J,0,$.width,$.height,0,0,1);const Q=$.context.gl;return{u_matrix:J,u_world:[Q.drawingBufferWidth,Q.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:O.paint.get("heatmap-opacity")}})(f,_),null,_.id,f.viewportBuffer,f.quadTriangleIndexBuffer,f.viewportSegments,_.paint,f.transform.zoom)}(d,o))},line:function(d,i,o,c){if(d.renderPass!=="translucent")return;const f=o.paint.get("line-opacity"),_=o.paint.get("line-width");if(f.constantOr(1)===0||_.constantOr(1)===0)return;const w=d.depthModeForSublayer(0,ui.ReadOnly),S=d.colorModeForRenderPass(),E=o.paint.get("line-dasharray"),P=o.paint.get("line-pattern"),$=P.constantOr(1),O=o.paint.get("line-gradient"),j=o.getCrossfadeParameters(),tt=$?"linePattern":E?"lineSDF":O?"lineGradient":"line",J=d.context,Q=J.gl;let ht=!0;for(const mt of c){const xt=i.getTile(mt);if($&&!xt.patternsLoaded())continue;const it=xt.getBucket(o);if(!it)continue;const Et=it.programConfigurations.get(o.id),wt=d.context.program.get(),$t=d.useProgram(tt,Et),Dt=ht||$t.program!==wt,Wt=d.style.terrain&&d.style.terrain.getTerrainData(mt),zt=P.constantOr(null);if(zt&&xt.imageAtlas){const ye=xt.imageAtlas,ni=ye.patternPositions[zt.to.toString()],di=ye.patternPositions[zt.from.toString()];ni&&di&&Et.setConstantPatternPositions(ni,di)}const fe=Wt?mt:null,se=$?Aa(d,xt,o,j,fe):E?Vn(d,xt,o,E,j,fe):O?nl(d,xt,o,it.lineClipsArray.length,fe):ls(d,xt,o,fe);if($)J.activeTexture.set(Q.TEXTURE0),xt.imageAtlasTexture.bind(Q.LINEAR,Q.CLAMP_TO_EDGE),Et.updatePaintBuffers(j);else if(E&&(Dt||d.lineAtlas.dirty))J.activeTexture.set(Q.TEXTURE0),d.lineAtlas.bind(J);else if(O){const ye=it.gradients[o.id];let ni=ye.texture;if(o.gradientVersion!==ye.version){let di=256;if(o.stepInterpolant){const Le=i.getSource().maxzoom,Ii=mt.canonical.z===Le?Math.ceil(1<<d.transform.maxZoom-mt.canonical.z):1;di=h.clamp(h.nextPowerOfTwo(it.maxLineLength/h.EXTENT*1024*Ii),256,J.maxTextureSize)}ye.gradient=h.renderColorRamp({expression:o.gradientExpression(),evaluationKey:"lineProgress",resolution:di,image:ye.gradient||void 0,clips:it.lineClipsArray}),ye.texture?ye.texture.update(ye.gradient):ye.texture=new Xt(J,ye.gradient,Q.RGBA),ye.version=o.gradientVersion,ni=ye.texture}J.activeTexture.set(Q.TEXTURE0),ni.bind(o.stepInterpolant?Q.NEAREST:Q.LINEAR,Q.CLAMP_TO_EDGE)}$t.draw(J,Q.TRIANGLES,w,d.stencilModeForClipping(mt),S,Di.disabled,se,Wt,o.id,it.layoutVertexBuffer,it.indexBuffer,it.segments,o.paint,d.transform.zoom,Et,it.layoutVertexBuffer2),ht=!1}},fill:function(d,i,o,c){const f=o.paint.get("fill-color"),_=o.paint.get("fill-opacity");if(_.constantOr(1)===0)return;const w=d.colorModeForRenderPass(),S=o.paint.get("fill-pattern"),E=d.opaquePassEnabledForLayer()&&!S.constantOr(1)&&f.constantOr(h.Color.transparent).a===1&&_.constantOr(0)===1?"opaque":"translucent";if(d.renderPass===E){const P=d.depthModeForSublayer(1,d.renderPass==="opaque"?ui.ReadWrite:ui.ReadOnly);fr(d,i,o,c,P,w,!1)}if(d.renderPass==="translucent"&&o.paint.get("fill-antialias")){const P=d.depthModeForSublayer(o.getPaintProperty("fill-outline-color")?2:0,ui.ReadOnly);fr(d,i,o,c,P,w,!0)}},"fill-extrusion":function(d,i,o,c){const f=o.paint.get("fill-extrusion-opacity");if(f!==0&&d.renderPass==="translucent"){const _=new ui(d.context.gl.LEQUAL,ui.ReadWrite,d.depthRangeFor3D);if(f!==1||o.paint.get("fill-extrusion-pattern").constantOr(1))so(d,i,o,c,_,bi.disabled,We.disabled),so(d,i,o,c,_,d.stencilModeFor3D(),d.colorModeForRenderPass());else{const w=d.colorModeForRenderPass();so(d,i,o,c,_,bi.disabled,w)}}},hillshade:function(d,i,o,c){if(d.renderPass!=="offscreen"&&d.renderPass!=="translucent")return;const f=d.context,_=d.depthModeForSublayer(0,ui.ReadOnly),w=d.colorModeForRenderPass(),[S,E]=d.renderPass==="translucent"?d.stencilConfigForOverlap(c):[{},c];for(const P of E){const $=i.getTile(P);$.needsHillshadePrepare!==void 0&&$.needsHillshadePrepare&&d.renderPass==="offscreen"?Yl(d,$,o,_,bi.disabled,w):d.renderPass==="translucent"&&ro(d,P,$,o,_,S[P.overscaledZ],w)}f.viewport.set([0,0,d.width,d.height])},raster:function(d,i,o,c){if(d.renderPass!=="translucent"||o.paint.get("raster-opacity")===0||!c.length)return;const f=d.context,_=f.gl,w=i.getSource(),S=d.useProgram("raster"),E=d.colorModeForRenderPass(),[P,$]=w instanceof je?[{},c]:d.stencilConfigForOverlap(c),O=$[$.length-1].overscaledZ,j=!d.options.moving;for(const tt of $){const J=d.depthModeForSublayer(tt.overscaledZ-O,o.paint.get("raster-opacity")===1?ui.ReadWrite:ui.ReadOnly,_.LESS),Q=i.getTile(tt);Q.registerFadeDuration(o.paint.get("raster-fade-duration"));const ht=i.findLoadedParent(tt,0),mt=za(Q,ht,i,o,d.transform,d.style.terrain);let xt,it;const Et=o.paint.get("raster-resampling")==="nearest"?_.NEAREST:_.LINEAR;f.activeTexture.set(_.TEXTURE0),Q.texture.bind(Et,_.CLAMP_TO_EDGE,_.LINEAR_MIPMAP_NEAREST),f.activeTexture.set(_.TEXTURE1),ht?(ht.texture.bind(Et,_.CLAMP_TO_EDGE,_.LINEAR_MIPMAP_NEAREST),xt=Math.pow(2,ht.tileID.overscaledZ-Q.tileID.overscaledZ),it=[Q.tileID.canonical.x*xt%1,Q.tileID.canonical.y*xt%1]):Q.texture.bind(Et,_.CLAMP_TO_EDGE,_.LINEAR_MIPMAP_NEAREST);const wt=d.style.terrain&&d.style.terrain.getTerrainData(tt),$t=wt?tt:null,Dt=$t?$t.posMatrix:d.transform.calculatePosMatrix(tt.toUnwrapped(),j),Wt=ae(Dt,it||[0,0],xt||1,mt,o);w instanceof je?S.draw(f,_.TRIANGLES,J,bi.disabled,E,Di.disabled,Wt,wt,o.id,w.boundsBuffer,d.quadTriangleIndexBuffer,w.boundsSegments):S.draw(f,_.TRIANGLES,J,P[tt.overscaledZ],E,Di.disabled,Wt,wt,o.id,d.rasterBoundsBuffer,d.quadTriangleIndexBuffer,d.rasterBoundsSegments)}},background:function(d,i,o,c){const f=o.paint.get("background-color"),_=o.paint.get("background-opacity");if(_===0)return;const w=d.context,S=w.gl,E=d.transform,P=E.tileSize,$=o.paint.get("background-pattern");if(d.isPatternMissing($))return;const O=!$&&f.a===1&&_===1&&d.opaquePassEnabledForLayer()?"opaque":"translucent";if(d.renderPass!==O)return;const j=bi.disabled,tt=d.depthModeForSublayer(0,O==="opaque"?ui.ReadWrite:ui.ReadOnly),J=d.colorModeForRenderPass(),Q=d.useProgram($?"backgroundPattern":"background"),ht=c||E.coveringTiles({tileSize:P,terrain:d.style.terrain});$&&(w.activeTexture.set(S.TEXTURE0),d.imageManager.bind(d.context));const mt=o.getCrossfadeParameters();for(const xt of ht){const it=c?xt.posMatrix:d.transform.calculatePosMatrix(xt.toUnwrapped()),Et=$?Yr(it,_,d,$,{tileID:xt,tileSize:P},mt):He(it,_,f),wt=d.style.terrain&&d.style.terrain.getTerrainData(xt);Q.draw(w,S.TRIANGLES,tt,j,J,Di.disabled,Et,wt,o.id,d.tileExtentBuffer,d.quadTriangleIndexBuffer,d.tileExtentSegments)}},debug:function(d,i,o){for(let c=0;c<o.length;c++)cl(d,i,o[c])},custom:function(d,i,o){const c=d.context,f=o.implementation;if(d.renderPass==="offscreen"){const _=f.prerender;_&&(d.setCustomLayerDefaults(),c.setColorMode(d.colorModeForRenderPass()),_.call(f,c.gl,d.transform.customLayerMatrix()),c.setDirty(),d.setBaseState())}else if(d.renderPass==="translucent"){d.setCustomLayerDefaults(),c.setColorMode(d.colorModeForRenderPass()),c.setStencilMode(bi.disabled);const _=f.renderingMode==="3d"?new ui(d.context.gl.LEQUAL,ui.ReadWrite,d.depthRangeFor3D):d.depthModeForSublayer(0,ui.ReadOnly);c.setDepthMode(_),f.render(c.gl,d.transform.customLayerMatrix()),c.setDirty(),d.setBaseState(),c.bindFramebuffer.set(null)}}};class hl{constructor(i,o){this.context=new Pa(i),this.transform=o,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:h.create(),renderTime:0},this.setup(),this.numSublayers=Qe.maxUnderzooming+Qe.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Ze,this.gpuTimers={}}resize(i,o,c){if(this.width=i*c,this.height=o*c,this.pixelRatio=c,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const f of this.style._order)this.style._layers[f].resize()}setup(){const i=this.context,o=new h.PosArray;o.emplaceBack(0,0),o.emplaceBack(h.EXTENT,0),o.emplaceBack(0,h.EXTENT),o.emplaceBack(h.EXTENT,h.EXTENT),this.tileExtentBuffer=i.createVertexBuffer(o,Ti.members),this.tileExtentSegments=h.SegmentVector.simpleSegment(0,0,4,2);const c=new h.PosArray;c.emplaceBack(0,0),c.emplaceBack(h.EXTENT,0),c.emplaceBack(0,h.EXTENT),c.emplaceBack(h.EXTENT,h.EXTENT),this.debugBuffer=i.createVertexBuffer(c,Ti.members),this.debugSegments=h.SegmentVector.simpleSegment(0,0,4,5);const f=new h.RasterBoundsArray;f.emplaceBack(0,0,0,0),f.emplaceBack(h.EXTENT,0,h.EXTENT,0),f.emplaceBack(0,h.EXTENT,0,h.EXTENT),f.emplaceBack(h.EXTENT,h.EXTENT,h.EXTENT,h.EXTENT),this.rasterBoundsBuffer=i.createVertexBuffer(f,Ht.members),this.rasterBoundsSegments=h.SegmentVector.simpleSegment(0,0,4,2);const _=new h.PosArray;_.emplaceBack(0,0),_.emplaceBack(1,0),_.emplaceBack(0,1),_.emplaceBack(1,1),this.viewportBuffer=i.createVertexBuffer(_,Ti.members),this.viewportSegments=h.SegmentVector.simpleSegment(0,0,4,2);const w=new h.LineStripIndexArray;w.emplaceBack(0),w.emplaceBack(1),w.emplaceBack(3),w.emplaceBack(2),w.emplaceBack(0),this.tileBorderIndexBuffer=i.createIndexBuffer(w);const S=new h.TriangleIndexArray;S.emplaceBack(0,1,2),S.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=i.createIndexBuffer(S),this.emptyTexture=new Xt(i,{width:1,height:1,data:new Uint8Array([0,0,0,0])},i.gl.RGBA);const E=this.context.gl;this.stencilClearMode=new bi({func:E.ALWAYS,mask:0},0,255,E.ZERO,E.ZERO,E.ZERO)}clearStencil(){const i=this.context,o=i.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const c=h.create();h.ortho(c,0,this.width,this.height,0,0,1),h.scale(c,c,[o.drawingBufferWidth,o.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(i,o.TRIANGLES,ui.disabled,this.stencilClearMode,We.disabled,Di.disabled,Vi(c),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(i,o){if(this.currentStencilSource===i.source||!i.isTileClipped()||!o||!o.length)return;this.currentStencilSource=i.source;const c=this.context,f=c.gl;this.nextStencilID+o.length>256&&this.clearStencil(),c.setColorMode(We.disabled),c.setDepthMode(ui.disabled);const _=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const w of o){const S=this._tileClippingMaskIDs[w.key]=this.nextStencilID++,E=this.style.terrain&&this.style.terrain.getTerrainData(w);_.draw(c,f.TRIANGLES,ui.disabled,new bi({func:f.ALWAYS,mask:0},S,255,f.KEEP,f.KEEP,f.REPLACE),We.disabled,Di.disabled,Vi(w.posMatrix),E,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const i=this.nextStencilID++,o=this.context.gl;return new bi({func:o.NOTEQUAL,mask:255},i,255,o.KEEP,o.KEEP,o.REPLACE)}stencilModeForClipping(i){const o=this.context.gl;return new bi({func:o.EQUAL,mask:255},this._tileClippingMaskIDs[i.key],0,o.KEEP,o.KEEP,o.REPLACE)}stencilConfigForOverlap(i){const o=this.context.gl,c=i.sort((w,S)=>S.overscaledZ-w.overscaledZ),f=c[c.length-1].overscaledZ,_=c[0].overscaledZ-f+1;if(_>1){this.currentStencilSource=void 0,this.nextStencilID+_>256&&this.clearStencil();const w={};for(let S=0;S<_;S++)w[S+f]=new bi({func:o.GEQUAL,mask:255},S+this.nextStencilID,255,o.KEEP,o.KEEP,o.REPLACE);return this.nextStencilID+=_,[w,c]}return[{[f]:bi.disabled},c]}colorModeForRenderPass(){const i=this.context.gl;return this._showOverdrawInspector?new We([i.CONSTANT_COLOR,i.ONE],new h.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?We.unblended:We.alphaBlended}depthModeForSublayer(i,o,c){if(!this.opaquePassEnabledForLayer())return ui.disabled;const f=1-((1+this.currentLayer)*this.numSublayers+i)*this.depthEpsilon;return new ui(c||this.context.gl.LEQUAL,o,[f,f])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(i,o){this.style=i,this.options=o,this.lineAtlas=i.lineAtlas,this.imageManager=i.imageManager,this.glyphManager=i.glyphManager,this.symbolFadeChange=i.placement.symbolFadeChange(h.exported.now()),this.imageManager.beginFrame();const c=this.style._order,f=this.style.sourceCaches,_=this.style.terrain&&new Do(this);for(const P in f){const $=f[P];$.used&&$.prepare(this.context)}const w={},S={},E={};for(const P in f){const $=f[P];w[P]=$.getVisibleCoordinates(),S[P]=w[P].slice().reverse(),E[P]=$.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let P=0;P<c.length;P++)if(this.style._layers[c[P]].is3D()){this.opaquePassCutoff=P;break}if(_){this.opaquePassCutoff=0;const P=this.style.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!h.equals(this.terrainFacilitator.matrix,this.transform.projMatrix)||P.length)&&(h.copy(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function($,O){const j=$.context,tt=j.gl,J=We.unblended,Q=new ui(tt.LEQUAL,ui.ReadWrite,[0,1]),ht=O.getTerrainMesh(),mt=O.sourceCache.getRenderableTiles(),xt=$.useProgram("terrainDepth");j.bindFramebuffer.set(O.getFramebuffer("depth").framebuffer),j.viewport.set([0,0,$.width/devicePixelRatio,$.height/devicePixelRatio]),j.clear({color:h.Color.transparent,depth:1});for(const it of mt){const Et=O.getTerrainData(it.tileID),wt=$.transform.calculatePosMatrix(it.tileID.toUnwrapped());xt.draw(j,tt.TRIANGLES,Q,bi.disabled,J,Di.backCCW,{u_matrix:wt},Et,"terrain",ht.vertexBuffer,ht.indexBuffer,ht.segments)}j.bindFramebuffer.set(null),j.viewport.set([0,0,$.width,$.height])}(this,this.style.terrain),function($,O){const j=$.context,tt=j.gl,J=We.unblended,Q=new ui(tt.LEQUAL,ui.ReadWrite,[0,1]),ht=O.getTerrainMesh(),mt=O.getCoordsTexture(),xt=O.sourceCache.getRenderableTiles(),it=$.useProgram("terrainCoords");j.bindFramebuffer.set(O.getFramebuffer("coords").framebuffer),j.viewport.set([0,0,$.width/devicePixelRatio,$.height/devicePixelRatio]),j.clear({color:h.Color.transparent,depth:1}),O.coordsIndex=[];for(const Et of xt){const wt=O.getTerrainData(Et.tileID);j.activeTexture.set(tt.TEXTURE0),tt.bindTexture(tt.TEXTURE_2D,mt.texture);const $t=$.transform.calculatePosMatrix(Et.tileID.toUnwrapped());it.draw(j,tt.TRIANGLES,Q,bi.disabled,J,Di.backCCW,{u_matrix:$t,u_terrain_coords_id:(255-O.coordsIndex.length)/255,u_texture:0},wt,"terrain",ht.vertexBuffer,ht.indexBuffer,ht.segments),O.coordsIndex.push(Et.tileID.key)}j.bindFramebuffer.set(null),j.viewport.set([0,0,$.width,$.height])}(this,this.style.terrain))}this.renderPass="offscreen";for(const P of c){const $=this.style._layers[P];if(!$.hasOffscreenPass()||$.isHidden(this.transform.zoom))continue;const O=S[$.source];($.type==="custom"||O.length)&&this.renderLayer(this,f[$.source],$,O)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:o.showOverdrawInspector?h.Color.black:h.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=o.showOverdrawInspector,this.depthRangeFor3D=[0,1-(i._order.length+2)*this.numSublayers*this.depthEpsilon],!_)for(this.renderPass="opaque",this.currentLayer=c.length-1;this.currentLayer>=0;this.currentLayer--){const P=this.style._layers[c[this.currentLayer]],$=f[P.source],O=w[P.source];this._renderTileClippingMasks(P,O),this.renderLayer(this,$,P,O)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<c.length;this.currentLayer++){const P=this.style._layers[c[this.currentLayer]],$=f[P.source];if(_&&_.renderLayer(P))continue;const O=(P.type==="symbol"?E:S)[P.source];this._renderTileClippingMasks(P,w[P.source]),this.renderLayer(this,$,P,O)}if(this.options.showTileBoundaries){let P,$;Object.values(this.style._layers).forEach(O=>{O.source&&!O.isHidden(this.transform.zoom)&&(O.source!==($&&$.id)&&($=this.style.sourceCaches[O.source]),(!P||P.getSource().maxzoom<$.getSource().maxzoom)&&(P=$))}),P&&ao.debug(this,P,P.getVisibleCoordinates())}this.options.showPadding&&function(P){const $=P.transform.padding;Ni(P,P.transform.height-($.top||0),3,Or),Ni(P,$.bottom||0,3,ks),oo(P,$.left||0,3,Lo),oo(P,P.transform.width-($.right||0),3,rn);const O=P.transform.centerPoint;(function(j,tt,J,Q){ji(j,tt-1,J-10,2,20,Q),ji(j,tt-10,J-1,20,2,Q)})(P,O.x,P.transform.height-O.y,Is)}(this),this.context.setDefault()}renderLayer(i,o,c,f){c.isHidden(this.transform.zoom)||(c.type==="background"||c.type==="custom"||(f||[]).length)&&(this.id=c.id,this.gpuTimingStart(c),ao[c.type](i,o,c,f,this.style.placement.variableOffsets),this.gpuTimingEnd())}gpuTimingStart(i){if(!this.options.gpuTiming)return;const o=this.context.extTimerQuery;let c=this.gpuTimers[i.id];c||(c=this.gpuTimers[i.id]={calls:0,cpuTime:0,query:o.createQueryEXT()}),c.calls++,o.beginQueryEXT(o.TIME_ELAPSED_EXT,c.query)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const i=this.context.extTimerQuery;i.endQueryEXT(i.TIME_ELAPSED_EXT)}collectGpuTimers(){const i=this.gpuTimers;return this.gpuTimers={},i}queryGpuTimers(i){const o={};for(const c in i){const f=i[c],_=this.context.extTimerQuery,w=_.getQueryObjectEXT(f.query,_.QUERY_RESULT_EXT)/1e6;_.deleteQueryEXT(f.query),o[c]=w}return o}translatePosMatrix(i,o,c,f,_){if(!c[0]&&!c[1])return i;const w=_?f==="map"?this.transform.angle:0:f==="viewport"?-this.transform.angle:0;if(w){const P=Math.sin(w),$=Math.cos(w);c=[c[0]*$-c[1]*P,c[0]*P+c[1]*$]}const S=[_?c[0]:Cn(o,c[0],this.transform.zoom),_?c[1]:Cn(o,c[1],this.transform.zoom),0],E=new Float32Array(16);return h.translate(E,i,S),E}saveTileTexture(i){const o=this._tileTextures[i.size[0]];o?o.push(i):this._tileTextures[i.size[0]]=[i]}getTileTexture(i){const o=this._tileTextures[i];return o&&o.length>0?o.pop():null}isPatternMissing(i){if(!i)return!1;if(!i.from||!i.to)return!0;const o=this.imageManager.getPattern(i.from.toString()),c=this.imageManager.getPattern(i.to.toString());return!o||!c}useProgram(i,o){this.cache=this.cache||{};const c=i+(o?o.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.terrain?"/terrain":"");return this.cache[c]||(this.cache[c]=new Gl(this.context,i,ta[i],o,ts[i],this._showOverdrawInspector,this.style.terrain)),this.cache[c]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const i=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(i.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new Xt(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}}class $a{constructor(i,o){this.points=i,this.planes=o}static fromInvProjectionMatrix(i,o,c){const f=Math.pow(2,c),_=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(S=>{const E=1/(S=h.transformMat4([],S,i))[3]/o*f;return h.mul$1(S,S,[E,E,1/S[3],E])}),w=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(S=>{const E=h.sub([],_[S[0]],_[S[1]]),P=h.sub([],_[S[2]],_[S[1]]),$=h.normalize([],h.cross([],E,P)),O=-h.dot($,_[S[1]]);return $.concat(O)});return new $a(_,w)}}class lo{constructor(i,o){this.min=i,this.max=o,this.center=h.scale$1([],h.add([],this.min,this.max),.5)}quadrant(i){const o=[i%2==0,i<2],c=h.clone$2(this.min),f=h.clone$2(this.max);for(let _=0;_<o.length;_++)c[_]=o[_]?this.min[_]:this.center[_],f[_]=o[_]?this.center[_]:this.max[_];return f[2]=this.max[2],new lo(c,f)}distanceX(i){return Math.max(Math.min(this.max[0],i[0]),this.min[0])-i[0]}distanceY(i){return Math.max(Math.min(this.max[1],i[1]),this.min[1])-i[1]}intersects(i){const o=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let c=!0;for(let f=0;f<i.planes.length;f++){const _=i.planes[f];let w=0;for(let S=0;S<o.length;S++)h.dot$1(_,o[S])>=0&&w++;if(w===0)return 0;w!==o.length&&(c=!1)}if(c)return 2;for(let f=0;f<3;f++){let _=Number.MAX_VALUE,w=-Number.MAX_VALUE;for(let S=0;S<i.points.length;S++){const E=i.points[S][f]-this.min[f];_=Math.min(_,E),w=Math.max(w,E)}if(w<0||_>this.max[f]-this.min[f])return 0}return 1}}class Nr{constructor(i=0,o=0,c=0,f=0){if(isNaN(i)||i<0||isNaN(o)||o<0||isNaN(c)||c<0||isNaN(f)||f<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=i,this.bottom=o,this.left=c,this.right=f}interpolate(i,o,c){return o.top!=null&&i.top!=null&&(this.top=h.number(i.top,o.top,c)),o.bottom!=null&&i.bottom!=null&&(this.bottom=h.number(i.bottom,o.bottom,c)),o.left!=null&&i.left!=null&&(this.left=h.number(i.left,o.left,c)),o.right!=null&&i.right!=null&&(this.right=h.number(i.right,o.right,c)),this}getCenter(i,o){const c=h.clamp((this.left+i-this.right)/2,0,i),f=h.clamp((this.top+o-this.bottom)/2,0,o);return new h.pointGeometry(c,f)}equals(i){return this.top===i.top&&this.bottom===i.bottom&&this.left===i.left&&this.right===i.right}clone(){return new Nr(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class Gs{constructor(i,o,c,f,_){this.tileSize=512,this.maxValidLatitude=85.051129,this.freezeElevation=!1,this._renderWorldCopies=_===void 0||!!_,this._minZoom=i||0,this._maxZoom=o||22,this._minPitch=c??0,this._maxPitch=f??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new h.LngLat(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Nr,this._posMatrixCache={},this._alignedPosMatrixCache={}}clone(){const i=new Gs(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return i.tileSize=this.tileSize,i.latRange=this.latRange,i.width=this.width,i.height=this.height,i._center=this._center,i._elevation=this._elevation,i.zoom=this.zoom,i.angle=this.angle,i._fov=this._fov,i._pitch=this._pitch,i._unmodified=this._unmodified,i._edgeInsets=this._edgeInsets.clone(),i._calcMatrices(),i}get minZoom(){return this._minZoom}set minZoom(i){this._minZoom!==i&&(this._minZoom=i,this.zoom=Math.max(this.zoom,i))}get maxZoom(){return this._maxZoom}set maxZoom(i){this._maxZoom!==i&&(this._maxZoom=i,this.zoom=Math.min(this.zoom,i))}get minPitch(){return this._minPitch}set minPitch(i){this._minPitch!==i&&(this._minPitch=i,this.pitch=Math.max(this.pitch,i))}get maxPitch(){return this._maxPitch}set maxPitch(i){this._maxPitch!==i&&(this._maxPitch=i,this.pitch=Math.min(this.pitch,i))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(i){i===void 0?i=!0:i===null&&(i=!1),this._renderWorldCopies=i}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new h.pointGeometry(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(i){const o=-h.wrap(i,-180,180)*Math.PI/180;var c;this.angle!==o&&(this._unmodified=!1,this.angle=o,this._calcMatrices(),this.rotationMatrix=(c=new h.ARRAY_TYPE(4),h.ARRAY_TYPE!=Float32Array&&(c[1]=0,c[2]=0),c[0]=1,c[3]=1,c),function(f,_,w){var S=_[0],E=_[1],P=_[2],$=_[3],O=Math.sin(w),j=Math.cos(w);f[0]=S*j+P*O,f[1]=E*j+$*O,f[2]=S*-O+P*j,f[3]=E*-O+$*j}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(i){const o=h.clamp(i,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==o&&(this._unmodified=!1,this._pitch=o,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(i){i=Math.max(.01,Math.min(60,i)),this._fov!==i&&(this._unmodified=!1,this._fov=i/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(i){const o=Math.min(Math.max(i,this.minZoom),this.maxZoom);this._zoom!==o&&(this._unmodified=!1,this._zoom=o,this.scale=this.zoomScale(o),this.tileZoom=Math.floor(o),this.zoomFraction=o-this.tileZoom,this._constrain(),this._calcMatrices())}get center(){return this._center}set center(i){i.lat===this._center.lat&&i.lng===this._center.lng||(this._unmodified=!1,this._center=i,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(i){i!==this._elevation&&(this._elevation=i,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(i){this._edgeInsets.equals(i)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,i,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(i){return this._edgeInsets.equals(i)}interpolatePadding(i,o,c){this._unmodified=!1,this._edgeInsets.interpolate(i,o,c),this._constrain(),this._calcMatrices()}coveringZoomLevel(i){const o=(i.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/i.tileSize));return Math.max(0,o)}getVisibleUnwrappedCoordinates(i){const o=[new h.UnwrappedTileID(0,i)];if(this._renderWorldCopies){const c=this.pointCoordinate(new h.pointGeometry(0,0)),f=this.pointCoordinate(new h.pointGeometry(this.width,0)),_=this.pointCoordinate(new h.pointGeometry(this.width,this.height)),w=this.pointCoordinate(new h.pointGeometry(0,this.height)),S=Math.floor(Math.min(c.x,f.x,_.x,w.x)),E=Math.floor(Math.max(c.x,f.x,_.x,w.x)),P=1;for(let $=S-P;$<=E+P;$++)$!==0&&o.push(new h.UnwrappedTileID($,i))}return o}coveringTiles(i){var o,c;let f=this.coveringZoomLevel(i);const _=f;if(i.minzoom!==void 0&&f<i.minzoom)return[];i.maxzoom!==void 0&&f>i.maxzoom&&(f=i.maxzoom);const w=this.pointCoordinate(this.getCameraPoint()),S=h.MercatorCoordinate.fromLngLat(this.center),E=Math.pow(2,f),P=[E*w.x,E*w.y,0],$=[E*S.x,E*S.y,0],O=$a.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,f);let j=i.minzoom||0;!i.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(j=f);const tt=i.terrain?2/Math.min(this.tileSize,i.tileSize)*this.tileSize:3,J=it=>({aabb:new lo([it*E,0,0],[(it+1)*E,E,0]),zoom:0,x:0,y:0,wrap:it,fullyVisible:!1}),Q=[],ht=[],mt=f,xt=i.reparseOverscaled?_:f;if(this._renderWorldCopies)for(let it=1;it<=3;it++)Q.push(J(-it)),Q.push(J(it));for(Q.push(J(0));Q.length>0;){const it=Q.pop(),Et=it.x,wt=it.y;let $t=it.fullyVisible;if(!$t){const ye=it.aabb.intersects(O);if(ye===0)continue;$t=ye===2}const Dt=i.terrain?P:$,Wt=it.aabb.distanceX(Dt),zt=it.aabb.distanceY(Dt),fe=Math.max(Math.abs(Wt),Math.abs(zt)),se=tt+(1<<mt-it.zoom)-2;if(it.zoom===mt||fe>se&&it.zoom>=j){const ye=mt-it.zoom,ni=P[0]-.5-(Et<<ye),di=P[1]-.5-(wt<<ye);ht.push({tileID:new h.OverscaledTileID(it.zoom===mt?xt:it.zoom,it.wrap,it.zoom,Et,wt),distanceSq:h.sqrLen([$[0]-.5-Et,$[1]-.5-wt]),tileDistanceToCamera:Math.sqrt(ni*ni+di*di)})}else for(let ye=0;ye<4;ye++){const ni=(Et<<1)+ye%2,di=(wt<<1)+(ye>>1),Le=it.zoom+1;let Ii=it.aabb.quadrant(ye);if(i.terrain){const Ke=new h.OverscaledTileID(Le,it.wrap,Le,ni,di),ki=i.terrain.getMinMaxElevation(Ke),wi=(o=ki.minElevation)!==null&&o!==void 0?o:this.elevation,qi=(c=ki.maxElevation)!==null&&c!==void 0?c:this.elevation;Ii=new lo([Ii.min[0],Ii.min[1],wi],[Ii.max[0],Ii.max[1],qi])}Q.push({aabb:Ii,zoom:Le,x:ni,y:di,wrap:it.wrap,fullyVisible:$t})}}return ht.sort((it,Et)=>it.distanceSq-Et.distanceSq).map(it=>it.tileID)}resize(i,o){this.width=i,this.height=o,this.pixelsToGLUnits=[2/i,-2/o],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(i){return Math.pow(2,i)}scaleZoom(i){return Math.log(i)/Math.LN2}project(i){const o=h.clamp(i.lat,-this.maxValidLatitude,this.maxValidLatitude);return new h.pointGeometry(h.mercatorXfromLng(i.lng)*this.worldSize,h.mercatorYfromLat(o)*this.worldSize)}unproject(i){return new h.MercatorCoordinate(i.x/this.worldSize,i.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}updateElevation(i){this.freezeElevation||(this.elevation=i?this.getElevation(this._center,i):0)}getElevation(i,o){const c=h.MercatorCoordinate.fromLngLat(i),f=(1<<this.tileZoom)*h.EXTENT,_=c.x*f,w=c.y*f,S=Math.floor(_/h.EXTENT),E=Math.floor(w/h.EXTENT),P=new h.OverscaledTileID(this.tileZoom,0,this.tileZoom,S,E);return o.getElevation(P,_%h.EXTENT,w%h.EXTENT,h.EXTENT)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(i){const o=this.pointLocation(this.centerPoint,i),c=this.getElevation(o,i);if(!(this.elevation-c))return;const f=this.getCameraPosition(),_=h.MercatorCoordinate.fromLngLat(f.lngLat,f.altitude),w=h.MercatorCoordinate.fromLngLat(o,c),S=_.x-w.x,E=_.y-w.y,P=_.z-w.z,$=Math.sqrt(S*S+E*E+P*P),O=this.scaleZoom(this.cameraToCenterDistance/$/this.tileSize);this._elevation=c,this._center=o,this.zoom=O}setLocationAtPoint(i,o){const c=this.pointCoordinate(o),f=this.pointCoordinate(this.centerPoint),_=this.locationCoordinate(i),w=new h.MercatorCoordinate(_.x-(c.x-f.x),_.y-(c.y-f.y));this.center=this.coordinateLocation(w),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(i,o){return o?this.coordinatePoint(this.locationCoordinate(i),this.getElevation(i,o),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(i))}pointLocation(i,o){return this.coordinateLocation(this.pointCoordinate(i,o))}locationCoordinate(i){return h.MercatorCoordinate.fromLngLat(i)}coordinateLocation(i){return i&&i.toLngLat()}pointCoordinate(i,o){if(o){const j=o.pointCoordinate(i);if(j!=null)return j}const c=[i.x,i.y,0,1],f=[i.x,i.y,1,1];h.transformMat4(c,c,this.pixelMatrixInverse),h.transformMat4(f,f,this.pixelMatrixInverse);const _=c[3],w=f[3],S=c[1]/_,E=f[1]/w,P=c[2]/_,$=f[2]/w,O=P===$?0:(0-P)/($-P);return new h.MercatorCoordinate(h.number(c[0]/_,f[0]/w,O)/this.worldSize,h.number(S,E,O)/this.worldSize)}coordinatePoint(i,o=0,c=this.pixelMatrix){const f=[i.x*this.worldSize,i.y*this.worldSize,o,1];return h.transformMat4(f,f,c),new h.pointGeometry(f[0]/f[3],f[1]/f[3])}getBounds(){const i=Math.max(0,this.height/2-this.getHorizon());return new h.LngLatBounds().extend(this.pointLocation(new h.pointGeometry(0,i))).extend(this.pointLocation(new h.pointGeometry(this.width,i))).extend(this.pointLocation(new h.pointGeometry(this.width,this.height))).extend(this.pointLocation(new h.pointGeometry(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new h.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(i){i?(this.lngRange=[i.getWest(),i.getEast()],this.latRange=[i.getSouth(),i.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(i,o=!1){const c=i.key,f=o?this._alignedPosMatrixCache:this._posMatrixCache;if(f[c])return f[c];const _=i.canonical,w=this.worldSize/this.zoomScale(_.z),S=_.x+Math.pow(2,_.z)*i.wrap,E=h.identity(new Float64Array(16));return h.translate(E,E,[S*w,_.y*w,0]),h.scale(E,E,[w/h.EXTENT,w/h.EXTENT,1]),h.multiply(E,o?this.alignedProjMatrix:this.projMatrix,E),f[c]=new Float32Array(E),f[c]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let i,o,c,f,_=-90,w=90,S=-180,E=180;const P=this.size,$=this._unmodified;if(this.latRange){const tt=this.latRange;_=h.mercatorYfromLat(tt[1])*this.worldSize,w=h.mercatorYfromLat(tt[0])*this.worldSize,i=w-_<P.y?P.y/(w-_):0}if(this.lngRange){const tt=this.lngRange;S=h.wrap(h.mercatorXfromLng(tt[0])*this.worldSize,0,this.worldSize),E=h.wrap(h.mercatorXfromLng(tt[1])*this.worldSize,0,this.worldSize),E<S&&(E+=this.worldSize),o=E-S<P.x?P.x/(E-S):0}const O=this.point,j=Math.max(o||0,i||0);if(j)return this.center=this.unproject(new h.pointGeometry(o?(E+S)/2:O.x,i?(w+_)/2:O.y)),this.zoom+=this.scaleZoom(j),this._unmodified=$,void(this._constraining=!1);if(this.latRange){const tt=O.y,J=P.y/2;tt-J<_&&(f=_+J),tt+J>w&&(f=w-J)}if(this.lngRange){const tt=(S+E)/2,J=h.wrap(O.x,tt-this.worldSize/2,tt+this.worldSize/2),Q=P.x/2;J-Q<S&&(c=S+Q),J+Q>E&&(c=E-Q)}c===void 0&&f===void 0||(this.center=this.unproject(new h.pointGeometry(c!==void 0?c:O.x,f!==void 0?f:O.y)).wrap()),this._unmodified=$,this._constraining=!1}_calcMatrices(){if(!this.height)return;const i=this.centerOffset,o=this.point.x,c=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=h.mercatorZfromAltitude(1,this.center.lat)*this.worldSize;let f=h.identity(new Float64Array(16));h.scale(f,f,[this.width/2,-this.height/2,1]),h.translate(f,f,[1,-1,0]),this.labelPlaneMatrix=f,f=h.identity(new Float64Array(16)),h.scale(f,f,[1,-1,1]),h.translate(f,f,[-1,-1,0]),h.scale(f,f,[2/this.width,2/this.height,1]),this.glCoordMatrix=f,this.cameraToSeaLevelDistance=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch);const _=Math.PI/2+this._pitch,w=this._fov*(.5+i.y/this.height),S=Math.sin(w)*this.cameraToSeaLevelDistance/Math.sin(h.clamp(Math.PI-_-w,.01,Math.PI-.01)),E=this.getHorizon(),P=2*Math.atan(E/this.cameraToCenterDistance)*(.5+i.y/(2*E)),$=Math.sin(P)*this.cameraToSeaLevelDistance/Math.sin(h.clamp(Math.PI-_-P,.01,Math.PI-.01)),O=Math.cos(Math.PI/2-this._pitch)*S+this.cameraToSeaLevelDistance,j=Math.cos(Math.PI/2-this._pitch)*$+this.cameraToSeaLevelDistance,tt=1.01*Math.min(O,j),J=this.height/50;f=new Float64Array(16),h.perspective(f,this._fov,this.width/this.height,J,tt),f[8]=2*-i.x/this.width,f[9]=2*i.y/this.height,h.scale(f,f,[1,-1,1]),h.translate(f,f,[0,0,-this.cameraToCenterDistance]),h.rotateX(f,f,this._pitch),h.rotateZ(f,f,this.angle),h.translate(f,f,[-o,-c,0]),this.mercatorMatrix=h.scale([],f,[this.worldSize,this.worldSize,this.worldSize]),h.scale(f,f,[1,1,this._pixelPerMeter]),this.pixelMatrix=h.multiply(new Float64Array(16),this.labelPlaneMatrix,f),h.translate(f,f,[0,0,-this.elevation]),this.projMatrix=f,this.invProjMatrix=h.invert([],f),this.pixelMatrix3D=h.multiply(new Float64Array(16),this.labelPlaneMatrix,f);const Q=this.width%2/2,ht=this.height%2/2,mt=Math.cos(this.angle),xt=Math.sin(this.angle),it=o-Math.round(o)+mt*Q+xt*ht,Et=c-Math.round(c)+mt*ht+xt*Q,wt=new Float64Array(f);if(h.translate(wt,wt,[it>.5?it-1:it,Et>.5?Et-1:Et,0]),this.alignedProjMatrix=wt,f=h.invert(new Float64Array(16),this.pixelMatrix),!f)throw new Error("failed to invert matrix");this.pixelMatrixInverse=f,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const i=this.pointCoordinate(new h.pointGeometry(0,0)),o=[i.x*this.worldSize,i.y*this.worldSize,0,1];return h.transformMat4(o,o,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const i=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new h.pointGeometry(0,i))}getCameraQueryGeometry(i){const o=this.getCameraPoint();if(i.length===1)return[i[0],o];{let c=o.x,f=o.y,_=o.x,w=o.y;for(const S of i)c=Math.min(c,S.x),f=Math.min(f,S.y),_=Math.max(_,S.x),w=Math.max(w,S.y);return[new h.pointGeometry(c,f),new h.pointGeometry(_,f),new h.pointGeometry(_,w),new h.pointGeometry(c,w),new h.pointGeometry(c,f)]}}}class Jl{constructor(i){this._hashName=i&&encodeURIComponent(i),h.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=function(o,c){let f=!1,_=null;const w=()=>{_=null,f&&(o(),_=setTimeout(w,300),f=!1)};return()=>(f=!0,_||w(),_)}(this._updateHashUnthrottled.bind(this))}addTo(i){return this._map=i,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(i){const o=this._map.getCenter(),c=Math.round(100*this._map.getZoom())/100,f=Math.ceil((c*Math.LN2+Math.log(512/360/.5))/Math.LN10),_=Math.pow(10,f),w=Math.round(o.lng*_)/_,S=Math.round(o.lat*_)/_,E=this._map.getBearing(),P=this._map.getPitch();let $="";if($+=i?`/${w}/${S}/${c}`:`${c}/${S}/${w}`,(E||P)&&($+="/"+Math.round(10*E)/10),P&&($+=`/${Math.round(P)}`),this._hashName){const O=this._hashName;let j=!1;const tt=window.location.hash.slice(1).split("&").map(J=>{const Q=J.split("=")[0];return Q===O?(j=!0,`${Q}=${$}`):J}).filter(J=>J);return j||tt.push(`${O}=${$}`),`#${tt.join("&")}`}return`#${$}`}_getCurrentHash(){const i=window.location.hash.replace("#","");if(this._hashName){let o;return i.split("&").map(c=>c.split("=")).forEach(c=>{c[0]===this._hashName&&(o=c)}),(o&&o[1]||"").split("/")}return i.split("/")}_onHashChange(){const i=this._getCurrentHash();if(i.length>=3&&!i.some(o=>isNaN(o))){const o=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(i[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+i[2],+i[1]],zoom:+i[0],bearing:o,pitch:+(i[4]||0)}),!0}return!1}_updateHashUnthrottled(){const i=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,i)}catch{}}}const ca={linearity:.3,easing:h.bezier(0,0,.3,1)},Da=h.extend({deceleration:2500,maxSpeed:1400},ca),Ba=h.extend({deceleration:20,maxSpeed:1400},ca),Ql=h.extend({deceleration:1e3,maxSpeed:360},ca),Bo=h.extend({deceleration:1e3,maxSpeed:90},ca);class tc{constructor(i){this._map=i,this.clear()}clear(){this._inertiaBuffer=[]}record(i){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:h.exported.now(),settings:i})}_drainInertiaBuffer(){const i=this._inertiaBuffer,o=h.exported.now();for(;i.length>0&&o-i[0].time>160;)i.shift()}_onMoveEnd(i){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const o={zoom:0,bearing:0,pitch:0,pan:new h.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:_}of this._inertiaBuffer)o.zoom+=_.zoomDelta||0,o.bearing+=_.bearingDelta||0,o.pitch+=_.pitchDelta||0,_.panDelta&&o.pan._add(_.panDelta),_.around&&(o.around=_.around),_.pinchAround&&(o.pinchAround=_.pinchAround);const c=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,f={};if(o.pan.mag()){const _=ua(o.pan.mag(),c,h.extend({},Da,i||{}));f.offset=o.pan.mult(_.amount/o.pan.mag()),f.center=this._map.transform.center,ha(f,_)}if(o.zoom){const _=ua(o.zoom,c,Ba);f.zoom=this._map.transform.zoom+_.amount,ha(f,_)}if(o.bearing){const _=ua(o.bearing,c,Ql);f.bearing=this._map.transform.bearing+h.clamp(_.amount,-179,179),ha(f,_)}if(o.pitch){const _=ua(o.pitch,c,Bo);f.pitch=this._map.transform.pitch+_.amount,ha(f,_)}if(f.zoom||f.bearing){const _=o.pinchAround===void 0?o.around:o.pinchAround;f.around=_?this._map.unproject(_):this._map.getCenter()}return this.clear(),h.extend(f,{noMoveStart:!0})}}function ha(d,i){(!d.duration||d.duration<i.duration)&&(d.duration=i.duration,d.easing=i.easing)}function ua(d,i,o){const{maxSpeed:c,linearity:f,deceleration:_}=o,w=h.clamp(d*f/(i/1e3),-c,c),S=Math.abs(w)/(_*f);return{easing:o.easing,duration:1e3*S,amount:w*(S/2)}}class ns extends h.Event{constructor(i,o,c,f={}){const _=lt.mousePos(o.getCanvasContainer(),c),w=o.unproject(_);super(i,h.extend({point:_,lngLat:w,originalEvent:c},f)),this._defaultPrevented=!1,this.target=o}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class da extends h.Event{constructor(i,o,c){const f=i==="touchend"?c.changedTouches:c.touches,_=lt.touchPos(o.getCanvasContainer(),f),w=_.map(E=>o.unproject(E)),S=_.reduce((E,P,$,O)=>E.add(P.div(O.length)),new h.pointGeometry(0,0));super(i,{points:_,point:S,lngLats:w,lngLat:o.unproject(S),originalEvent:c}),this._defaultPrevented=!1}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class An extends h.Event{constructor(i,o,c){super(i,{originalEvent:c}),this._defaultPrevented=!1}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class zc{constructor(i,o){this._map=i,this._clickTolerance=o.clickTolerance}reset(){delete this._mousedownPos}wheel(i){return this._firePreventable(new An(i.type,this._map,i))}mousedown(i,o){return this._mousedownPos=o,this._firePreventable(new ns(i.type,this._map,i))}mouseup(i){this._map.fire(new ns(i.type,this._map,i))}click(i,o){this._mousedownPos&&this._mousedownPos.dist(o)>=this._clickTolerance||this._map.fire(new ns(i.type,this._map,i))}dblclick(i){return this._firePreventable(new ns(i.type,this._map,i))}mouseover(i){this._map.fire(new ns(i.type,this._map,i))}mouseout(i){this._map.fire(new ns(i.type,this._map,i))}touchstart(i){return this._firePreventable(new da(i.type,this._map,i))}touchmove(i){this._map.fire(new da(i.type,this._map,i))}touchend(i){this._map.fire(new da(i.type,this._map,i))}touchcancel(i){this._map.fire(new da(i.type,this._map,i))}_firePreventable(i){if(this._map.fire(i),i.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class As{constructor(i){this._map=i}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(i){this._map.fire(new ns(i.type,this._map,i))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new ns("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(i){this._delayContextMenu?this._contextMenuEvent=i:this._ignoreContextMenu||this._map.fire(new ns(i.type,this._map,i)),this._map.listens("contextmenu")&&i.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class ec{constructor(i,o){this._map=i,this._el=i.getCanvasContainer(),this._container=i.getContainer(),this._clickTolerance=o.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(i,o){this.isEnabled()&&i.shiftKey&&i.button===0&&(lt.disableDrag(),this._startPos=this._lastPos=o,this._active=!0)}mousemoveWindow(i,o){if(!this._active)return;const c=o;if(this._lastPos.equals(c)||!this._box&&c.dist(this._startPos)<this._clickTolerance)return;const f=this._startPos;this._lastPos=c,this._box||(this._box=lt.create("div","maplibregl-boxzoom mapboxgl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair","mapboxgl-crosshair"),this._fireEvent("boxzoomstart",i));const _=Math.min(f.x,c.x),w=Math.max(f.x,c.x),S=Math.min(f.y,c.y),E=Math.max(f.y,c.y);lt.setTransform(this._box,`translate(${_}px,${S}px)`),this._box.style.width=w-_+"px",this._box.style.height=E-S+"px"}mouseupWindow(i,o){if(!this._active||i.button!==0)return;const c=this._startPos,f=o;if(this.reset(),lt.suppressClick(),c.x!==f.x||c.y!==f.y)return this._map.fire(new h.Event("boxzoomend",{originalEvent:i})),{cameraAnimation:_=>_.fitScreenCoordinates(c,f,this._map.getBearing(),{linear:!0})};this._fireEvent("boxzoomcancel",i)}keydown(i){this._active&&i.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",i))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair","mapboxgl-crosshair"),this._box&&(lt.remove(this._box),this._box=null),lt.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(i,o){return this._map.fire(new h.Event(i,{originalEvent:o}))}}function mr(d,i){if(d.length!==i.length)throw new Error(`The number of touches and points are not equal - touches ${d.length}, points ${i.length}`);const o={};for(let c=0;c<d.length;c++)o[d[c].identifier]=i[c];return o}class pa{constructor(i){this.reset(),this.numTouches=i.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(i,o,c){(this.centroid||c.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=i.timeStamp),c.length===this.numTouches&&(this.centroid=function(f){const _=new h.pointGeometry(0,0);for(const w of f)_._add(w);return _.div(f.length)}(o),this.touches=mr(c,o)))}touchmove(i,o,c){if(this.aborted||!this.centroid)return;const f=mr(c,o);for(const _ in this.touches){const w=this.touches[_],S=f[_];(!S||S.dist(w)>30)&&(this.aborted=!0)}}touchend(i,o,c){if((!this.centroid||i.timeStamp-this.startTime>500)&&(this.aborted=!0),c.length===0){const f=!this.aborted&&this.centroid;if(this.reset(),f)return f}}}class ul{constructor(i){this.singleTap=new pa(i),this.numTaps=i.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(i,o,c){this.singleTap.touchstart(i,o,c)}touchmove(i,o,c){this.singleTap.touchmove(i,o,c)}touchend(i,o,c){const f=this.singleTap.touchend(i,o,c);if(f){const _=i.timeStamp-this.lastTime<500,w=!this.lastTap||this.lastTap.dist(f)<30;if(_&&w||this.reset(),this.count++,this.lastTime=i.timeStamp,this.lastTap=f,this.count===this.numTaps)return this.reset(),f}}}class Lc{constructor(){this._zoomIn=new ul({numTouches:1,numTaps:2}),this._zoomOut=new ul({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(i,o,c){this._zoomIn.touchstart(i,o,c),this._zoomOut.touchstart(i,o,c)}touchmove(i,o,c){this._zoomIn.touchmove(i,o,c),this._zoomOut.touchmove(i,o,c)}touchend(i,o,c){const f=this._zoomIn.touchend(i,o,c),_=this._zoomOut.touchend(i,o,c);return f?(this._active=!0,i.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:w=>w.easeTo({duration:300,zoom:w.getZoom()+1,around:w.unproject(f)},{originalEvent:i})}):_?(this._active=!0,i.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:w=>w.easeTo({duration:300,zoom:w.getZoom()-1,around:w.unproject(_)},{originalEvent:i})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const ss={0:1,2:2};class Ra{constructor(i){this.reset(),this._clickTolerance=i.clickTolerance||1}reset(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton}_correctButton(i,o){return!1}_move(i,o){return{}}mousedown(i,o){if(this._lastPoint)return;const c=lt.mouseButton(i);this._correctButton(i,c)&&(this._lastPoint=o,this._eventButton=c)}mousemoveWindow(i,o){const c=this._lastPoint;if(c){if(i.preventDefault(),function(f,_){const w=ss[_];return f.buttons===void 0||(f.buttons&w)!==w}(i,this._eventButton))this.reset();else if(this._moved||!(o.dist(c)<this._clickTolerance))return this._moved=!0,this._lastPoint=o,this._move(c,o)}}mouseupWindow(i){this._lastPoint&&lt.mouseButton(i)===this._eventButton&&(this._moved&&lt.suppressClick(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class co extends Ra{mousedown(i,o){super.mousedown(i,o),this._lastPoint&&(this._active=!0)}_correctButton(i,o){return o===0&&!i.ctrlKey}_move(i,o){return{around:o,panDelta:o.sub(i)}}}class Ei extends Ra{_correctButton(i,o){return o===0&&i.ctrlKey||o===2}_move(i,o){const c=.8*(o.x-i.x);if(c)return this._active=!0,{bearingDelta:c}}contextmenu(i){i.preventDefault()}}class xe extends Ra{_correctButton(i,o){return o===0&&i.ctrlKey||o===2}_move(i,o){const c=-.5*(o.y-i.y);if(c)return this._active=!0,{pitchDelta:c}}contextmenu(i){i.preventDefault()}}class Wi{constructor(i,o){this._minTouches=i.cooperativeGestures?2:1,this._clickTolerance=i.clickTolerance||1,this._map=o,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new h.pointGeometry(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(i,o,c){return this._calculateTransform(i,o,c)}touchmove(i,o,c){if(this._map._cooperativeGestures&&(this._minTouches===2&&c.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(i,!1,c.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(c.length<this._minTouches))return i.preventDefault(),this._calculateTransform(i,o,c)}touchend(i,o,c){this._calculateTransform(i,o,c),this._active&&c.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(i,o,c){c.length>0&&(this._active=!0);const f=mr(c,o),_=new h.pointGeometry(0,0),w=new h.pointGeometry(0,0);let S=0;for(const P in f){const $=f[P],O=this._touches[P];O&&(_._add($),w._add($.sub(O)),S++,f[P]=$)}if(this._touches=f,S<this._minTouches||!w.mag())return;const E=w.div(S);return this._sum._add(E),this._sum.mag()<this._clickTolerance?void 0:{around:_.div(S),panDelta:E}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class rs{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}_start(i){}_move(i,o,c){return{}}touchstart(i,o,c){this._firstTwoTouches||c.length<2||(this._firstTwoTouches=[c[0].identifier,c[1].identifier],this._start([o[0],o[1]]))}touchmove(i,o,c){if(!this._firstTwoTouches)return;i.preventDefault();const[f,_]=this._firstTwoTouches,w=_n(c,o,f),S=_n(c,o,_);if(!w||!S)return;const E=this._aroundCenter?null:w.add(S).div(2);return this._move([w,S],E,i)}touchend(i,o,c){if(!this._firstTwoTouches)return;const[f,_]=this._firstTwoTouches,w=_n(c,o,f),S=_n(c,o,_);w&&S||(this._active&&lt.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(i){this._enabled=!0,this._aroundCenter=!!i&&i.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function _n(d,i,o){for(let c=0;c<d.length;c++)if(d[c].identifier===o)return i[c]}function dl(d,i){return Math.log(d/i)/Math.LN2}class he extends rs{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(i){this._startDistance=this._distance=i[0].dist(i[1])}_move(i,o){const c=this._distance;if(this._distance=i[0].dist(i[1]),this._active||!(Math.abs(dl(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:dl(this._distance,c),pinchAround:o}}}function Fa(d,i){return 180*d.angleWith(i)/Math.PI}class pl extends rs{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(i){this._startVector=this._vector=i[0].sub(i[1]),this._minDiameter=i[0].dist(i[1])}_move(i,o){const c=this._vector;if(this._vector=i[0].sub(i[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Fa(this._vector,c),pinchAround:o}}_isBelowThreshold(i){this._minDiameter=Math.min(this._minDiameter,i.mag());const o=25/(Math.PI*this._minDiameter)*360,c=Fa(i,this._startVector);return Math.abs(c)<o}}function gr(d){return Math.abs(d.y)>Math.abs(d.x)}class fl extends rs{constructor(i){super(),this._map=i}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(i,o,c){super.touchstart(i,o,c),this._currentTouchCount=c.length}_start(i){this._lastPoints=i,gr(i[0].sub(i[1]))&&(this._valid=!1)}_move(i,o,c){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const f=i[0].sub(this._lastPoints[0]),_=i[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(f,_,c.timeStamp),this._valid?(this._lastPoints=i,this._active=!0,{pitchDelta:(f.y+_.y)/2*-.5}):void 0}gestureBeginsVertically(i,o,c){if(this._valid!==void 0)return this._valid;const f=i.mag()>=2,_=o.mag()>=2;if(!f&&!_)return;if(!f||!_)return this._firstMove===void 0&&(this._firstMove=c),c-this._firstMove<100&&void 0;const w=i.y>0==o.y>0;return gr(i)&&gr(o)&&w}}const ic={panStep:100,bearingStep:15,pitchStep:10};class nc{constructor(){const i=ic;this._panStep=i.panStep,this._bearingStep=i.bearingStep,this._pitchStep=i.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(i){if(i.altKey||i.ctrlKey||i.metaKey)return;let o=0,c=0,f=0,_=0,w=0;switch(i.keyCode){case 61:case 107:case 171:case 187:o=1;break;case 189:case 109:case 173:o=-1;break;case 37:i.shiftKey?c=-1:(i.preventDefault(),_=-1);break;case 39:i.shiftKey?c=1:(i.preventDefault(),_=1);break;case 38:i.shiftKey?f=1:(i.preventDefault(),w=-1);break;case 40:i.shiftKey?f=-1:(i.preventDefault(),w=1);break;default:return}return this._rotationDisabled&&(c=0,f=0),{cameraAnimation:S=>{const E=S.getZoom();S.easeTo({duration:300,easeId:"keyboardHandler",easing:$c,zoom:o?Math.round(E)+o*(i.shiftKey?2:1):E,bearing:S.getBearing()+c*this._bearingStep,pitch:S.getPitch()+f*this._pitchStep,offset:[-_*this._panStep,-w*this._panStep],center:S.getCenter()},{originalEvent:i})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function $c(d){return d*(2-d)}const Oa=4.000244140625;class bn{constructor(i,o){this._map=i,this._el=i.getCanvasContainer(),this._handler=o,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,h.bindAll(["_onTimeout"],this)}setZoomRate(i){this._defaultZoomRate=i}setWheelZoomRate(i){this._wheelZoomRate=i}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(i){this.isEnabled()||(this._enabled=!0,this._aroundCenter=i&&i.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(i){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!this._map._metaPress)return;i.preventDefault()}let o=i.deltaMode===WheelEvent.DOM_DELTA_LINE?40*i.deltaY:i.deltaY;const c=h.exported.now(),f=c-(this._lastWheelEventTime||0);this._lastWheelEventTime=c,o!==0&&o%Oa==0?this._type="wheel":o!==0&&Math.abs(o)<4?this._type="trackpad":f>400?(this._type=null,this._lastValue=o,this._timeout=setTimeout(this._onTimeout,40,i)):this._type||(this._type=Math.abs(f*o)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,o+=this._lastValue)),i.shiftKey&&o&&(o/=4),this._type&&(this._lastWheelEvent=i,this._delta-=o,this._active||this._start(i)),i.preventDefault()}_onTimeout(i){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(i)}_start(i){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const o=lt.mousePos(this._el,i);this._around=h.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(o)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const i=this._map.transform;if(this._delta!==0){const S=this._type==="wheel"&&Math.abs(this._delta)>Oa?this._wheelZoomRate:this._defaultZoomRate;let E=2/(1+Math.exp(-Math.abs(this._delta*S)));this._delta<0&&E!==0&&(E=1/E);const P=typeof this._targetZoom=="number"?i.zoomScale(this._targetZoom):i.scale;this._targetZoom=Math.min(i.maxZoom,Math.max(i.minZoom,i.scaleZoom(P*E))),this._type==="wheel"&&(this._startZoom=i.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const o=typeof this._targetZoom=="number"?this._targetZoom:i.zoom,c=this._startZoom,f=this._easing;let _,w=!1;if(this._type==="wheel"&&c&&f){const S=Math.min((h.exported.now()-this._lastWheelEventTime)/200,1),E=f(S);_=h.number(c,o,E),S<1?this._frameId||(this._frameId=!0):w=!0}else _=o,w=!0;return this._active=!0,w&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!w,zoomDelta:_-i.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(i){let o=h.ease;if(this._prevEase){const c=this._prevEase,f=(h.exported.now()-c.start)/c.duration,_=c.easing(f+.01)-c.easing(f),w=.27/Math.sqrt(_*_+1e-4)*.01,S=Math.sqrt(.0729-w*w);o=h.bezier(w,S,.25,1)}return this._prevEase={start:h.exported.now(),duration:i,easing:o},o}reset(){this._active=!1}}class ml{constructor(i,o){this._clickZoom=i,this._tapZoom=o}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class fa{constructor(){this.reset()}reset(){this._active=!1}dblclick(i,o){return i.preventDefault(),{cameraAnimation:c=>{c.easeTo({duration:300,zoom:c.getZoom()+(i.shiftKey?-1:1),around:c.unproject(o)},{originalEvent:i})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ts{constructor(){this._tap=new ul({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}touchstart(i,o,c){this._swipePoint||(this._tapTime&&i.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?c.length>0&&(this._swipePoint=o[0],this._swipeTouch=c[0].identifier):this._tap.touchstart(i,o,c))}touchmove(i,o,c){if(this._tapTime){if(this._swipePoint){if(c[0].identifier!==this._swipeTouch)return;const f=o[0],_=f.y-this._swipePoint.y;return this._swipePoint=f,i.preventDefault(),this._active=!0,{zoomDelta:_/128}}}else this._tap.touchmove(i,o,c)}touchend(i,o,c){this._tapTime?this._swipePoint&&c.length===0&&this.reset():this._tap.touchend(i,o,c)&&(this._tapTime=i.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Wn{constructor(i,o,c){this._el=i,this._mousePan=o,this._touchPan=c}enable(i){this._inertiaOptions=i||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Mi{constructor(i,o,c){this._pitchWithRotate=i.pitchWithRotate,this._mouseRotate=o,this._mousePitch=c}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Ro{constructor(i,o,c,f){this._el=i,this._touchZoom=o,this._touchRotate=c,this._tapDragZoom=f,this._rotationDisabled=!1,this._enabled=!0}enable(i){this._touchZoom.enable(i),this._rotationDisabled||this._touchRotate.enable(i),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Ur=d=>d.zoom||d.drag||d.pitch||d.rotate;class gl extends h.Event{}function ho(d){return d.panDelta&&d.panDelta.mag()||d.zoomDelta||d.bearingDelta||d.pitchDelta}class Fo{constructor(i,o){this._map=i,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new tc(i),this._bearingSnap=o.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(o),h.bindAll(["handleEvent","handleWindowEvent"],this);const c=this._el;this._listeners=[[c,"touchstart",{passive:!0}],[c,"touchmove",{passive:!1}],[c,"touchend",void 0],[c,"touchcancel",void 0],[c,"mousedown",void 0],[c,"mousemove",void 0],[c,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[c,"mouseover",void 0],[c,"mouseout",void 0],[c,"dblclick",void 0],[c,"click",void 0],[c,"keydown",{capture:!1}],[c,"keyup",void 0],[c,"wheel",{passive:!1}],[c,"contextmenu",void 0],[window,"blur",void 0]];for(const[f,_,w]of this._listeners)lt.addEventListener(f,_,f===document?this.handleWindowEvent:this.handleEvent,w)}destroy(){for(const[i,o,c]of this._listeners)lt.removeEventListener(i,o,i===document?this.handleWindowEvent:this.handleEvent,c)}_addDefaultHandlers(i){const o=this._map,c=o.getCanvasContainer();this._add("mapEvent",new zc(o,i));const f=o.boxZoom=new ec(o,i);this._add("boxZoom",f);const _=new Lc,w=new fa;o.doubleClickZoom=new ml(w,_),this._add("tapZoom",_),this._add("clickZoom",w);const S=new Ts;this._add("tapDragZoom",S);const E=o.touchPitch=new fl(o);this._add("touchPitch",E);const P=new Ei(i),$=new xe(i);o.dragRotate=new Mi(i,P,$),this._add("mouseRotate",P,["mousePitch"]),this._add("mousePitch",$,["mouseRotate"]);const O=new co(i),j=new Wi(i,o);o.dragPan=new Wn(c,O,j),this._add("mousePan",O),this._add("touchPan",j,["touchZoom","touchRotate"]);const tt=new pl,J=new he;o.touchZoomRotate=new Ro(c,J,tt,S),this._add("touchRotate",tt,["touchPan","touchZoom"]),this._add("touchZoom",J,["touchPan","touchRotate"]);const Q=o.scrollZoom=new bn(o,this);this._add("scrollZoom",Q,["mousePan"]);const ht=o.keyboard=new nc;this._add("keyboard",ht),this._add("blockableMapEvent",new As(o));for(const mt of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])i.interactive&&i[mt]&&o[mt].enable(i[mt])}_add(i,o,c){this._handlers.push({handlerName:i,handler:o,allowed:c}),this._handlersById[i]=o}stop(i){if(!this._updatingCamera){for(const{handler:o}of this._handlers)o.reset();this._inertia.clear(),this._fireEvents({},{},i),this._changes=[]}}isActive(){for(const{handler:i}of this._handlers)if(i.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return Boolean(Ur(this._eventsInProgress))||this.isZooming()}_blockedByActive(i,o,c){for(const f in i)if(f!==c&&(!o||o.indexOf(f)<0))return!0;return!1}handleWindowEvent(i){this.handleEvent(i,`${i.type}Window`)}_getMapTouches(i){const o=[];for(const c of i)this._el.contains(c.target)&&o.push(c);return o}handleEvent(i,o){if(i.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const c=i.type==="renderFrame"?void 0:i,f={needsRenderFrame:!1},_={},w={},S=i.touches,E=S?this._getMapTouches(S):void 0,P=E?lt.touchPos(this._el,E):lt.mousePos(this._el,i);for(const{handlerName:j,handler:tt,allowed:J}of this._handlers){if(!tt.isEnabled())continue;let Q;this._blockedByActive(w,J,j)?tt.reset():tt[o||i.type]&&(Q=tt[o||i.type](i,P,E),this.mergeHandlerResult(f,_,Q,j,c),Q&&Q.needsRenderFrame&&this._triggerRenderFrame()),(Q||tt.isActive())&&(w[j]=tt)}const $={};for(const j in this._previousActiveHandlers)w[j]||($[j]=c);this._previousActiveHandlers=w,(Object.keys($).length||ho(f))&&(this._changes.push([f,_,$]),this._triggerRenderFrame()),(Object.keys(w).length||ho(f))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:O}=f;O&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],O(this._map))}mergeHandlerResult(i,o,c,f,_){if(!c)return;h.extend(i,c);const w={handlerName:f,originalEvent:c.originalEvent||_};c.zoomDelta!==void 0&&(o.zoom=w),c.panDelta!==void 0&&(o.drag=w),c.pitchDelta!==void 0&&(o.pitch=w),c.bearingDelta!==void 0&&(o.rotate=w)}_applyChanges(){const i={},o={},c={};for(const[f,_,w]of this._changes)f.panDelta&&(i.panDelta=(i.panDelta||new h.pointGeometry(0,0))._add(f.panDelta)),f.zoomDelta&&(i.zoomDelta=(i.zoomDelta||0)+f.zoomDelta),f.bearingDelta&&(i.bearingDelta=(i.bearingDelta||0)+f.bearingDelta),f.pitchDelta&&(i.pitchDelta=(i.pitchDelta||0)+f.pitchDelta),f.around!==void 0&&(i.around=f.around),f.pinchAround!==void 0&&(i.pinchAround=f.pinchAround),f.noInertia&&(i.noInertia=f.noInertia),h.extend(o,_),h.extend(c,w);this._updateMapTransform(i,o,c),this._changes=[]}_updateMapTransform(i,o,c){const f=this._map,_=f.transform,w=f.style&&f.style.terrain;if(!(ho(i)||w&&this._drag))return this._fireEvents(o,c,!0);let{panDelta:S,zoomDelta:E,bearingDelta:P,pitchDelta:$,around:O,pinchAround:j}=i;j!==void 0&&(O=j),f._stop(!0),O=O||f.transform.centerPoint;const tt=_.pointLocation(S?O.sub(S):O);P&&(_.bearing+=P),$&&(_.pitch+=$),E&&(_.zoom+=E),w?o.drag&&!this._drag?(this._drag={center:_.centerPoint,lngLat:_.pointLocation(O),point:O,handlerName:o.drag.handlerName},f.fire(new h.Event("freezeElevation",{freeze:!0}))):this._drag&&c[this._drag.handlerName]?(f.fire(new h.Event("freezeElevation",{freeze:!1})),this._drag=null):o.drag&&this._drag&&(_.center=_.pointLocation(_.centerPoint.sub(S))):_.setLocationAtPoint(tt,O),this._map._update(),i.noInertia||this._inertia.record(i),this._fireEvents(o,c,!0)}_fireEvents(i,o,c){const f=Ur(this._eventsInProgress),_=Ur(i),w={};for(const $ in i){const{originalEvent:O}=i[$];this._eventsInProgress[$]||(w[`${$}start`]=O),this._eventsInProgress[$]=i[$]}!f&&_&&this._fireEvent("movestart",_.originalEvent);for(const $ in w)this._fireEvent($,w[$]);_&&this._fireEvent("move",_.originalEvent);for(const $ in i){const{originalEvent:O}=i[$];this._fireEvent($,O)}const S={};let E;for(const $ in this._eventsInProgress){const{handlerName:O,originalEvent:j}=this._eventsInProgress[$];this._handlersById[O].isActive()||(delete this._eventsInProgress[$],E=o[O]||j,S[`${$}end`]=E)}for(const $ in S)this._fireEvent($,S[$]);const P=Ur(this._eventsInProgress);if(c&&(f||_)&&!P){this._updatingCamera=!0;const $=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),O=j=>j!==0&&-this._bearingSnap<j&&j<this._bearingSnap;$?(O($.bearing||this._map.getBearing())&&($.bearing=0),this._map.easeTo($,{originalEvent:E})):(this._map.fire(new h.Event("moveend",{originalEvent:E})),O(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(i,o){this._map.fire(new h.Event(i,o?{originalEvent:o}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(i=>{delete this._frameId,this.handleEvent(new gl("renderFrame",{timeStamp:i})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const hs={extend:(d,...i)=>h.extend(d,...i),run(d){d()},logToElement(d,i=!1,o="log"){const c=window.document.getElementById(o);c&&(i&&(c.innerHTML=""),c.innerHTML+=`<br>${d}`)}};class on extends h.Evented{constructor(i,o){super(),this._moving=!1,this._zooming=!1,this.transform=i,this._bearingSnap=o.bearingSnap,h.bindAll(["_renderFrameCallback"],this)}getCenter(){return new h.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(i,o){return this.jumpTo({center:i},o)}panBy(i,o,c){return i=h.pointGeometry.convert(i).mult(-1),this.panTo(this.transform.center,h.extend({offset:i},o),c)}panTo(i,o,c){return this.easeTo(h.extend({center:i},o),c)}getZoom(){return this.transform.zoom}setZoom(i,o){return this.jumpTo({zoom:i},o),this}zoomTo(i,o,c){return this.easeTo(h.extend({zoom:i},o),c)}zoomIn(i,o){return this.zoomTo(this.getZoom()+1,i,o),this}zoomOut(i,o){return this.zoomTo(this.getZoom()-1,i,o),this}getBearing(){return this.transform.bearing}setBearing(i,o){return this.jumpTo({bearing:i},o),this}getPadding(){return this.transform.padding}setPadding(i,o){return this.jumpTo({padding:i},o),this}rotateTo(i,o,c){return this.easeTo(h.extend({bearing:i},o),c)}resetNorth(i,o){return this.rotateTo(0,h.extend({duration:1e3},i),o),this}resetNorthPitch(i,o){return this.easeTo(h.extend({bearing:0,pitch:0,duration:1e3},i),o),this}snapToNorth(i,o){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(i,o):this}getPitch(){return this.transform.pitch}setPitch(i,o){return this.jumpTo({pitch:i},o),this}cameraForBounds(i,o){i=h.LngLatBounds.convert(i);const c=o&&o.bearing||0;return this._cameraForBoxAndBearing(i.getNorthWest(),i.getSouthEast(),c,o)}_cameraForBoxAndBearing(i,o,c,f){const _={top:0,bottom:0,right:0,left:0};if(typeof(f=h.extend({padding:_,offset:[0,0],maxZoom:this.transform.maxZoom},f)).padding=="number"){const wt=f.padding;f.padding={top:wt,bottom:wt,right:wt,left:wt}}f.padding=h.extend(_,f.padding);const w=this.transform,S=w.padding,E=w.project(h.LngLat.convert(i)),P=w.project(h.LngLat.convert(o)),$=E.rotate(-c*Math.PI/180),O=P.rotate(-c*Math.PI/180),j=new h.pointGeometry(Math.max($.x,O.x),Math.max($.y,O.y)),tt=new h.pointGeometry(Math.min($.x,O.x),Math.min($.y,O.y)),J=j.sub(tt),Q=(w.width-(S.left+S.right+f.padding.left+f.padding.right))/J.x,ht=(w.height-(S.top+S.bottom+f.padding.top+f.padding.bottom))/J.y;if(ht<0||Q<0)return void h.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const mt=Math.min(w.scaleZoom(w.scale*Math.min(Q,ht)),f.maxZoom),xt=h.pointGeometry.convert(f.offset),it=new h.pointGeometry((f.padding.left-f.padding.right)/2,(f.padding.top-f.padding.bottom)/2).rotate(c*Math.PI/180),Et=xt.add(it).mult(w.scale/w.zoomScale(mt));return{center:w.unproject(E.add(P).div(2).sub(Et)),zoom:mt,bearing:c}}fitBounds(i,o,c){return this._fitInternal(this.cameraForBounds(i,o),o,c)}fitScreenCoordinates(i,o,c,f,_){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(h.pointGeometry.convert(i)),this.transform.pointLocation(h.pointGeometry.convert(o)),c,f),f,_)}_fitInternal(i,o,c){return i?(delete(o=h.extend(i,o)).padding,o.linear?this.easeTo(o,c):this.flyTo(o,c)):this}jumpTo(i,o){this.stop();const c=this.transform;let f=!1,_=!1,w=!1;return"zoom"in i&&c.zoom!==+i.zoom&&(f=!0,c.zoom=+i.zoom),i.center!==void 0&&(c.center=h.LngLat.convert(i.center)),"bearing"in i&&c.bearing!==+i.bearing&&(_=!0,c.bearing=+i.bearing),"pitch"in i&&c.pitch!==+i.pitch&&(w=!0,c.pitch=+i.pitch),i.padding==null||c.isPaddingEqual(i.padding)||(c.padding=i.padding),this.fire(new h.Event("movestart",o)).fire(new h.Event("move",o)),f&&this.fire(new h.Event("zoomstart",o)).fire(new h.Event("zoom",o)).fire(new h.Event("zoomend",o)),_&&this.fire(new h.Event("rotatestart",o)).fire(new h.Event("rotate",o)).fire(new h.Event("rotateend",o)),w&&this.fire(new h.Event("pitchstart",o)).fire(new h.Event("pitch",o)).fire(new h.Event("pitchend",o)),this.fire(new h.Event("moveend",o))}calculateCameraOptionsFromTo(i,o,c,f=0){const _=h.MercatorCoordinate.fromLngLat(i,o),w=h.MercatorCoordinate.fromLngLat(c,f),S=w.x-_.x,E=w.y-_.y,P=w.z-_.z,$=Math.hypot(S,E,P);if($===0)throw new Error("Can't calculate camera options with same From and To");const O=Math.hypot(S,E),j=this.transform.scaleZoom(this.transform.cameraToCenterDistance/$/this.transform.tileSize),tt=180*Math.atan2(S,-E)/Math.PI;let J=180*Math.acos(O/$)/Math.PI;return J=P<0?90-J:90+J,{center:w.toLngLat(),zoom:j,pitch:J,bearing:tt}}easeTo(i,o){this._stop(!1,i.easeId),((i=h.extend({offset:[0,0],duration:500,easing:h.ease},i)).animate===!1||!i.essential&&h.exported.prefersReducedMotion)&&(i.duration=0);const c=this.transform,f=this.getZoom(),_=this.getBearing(),w=this.getPitch(),S=this.getPadding(),E="zoom"in i?+i.zoom:f,P="bearing"in i?this._normalizeBearing(i.bearing,_):_,$="pitch"in i?+i.pitch:w,O="padding"in i?i.padding:c.padding,j=h.pointGeometry.convert(i.offset);let tt=c.centerPoint.add(j);const J=c.pointLocation(tt),Q=h.LngLat.convert(i.center||J);this._normalizeCenter(Q);const ht=c.project(J),mt=c.project(Q).sub(ht),xt=c.zoomScale(E-f);let it,Et;i.around&&(it=h.LngLat.convert(i.around),Et=c.locationPoint(it));const wt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||E!==f,this._rotating=this._rotating||_!==P,this._pitching=this._pitching||$!==w,this._padding=!c.isPaddingEqual(O),this._easeId=i.easeId,this._prepareEase(o,i.noMoveStart,wt),this._ease($t=>{if(this._zooming&&(c.zoom=h.number(f,E,$t)),this._rotating&&(c.bearing=h.number(_,P,$t)),this._pitching&&(c.pitch=h.number(w,$,$t)),this._padding&&(c.interpolatePadding(S,O,$t),tt=c.centerPoint.add(j)),it)c.setLocationAtPoint(it,Et);else{const Dt=c.zoomScale(c.zoom-f),Wt=E>f?Math.min(2,xt):Math.max(.5,xt),zt=Math.pow(Wt,1-$t),fe=c.unproject(ht.add(mt.mult($t*zt)).mult(Dt));c.setLocationAtPoint(c.renderWorldCopies?fe.wrap():fe,tt)}this._fireMoveEvents(o)},$t=>{this._afterEase(o,$t)},i),this}_prepareEase(i,o,c={}){this._moving=!0,this.fire(new h.Event("freezeElevation",{freeze:!0})),o||c.moving||this.fire(new h.Event("movestart",i)),this._zooming&&!c.zooming&&this.fire(new h.Event("zoomstart",i)),this._rotating&&!c.rotating&&this.fire(new h.Event("rotatestart",i)),this._pitching&&!c.pitching&&this.fire(new h.Event("pitchstart",i))}_fireMoveEvents(i){this.fire(new h.Event("move",i)),this._zooming&&this.fire(new h.Event("zoom",i)),this._rotating&&this.fire(new h.Event("rotate",i)),this._pitching&&this.fire(new h.Event("pitch",i))}_afterEase(i,o){if(this._easeId&&o&&this._easeId===o)return;delete this._easeId,this.fire(new h.Event("freezeElevation",{freeze:!1}));const c=this._zooming,f=this._rotating,_=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,c&&this.fire(new h.Event("zoomend",i)),f&&this.fire(new h.Event("rotateend",i)),_&&this.fire(new h.Event("pitchend",i)),this.fire(new h.Event("moveend",i))}flyTo(i,o){if(!i.essential&&h.exported.prefersReducedMotion){const Le=h.pick(i,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Le,o)}this.stop(),i=h.extend({offset:[0,0],speed:1.2,curve:1.42,easing:h.ease},i);const c=this.transform,f=this.getZoom(),_=this.getBearing(),w=this.getPitch(),S=this.getPadding(),E="zoom"in i?h.clamp(+i.zoom,c.minZoom,c.maxZoom):f,P="bearing"in i?this._normalizeBearing(i.bearing,_):_,$="pitch"in i?+i.pitch:w,O="padding"in i?i.padding:c.padding,j=c.zoomScale(E-f),tt=h.pointGeometry.convert(i.offset);let J=c.centerPoint.add(tt);const Q=c.pointLocation(J),ht=h.LngLat.convert(i.center||Q);this._normalizeCenter(ht);const mt=c.project(Q),xt=c.project(ht).sub(mt);let it=i.curve;const Et=Math.max(c.width,c.height),wt=Et/j,$t=xt.mag();if("minZoom"in i){const Le=h.clamp(Math.min(i.minZoom,f,E),c.minZoom,c.maxZoom),Ii=Et/c.zoomScale(Le-f);it=Math.sqrt(Ii/$t*2)}const Dt=it*it;function Wt(Le){const Ii=(wt*wt-Et*Et+(Le?-1:1)*Dt*Dt*$t*$t)/(2*(Le?wt:Et)*Dt*$t);return Math.log(Math.sqrt(Ii*Ii+1)-Ii)}function zt(Le){return(Math.exp(Le)-Math.exp(-Le))/2}function fe(Le){return(Math.exp(Le)+Math.exp(-Le))/2}const se=Wt(0);let ye=function(Le){return fe(se)/fe(se+it*Le)},ni=function(Le){return Et*((fe(se)*(zt(Ii=se+it*Le)/fe(Ii))-zt(se))/Dt)/$t;var Ii},di=(Wt(1)-se)/it;if(Math.abs($t)<1e-6||!isFinite(di)){if(Math.abs(Et-wt)<1e-6)return this.easeTo(i,o);const Le=wt<Et?-1:1;di=Math.abs(Math.log(wt/Et))/it,ni=function(){return 0},ye=function(Ii){return Math.exp(Le*it*Ii)}}return i.duration="duration"in i?+i.duration:1e3*di/("screenSpeed"in i?+i.screenSpeed/it:+i.speed),i.maxDuration&&i.duration>i.maxDuration&&(i.duration=0),this._zooming=!0,this._rotating=_!==P,this._pitching=$!==w,this._padding=!c.isPaddingEqual(O),this._prepareEase(o,!1),this._ease(Le=>{const Ii=Le*di,Ke=1/ye(Ii);c.zoom=Le===1?E:f+c.scaleZoom(Ke),this._rotating&&(c.bearing=h.number(_,P,Le)),this._pitching&&(c.pitch=h.number(w,$,Le)),this._padding&&(c.interpolatePadding(S,O,Le),J=c.centerPoint.add(tt));const ki=Le===1?ht:c.unproject(mt.add(xt.mult(ni(Ii))).mult(Ke));c.setLocationAtPoint(c.renderWorldCopies?ki.wrap():ki,J),this._fireMoveEvents(o)},()=>this._afterEase(o),i),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(i,o){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const c=this._onEaseEnd;delete this._onEaseEnd,c.call(this,o)}if(!i){const c=this.handlers;c&&c.stop(!1)}return this}_ease(i,o,c){c.animate===!1||c.duration===0?(i(1),o()):(this._easeStart=h.exported.now(),this._easeOptions=c,this._onEaseFrame=i,this._onEaseEnd=o,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const i=Math.min((h.exported.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(i)),i<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(i,o){i=h.wrap(i,-180,180);const c=Math.abs(i-o);return Math.abs(i-360-o)<c&&(i-=360),Math.abs(i+360-o)<c&&(i+=360),i}_normalizeCenter(i){const o=this.transform;if(!o.renderWorldCopies||o.lngRange)return;const c=i.lng-o.center.lng;i.lng+=c>180?-360:c<-180?360:0}}class yr{constructor(i={}){this.options=i,h.bindAll(["_toggleAttribution","_updateData","_updateCompact","_updateCompactMinimize"],this)}getDefaultPosition(){return"bottom-right"}onAdd(i){return this._map=i,this._compact=this.options&&this.options.compact,this._container=lt.create("details","maplibregl-ctrl maplibregl-ctrl-attrib mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=lt.create("summary","maplibregl-ctrl-attrib-button mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=lt.create("div","maplibregl-ctrl-attrib-inner mapboxgl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){lt.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(i,o){const c=this._map._getUIString(`AttributionControl.${o}`);i.title=c,i.setAttribute("aria-label",c)}_toggleAttribution(){this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show")):(this._container.classList.add("maplibregl-compact-show","mapboxgl-compact-show"),this._container.removeAttribute("open")))}_updateData(i){!i||i.sourceDataType!=="metadata"&&i.sourceDataType!=="visibility"&&i.dataType!=="style"&&i.type!=="terrain"||this._updateAttributions()}_updateAttributions(){if(!this._map.style)return;let i=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?i=i.concat(this.options.customAttribution.map(f=>typeof f!="string"?"":f)):typeof this.options.customAttribution=="string"&&i.push(this.options.customAttribution)),this._map.style.stylesheet){const f=this._map.style.stylesheet;this.styleOwner=f.owner,this.styleId=f.id}const o=this._map.style.sourceCaches;for(const f in o){const _=o[f];if(_.used||_.usedForTerrain){const w=_.getSource();w.attribution&&i.indexOf(w.attribution)<0&&i.push(w.attribution)}}i=i.filter(f=>String(f).trim()),i.sort((f,_)=>f.length-_.length),i=i.filter((f,_)=>{for(let w=_+1;w<i.length;w++)if(i[w].indexOf(f)>=0)return!1;return!0});const c=i.join(" | ");c!==this._attribHTML&&(this._attribHTML=c,i.length?(this._innerContainer.innerHTML=c,this._container.classList.remove("maplibregl-attrib-empty","mapboxgl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty","mapboxgl-attrib-empty"),this._updateCompact(),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","mapboxgl-compact","maplibregl-compact-show","mapboxgl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show","mapboxgl-compact","mapboxgl-compact-show"))}_updateCompactMinimize(){this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show")}}class vi{constructor(i={}){this.options=i,h.bindAll(["_updateCompact"],this)}getDefaultPosition(){return"bottom-left"}onAdd(i){this._map=i,this._compact=this.options&&this.options.compact,this._container=lt.create("div","maplibregl-ctrl mapboxgl-ctrl");const o=lt.create("a","maplibregl-ctrl-logo mapboxgl-ctrl-logo");return o.target="_blank",o.rel="noopener nofollow",o.href="https://maplibre.org/",o.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),o.setAttribute("rel","noopener nofollow"),this._container.appendChild(o),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){lt.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}_updateCompact(){const i=this._container.children;if(i.length){const o=i[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&o.classList.add("maplibregl-compact","mapboxgl-compact"):o.classList.remove("maplibregl-compact","mapboxgl-compact")}}}class Na{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(i){const o=++this._id;return this._queue.push({callback:i,id:o,cancelled:!1}),o}remove(i){const o=this._currentlyRunning,c=o?this._queue.concat(o):this._queue;for(const f of c)if(f.id===i)return void(f.cancelled=!0)}run(i=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const o=this._currentlyRunning=this._queue;this._queue=[];for(const c of o)if(!c.cancelled&&(c.callback(i),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const sc={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"},rc={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,fadeDuration:300,crossSourceCollisions:!0},Dc={showCompass:!0,showZoom:!0,visualizePitch:!1};class Ms{constructor(i,o,c=!1){this._clickTolerance=10,this.element=o,this.mouseRotate=new Ei({clickTolerance:i.dragRotate._mouseRotate._clickTolerance}),this.map=i,c&&(this.mousePitch=new xe({clickTolerance:i.dragRotate._mousePitch._clickTolerance})),h.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),lt.addEventListener(o,"mousedown",this.mousedown),lt.addEventListener(o,"touchstart",this.touchstart,{passive:!1}),lt.addEventListener(o,"touchmove",this.touchmove),lt.addEventListener(o,"touchend",this.touchend),lt.addEventListener(o,"touchcancel",this.reset)}down(i,o){this.mouseRotate.mousedown(i,o),this.mousePitch&&this.mousePitch.mousedown(i,o),lt.disableDrag()}move(i,o){const c=this.map,f=this.mouseRotate.mousemoveWindow(i,o);if(f&&f.bearingDelta&&c.setBearing(c.getBearing()+f.bearingDelta),this.mousePitch){const _=this.mousePitch.mousemoveWindow(i,o);_&&_.pitchDelta&&c.setPitch(c.getPitch()+_.pitchDelta)}}off(){const i=this.element;lt.removeEventListener(i,"mousedown",this.mousedown),lt.removeEventListener(i,"touchstart",this.touchstart,{passive:!1}),lt.removeEventListener(i,"touchmove",this.touchmove),lt.removeEventListener(i,"touchend",this.touchend),lt.removeEventListener(i,"touchcancel",this.reset),this.offTemp()}offTemp(){lt.enableDrag(),lt.removeEventListener(window,"mousemove",this.mousemove),lt.removeEventListener(window,"mouseup",this.mouseup)}mousedown(i){this.down(h.extend({},i,{ctrlKey:!0,preventDefault:()=>i.preventDefault()}),lt.mousePos(this.element,i)),lt.addEventListener(window,"mousemove",this.mousemove),lt.addEventListener(window,"mouseup",this.mouseup)}mousemove(i){this.move(i,lt.mousePos(this.element,i))}mouseup(i){this.mouseRotate.mouseupWindow(i),this.mousePitch&&this.mousePitch.mouseupWindow(i),this.offTemp()}touchstart(i){i.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=lt.touchPos(this.element,i.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>i.preventDefault()},this._startPos))}touchmove(i){i.targetTouches.length!==1?this.reset():(this._lastPos=lt.touchPos(this.element,i.targetTouches)[0],this.move({preventDefault:()=>i.preventDefault()},this._lastPos))}touchend(i){i.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}function _r(d,i,o){if(d=new h.LngLat(d.lng,d.lat),i){const c=new h.LngLat(d.lng-360,d.lat),f=new h.LngLat(d.lng+360,d.lat),_=o.locationPoint(d).distSqr(i);o.locationPoint(c).distSqr(i)<_?d=c:o.locationPoint(f).distSqr(i)<_&&(d=f)}for(;Math.abs(d.lng-o.center.lng)>180;){const c=o.locationPoint(d);if(c.x>=0&&c.y>=0&&c.x<=o.width&&c.y<=o.height)break;d.lng>o.center.lng?d.lng-=360:d.lng+=360}return d}const ze={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Ue(d,i,o){const c=d.classList;for(const f in ze)c.remove(`maplibregl-${o}-anchor-${f}`,`mapboxgl-${o}-anchor-${f}`);c.add(`maplibregl-${o}-anchor-${i}`,`mapboxgl-${o}-anchor-${i}`)}class Ps extends h.Evented{constructor(i,o){if(super(),(i instanceof HTMLElement||o)&&(i=h.extend({element:i},o)),h.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=i&&i.anchor||"center",this._color=i&&i.color||"#3FB1CE",this._scale=i&&i.scale||1,this._draggable=i&&i.draggable||!1,this._clickTolerance=i&&i.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=i&&i.rotation||0,this._rotationAlignment=i&&i.rotationAlignment||"auto",this._pitchAlignment=i&&i.pitchAlignment&&i.pitchAlignment!=="auto"?i.pitchAlignment:this._rotationAlignment,i&&i.element)this._element=i.element,this._offset=h.pointGeometry.convert(i&&i.offset||[0,0]);else{this._defaultMarker=!0,this._element=lt.create("div"),this._element.setAttribute("aria-label","Map marker");const c=lt.createNS("http://www.w3.org/2000/svg","svg"),f=41,_=27;c.setAttributeNS(null,"display","block"),c.setAttributeNS(null,"height",`${f}px`),c.setAttributeNS(null,"width",`${_}px`),c.setAttributeNS(null,"viewBox",`0 0 ${_} ${f}`);const w=lt.createNS("http://www.w3.org/2000/svg","g");w.setAttributeNS(null,"stroke","none"),w.setAttributeNS(null,"stroke-width","1"),w.setAttributeNS(null,"fill","none"),w.setAttributeNS(null,"fill-rule","evenodd");const S=lt.createNS("http://www.w3.org/2000/svg","g");S.setAttributeNS(null,"fill-rule","nonzero");const E=lt.createNS("http://www.w3.org/2000/svg","g");E.setAttributeNS(null,"transform","translate(3.0, 29.0)"),E.setAttributeNS(null,"fill","#000000");const P=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const xt of P){const it=lt.createNS("http://www.w3.org/2000/svg","ellipse");it.setAttributeNS(null,"opacity","0.04"),it.setAttributeNS(null,"cx","10.5"),it.setAttributeNS(null,"cy","5.80029008"),it.setAttributeNS(null,"rx",xt.rx),it.setAttributeNS(null,"ry",xt.ry),E.appendChild(it)}const $=lt.createNS("http://www.w3.org/2000/svg","g");$.setAttributeNS(null,"fill",this._color);const O=lt.createNS("http://www.w3.org/2000/svg","path");O.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),$.appendChild(O);const j=lt.createNS("http://www.w3.org/2000/svg","g");j.setAttributeNS(null,"opacity","0.25"),j.setAttributeNS(null,"fill","#000000");const tt=lt.createNS("http://www.w3.org/2000/svg","path");tt.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),j.appendChild(tt);const J=lt.createNS("http://www.w3.org/2000/svg","g");J.setAttributeNS(null,"transform","translate(6.0, 7.0)"),J.setAttributeNS(null,"fill","#FFFFFF");const Q=lt.createNS("http://www.w3.org/2000/svg","g");Q.setAttributeNS(null,"transform","translate(8.0, 8.0)");const ht=lt.createNS("http://www.w3.org/2000/svg","circle");ht.setAttributeNS(null,"fill","#000000"),ht.setAttributeNS(null,"opacity","0.25"),ht.setAttributeNS(null,"cx","5.5"),ht.setAttributeNS(null,"cy","5.5"),ht.setAttributeNS(null,"r","5.4999962");const mt=lt.createNS("http://www.w3.org/2000/svg","circle");mt.setAttributeNS(null,"fill","#FFFFFF"),mt.setAttributeNS(null,"cx","5.5"),mt.setAttributeNS(null,"cy","5.5"),mt.setAttributeNS(null,"r","5.4999962"),Q.appendChild(ht),Q.appendChild(mt),S.appendChild(E),S.appendChild($),S.appendChild(j),S.appendChild(J),S.appendChild(Q),c.appendChild(S),c.setAttributeNS(null,"height",f*this._scale+"px"),c.setAttributeNS(null,"width",_*this._scale+"px"),this._element.appendChild(c),this._offset=h.pointGeometry.convert(i&&i.offset||[0,-14])}this._element.classList.add("maplibregl-marker","mapboxgl-marker"),this._element.addEventListener("dragstart",c=>{c.preventDefault()}),this._element.addEventListener("mousedown",c=>{c.preventDefault()}),Ue(this._element,this._anchor,"marker"),this._popup=null}addTo(i){return this.remove(),this._map=i,i.getCanvasContainer().appendChild(this._element),i.on("move",this._update),i.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),lt.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(i){return this._lngLat=h.LngLat.convert(i),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(i){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),i){if(!("offset"in i.options)){const f=Math.sqrt(Math.pow(13.5,2)/2);i.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[f,-1*(38.1-13.5+f)],"bottom-right":[-f,-1*(38.1-13.5+f)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=i,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}_onKeyPress(i){const o=i.code,c=i.charCode||i.keyCode;o!=="Space"&&o!=="Enter"&&c!==32&&c!==13||this.togglePopup()}_onMapClick(i){const o=i.originalEvent.target,c=this._element;this._popup&&(o===c||c.contains(o))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const i=this._popup;return i?(i.isOpen()?i.remove():i.addTo(this._map),this):this}_update(i){if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=_r(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let o="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?o=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(o=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let c="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?c="rotateX(0deg)":this._pitchAlignment==="map"&&(c=`rotateX(${this._map.getPitch()}deg)`),i&&i.type!=="moveend"||(this._pos=this._pos.round()),lt.setTransform(this._element,`${ze[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${c} ${o}`),this._map.style&&this._map.style.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const f=this._map.unproject(this._pos),_=40075016686e-3*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=f.distanceTo(this._lngLat)>20*_?"0.2":"1.0",this._opacityTimeout=null},100))}getOffset(){return this._offset}setOffset(i){return this._offset=h.pointGeometry.convert(i),this._update(),this}_onMove(i){if(!this._isDragging){const o=this._clickTolerance||this._map._clickTolerance;this._isDragging=i.point.dist(this._pointerdownPos)>=o}this._isDragging&&(this._pos=i.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new h.Event("dragstart"))),this.fire(new h.Event("drag")))}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new h.Event("dragend")),this._state="inactive"}_addDragHandler(i){this._element.contains(i.originalEvent.target)&&(i.preventDefault(),this._positionDelta=i.point.sub(this._pos).add(this._offset),this._pointerdownPos=i.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}setDraggable(i){return this._draggable=!!i,this._map&&(i?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(i){return this._rotation=i||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(i){return this._rotationAlignment=i||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(i){return this._pitchAlignment=i&&i!=="auto"?i:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const xr={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let us,an=0,sr=!1;const zs={maxWidth:100,unit:"metric"};function oc(d,i,o){const c=o&&o.maxWidth||100,f=d._container.clientHeight/2,_=d.unproject([0,f]),w=d.unproject([c,f]),S=_.distanceTo(w);if(o&&o.unit==="imperial"){const E=3.2808*S;E>5280?rr(i,c,E/5280,d._getUIString("ScaleControl.Miles")):rr(i,c,E,d._getUIString("ScaleControl.Feet"))}else o&&o.unit==="nautical"?rr(i,c,S/1852,d._getUIString("ScaleControl.NauticalMiles")):S>=1e3?rr(i,c,S/1e3,d._getUIString("ScaleControl.Kilometers")):rr(i,c,S,d._getUIString("ScaleControl.Meters"))}function rr(d,i,o,c){const f=function(_){const w=Math.pow(10,`${Math.floor(_)}`.length-1);let S=_/w;return S=S>=10?10:S>=5?5:S>=3?3:S>=2?2:S>=1?1:function(E){const P=Math.pow(10,Math.ceil(-Math.log(E)/Math.LN10));return Math.round(E*P)/P}(S),w*S}(o);d.style.width=i*(f/o)+"px",d.innerHTML=`${f}&nbsp;${c}`}const xn={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Sn=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function yl(d){if(d){if(typeof d=="number"){const i=Math.round(Math.sqrt(.5*Math.pow(d,2)));return{center:new h.pointGeometry(0,0),top:new h.pointGeometry(0,d),"top-left":new h.pointGeometry(i,i),"top-right":new h.pointGeometry(-i,i),bottom:new h.pointGeometry(0,-d),"bottom-left":new h.pointGeometry(i,-i),"bottom-right":new h.pointGeometry(-i,-i),left:new h.pointGeometry(d,0),right:new h.pointGeometry(-d,0)}}if(d instanceof h.pointGeometry||Array.isArray(d)){const i=h.pointGeometry.convert(d);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:h.pointGeometry.convert(d.center||[0,0]),top:h.pointGeometry.convert(d.top||[0,0]),"top-left":h.pointGeometry.convert(d["top-left"]||[0,0]),"top-right":h.pointGeometry.convert(d["top-right"]||[0,0]),bottom:h.pointGeometry.convert(d.bottom||[0,0]),"bottom-left":h.pointGeometry.convert(d["bottom-left"]||[0,0]),"bottom-right":h.pointGeometry.convert(d["bottom-right"]||[0,0]),left:h.pointGeometry.convert(d.left||[0,0]),right:h.pointGeometry.convert(d.right||[0,0])}}return yl(new h.pointGeometry(0,0))}const uo={supported:ut,setRTLTextPlugin:h.setRTLTextPlugin,getRTLTextPluginStatus:h.getRTLTextPluginStatus,Map:class extends on{constructor(d){var i;if(h.PerformanceUtils.mark(h.PerformanceMarkers.create),(d=h.extend({},rc,d)).minZoom!=null&&d.maxZoom!=null&&d.minZoom>d.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(d.minPitch!=null&&d.maxPitch!=null&&d.minPitch>d.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(d.minPitch!=null&&d.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(d.maxPitch!=null&&d.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new Gs(d.minZoom,d.maxZoom,d.minPitch,d.maxPitch,d.renderWorldCopies),{bearingSnap:d.bearingSnap}),this._interactive=d.interactive,this._cooperativeGestures=d.cooperativeGestures,this._maxTileCacheSize=d.maxTileCacheSize,this._failIfMajorPerformanceCaveat=d.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=d.preserveDrawingBuffer,this._antialias=d.antialias,this._trackResize=d.trackResize,this._bearingSnap=d.bearingSnap,this._refreshExpiredTiles=d.refreshExpiredTiles,this._fadeDuration=d.fadeDuration,this._crossSourceCollisions=d.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=d.collectResourceTiming,this._renderTaskQueue=new Na,this._controls=[],this._mapId=h.uniqueId(),this._locale=h.extend({},sc,d.locale),this._clickTolerance=d.clickTolerance,this._pixelRatio=(i=d.pixelRatio)!==null&&i!==void 0?i:devicePixelRatio,this._requestManager=new kt(d.transformRequest),typeof d.container=="string"){if(this._container=document.getElementById(d.container),!this._container)throw new Error(`Container '${d.container}' not found.`)}else{if(!(d.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=d.container}if(d.maxBounds&&this.setMaxBounds(d.maxBounds),h.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),typeof window<"u"&&(addEventListener("online",this._onWindowOnline,!1),addEventListener("resize",this._onWindowResize,!1),addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Fo(this,d),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=d.hash&&new Jl(typeof d.hash=="string"&&d.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:d.center,zoom:d.zoom,bearing:d.bearing,pitch:d.pitch}),d.bounds&&(this.resize(),this.fitBounds(d.bounds,h.extend({},d.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=d.localIdeographFontFamily,d.style&&this.setStyle(d.style,{localIdeographFontFamily:d.localIdeographFontFamily}),d.attributionControl&&this.addControl(new yr({customAttribution:d.customAttribution})),d.maplibreLogo&&this.addControl(new vi,d.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",o=>{this._update(o.dataType==="style"),this.fire(new h.Event(`${o.dataType}data`,o))}),this.on("dataloading",o=>{this.fire(new h.Event(`${o.dataType}dataloading`,o))}),this.on("dataabort",o=>{this.fire(new h.Event("sourcedataabort",o))})}_getMapId(){return this._mapId}addControl(d,i){if(i===void 0&&(i=d.getDefaultPosition?d.getDefaultPosition():"top-right"),!d||!d.onAdd)return this.fire(new h.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const o=d.onAdd(this);this._controls.push(d);const c=this._controlPositions[i];return i.indexOf("bottom")!==-1?c.insertBefore(o,c.firstChild):c.appendChild(o),this}removeControl(d){if(!d||!d.onRemove)return this.fire(new h.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const i=this._controls.indexOf(d);return i>-1&&this._controls.splice(i,1),d.onRemove(this),this}hasControl(d){return this._controls.indexOf(d)>-1}calculateCameraOptionsFromTo(d,i,o,c){return c==null&&this.style.terrain&&(c=this.transform.getElevation(o,this.style.terrain)),super.calculateCameraOptionsFromTo(d,i,o,c)}resize(d){const i=this._containerDimensions(),o=i[0],c=i[1];this._resizeCanvas(o,c,this.getPixelRatio()),this.transform.resize(o,c),this.painter.resize(o,c,this.getPixelRatio());const f=!this._moving;return f&&(this.stop(),this.fire(new h.Event("movestart",d)).fire(new h.Event("move",d))),this.fire(new h.Event("resize",d)),f&&this.fire(new h.Event("moveend",d)),this}getPixelRatio(){return this._pixelRatio}setPixelRatio(d){const[i,o]=this._containerDimensions();this._pixelRatio=d,this._resizeCanvas(i,o,d),this.painter.resize(i,o,d)}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(d){return this.transform.setMaxBounds(h.LngLatBounds.convert(d)),this._update()}setMinZoom(d){if((d=d??-2)>=-2&&d<=this.transform.maxZoom)return this.transform.minZoom=d,this._update(),this.getZoom()<d&&this.setZoom(d),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(d){if((d=d??22)>=this.transform.minZoom)return this.transform.maxZoom=d,this._update(),this.getZoom()>d&&this.setZoom(d),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(d){if((d=d??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(d>=0&&d<=this.transform.maxPitch)return this.transform.minPitch=d,this._update(),this.getPitch()<d&&this.setPitch(d),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(d){if((d=d??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(d>=this.transform.minPitch)return this.transform.maxPitch=d,this._update(),this.getPitch()>d&&this.setPitch(d),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(d){return this.transform.renderWorldCopies=d,this._update()}project(d){return this.transform.locationPoint(h.LngLat.convert(d),this.style&&this.style.terrain)}unproject(d){return this.transform.pointLocation(h.pointGeometry.convert(d),this.style&&this.style.terrain)}isMoving(){return this._moving||this.handlers.isMoving()}isZooming(){return this._zooming||this.handlers.isZooming()}isRotating(){return this._rotating||this.handlers.isRotating()}_createDelegatedListener(d,i,o){if(d==="mouseenter"||d==="mouseover"){let c=!1;return{layer:i,listener:o,delegates:{mousemove:_=>{const w=this.getLayer(i)?this.queryRenderedFeatures(_.point,{layers:[i]}):[];w.length?c||(c=!0,o.call(this,new ns(d,this,_.originalEvent,{features:w}))):c=!1},mouseout:()=>{c=!1}}}}if(d==="mouseleave"||d==="mouseout"){let c=!1;return{layer:i,listener:o,delegates:{mousemove:w=>{(this.getLayer(i)?this.queryRenderedFeatures(w.point,{layers:[i]}):[]).length?c=!0:c&&(c=!1,o.call(this,new ns(d,this,w.originalEvent)))},mouseout:w=>{c&&(c=!1,o.call(this,new ns(d,this,w.originalEvent)))}}}}{const c=f=>{const _=this.getLayer(i)?this.queryRenderedFeatures(f.point,{layers:[i]}):[];_.length&&(f.features=_,o.call(this,f),delete f.features)};return{layer:i,listener:o,delegates:{[d]:c}}}}on(d,i,o){if(o===void 0)return super.on(d,i);const c=this._createDelegatedListener(d,i,o);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[d]=this._delegatedListeners[d]||[],this._delegatedListeners[d].push(c);for(const f in c.delegates)this.on(f,c.delegates[f]);return this}once(d,i,o){if(o===void 0)return super.once(d,i);const c=this._createDelegatedListener(d,i,o);for(const f in c.delegates)this.once(f,c.delegates[f]);return this}off(d,i,o){return o===void 0?super.off(d,i):(this._delegatedListeners&&this._delegatedListeners[d]&&(c=>{const f=this._delegatedListeners[d];for(let _=0;_<f.length;_++){const w=f[_];if(w.layer===i&&w.listener===o){for(const S in w.delegates)this.off(S,w.delegates[S]);return f.splice(_,1),this}}})(),this)}queryRenderedFeatures(d,i){if(!this.style)return[];let o;if(i!==void 0||d===void 0||d instanceof h.pointGeometry||Array.isArray(d)||(i=d,d=void 0),i=i||{},(d=d||[[0,0],[this.transform.width,this.transform.height]])instanceof h.pointGeometry||typeof d[0]=="number")o=[h.pointGeometry.convert(d)];else{const c=h.pointGeometry.convert(d[0]),f=h.pointGeometry.convert(d[1]);o=[c,new h.pointGeometry(f.x,c.y),f,new h.pointGeometry(c.x,f.y),c]}return this.style.queryRenderedFeatures(o,i,this.transform)}querySourceFeatures(d,i){return this.style.querySourceFeatures(d,i)}setStyle(d,i){return(i=h.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},i)).diff!==!1&&i.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&d?(this._diffStyle(d,i),this):(this._localIdeographFontFamily=i.localIdeographFontFamily,this._updateStyle(d,i))}setTransformRequest(d){return this._requestManager.setTransformRequest(d),this}_getUIString(d){const i=this._locale[d];if(i==null)throw new Error(`Missing UI string '${d}'`);return i}_updateStyle(d,i){return this.style&&(this.style.setEventedParent(null),this.style._remove()),d?(this.style=new Ln(this,i||{}),this.style.setEventedParent(this,{style:this.style}),typeof d=="string"?this.style.loadURL(d):this.style.loadJSON(d),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Ln(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(d,i){if(typeof d=="string"){const o=this._requestManager.transformRequest(d,h.ResourceType.Style);h.getJSON(o,(c,f)=>{c?this.fire(new h.ErrorEvent(c)):f&&this._updateDiff(f,i)})}else typeof d=="object"&&this._updateDiff(d,i)}_updateDiff(d,i){try{this.style.setState(d)&&this._update(!0)}catch(o){h.warnOnce(`Unable to perform style diff: ${o.message||o.error||o}.  Rebuilding the style from scratch.`),this._updateStyle(d,i)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():h.warnOnce("There is no style added to the map.")}addSource(d,i){return this._lazyInitEmptyStyle(),this.style.addSource(d,i),this._update(!0)}isSourceLoaded(d){const i=this.style&&this.style.sourceCaches[d];if(i!==void 0)return i.loaded();this.fire(new h.ErrorEvent(new Error(`There is no source with ID '${d}'`)))}setTerrain(d){return this.style.setTerrain(d),this}getTerrain(){return this.style.terrain&&this.style.terrain.options}areTilesLoaded(){const d=this.style&&this.style.sourceCaches;for(const i in d){const o=d[i]._tiles;for(const c in o){const f=o[c];if(f.state!=="loaded"&&f.state!=="errored")return!1}}return!0}addSourceType(d,i,o){return this._lazyInitEmptyStyle(),this.style.addSourceType(d,i,o)}removeSource(d){return this.style.removeSource(d),this._update(!0)}getSource(d){return this.style.getSource(d)}addImage(d,i,{pixelRatio:o=1,sdf:c=!1,stretchX:f,stretchY:_,content:w}={}){if(this._lazyInitEmptyStyle(),i instanceof HTMLImageElement||h.isImageBitmap(i)){const{width:S,height:E,data:P}=h.exported.getImageData(i);this.style.addImage(d,{data:new h.RGBAImage({width:S,height:E},P),pixelRatio:o,stretchX:f,stretchY:_,content:w,sdf:c,version:0})}else{if(i.width===void 0||i.height===void 0)return this.fire(new h.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:S,height:E,data:P}=i,$=i;this.style.addImage(d,{data:new h.RGBAImage({width:S,height:E},new Uint8Array(P)),pixelRatio:o,stretchX:f,stretchY:_,content:w,sdf:c,version:0,userImage:$}),$.onAdd&&$.onAdd(this,d)}}}updateImage(d,i){const o=this.style.getImage(d);if(!o)return this.fire(new h.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const c=i instanceof HTMLImageElement||h.isImageBitmap(i)?h.exported.getImageData(i):i,{width:f,height:_,data:w}=c;if(f===void 0||_===void 0)return this.fire(new h.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(f!==o.data.width||_!==o.data.height)return this.fire(new h.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));const S=!(i instanceof HTMLImageElement||h.isImageBitmap(i));o.data.replace(w,S),this.style.updateImage(d,o)}hasImage(d){return d?!!this.style.getImage(d):(this.fire(new h.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(d){this.style.removeImage(d)}loadImage(d,i){h.getImage(this._requestManager.transformRequest(d,h.ResourceType.Image),i)}listImages(){return this.style.listImages()}addLayer(d,i){return this._lazyInitEmptyStyle(),this.style.addLayer(d,i),this._update(!0)}moveLayer(d,i){return this.style.moveLayer(d,i),this._update(!0)}removeLayer(d){return this.style.removeLayer(d),this._update(!0)}getLayer(d){return this.style.getLayer(d)}setLayerZoomRange(d,i,o){return this.style.setLayerZoomRange(d,i,o),this._update(!0)}setFilter(d,i,o={}){return this.style.setFilter(d,i,o),this._update(!0)}getFilter(d){return this.style.getFilter(d)}setPaintProperty(d,i,o,c={}){return this.style.setPaintProperty(d,i,o,c),this._update(!0)}getPaintProperty(d,i){return this.style.getPaintProperty(d,i)}setLayoutProperty(d,i,o,c={}){return this.style.setLayoutProperty(d,i,o,c),this._update(!0)}getLayoutProperty(d,i){return this.style.getLayoutProperty(d,i)}setLight(d,i={}){return this._lazyInitEmptyStyle(),this.style.setLight(d,i),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(d,i){return this.style.setFeatureState(d,i),this._update()}removeFeatureState(d,i){return this.style.removeFeatureState(d,i),this._update()}getFeatureState(d){return this.style.getFeatureState(d)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let d=0,i=0;return this._container&&(d=this._container.clientWidth||400,i=this._container.clientHeight||300),[d,i]}_setupContainer(){const d=this._container;d.classList.add("maplibregl-map","mapboxgl-map");const i=this._canvasContainer=lt.create("div","maplibregl-canvas-container mapboxgl-canvas-container",d);this._interactive&&i.classList.add("maplibregl-interactive","mapboxgl-interactive"),this._canvas=lt.create("canvas","maplibregl-canvas mapboxgl-canvas",i),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const o=this._containerDimensions();this._resizeCanvas(o[0],o[1],this.getPixelRatio());const c=this._controlContainer=lt.create("div","maplibregl-control-container mapboxgl-control-container",d),f=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(_=>{f[_]=lt.create("div",`maplibregl-ctrl-${_} mapboxgl-ctrl-${_}`,c)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){const d=this._container;this._metaPress=!1,this._cooperativeGesturesScreen=lt.create("div","maplibregl-cooperative-gesture-screen",d);let i="Control",o=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";navigator.platform.indexOf("Mac")===0&&(o=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use  + scroll to zoom the map",i="Meta"),this._cooperativeGesturesScreen.innerHTML=`
            <div class="maplibregl-desktop-message">${o}</div>
            <div class="maplibregl-mobile-message">${typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>
        `,document.addEventListener("keydown",c=>{c.key===i&&(this._metaPress=!0)}),document.addEventListener("keyup",c=>{c.key===i&&(this._metaPress=!1)}),this._canvasContainer.addEventListener("wheel",c=>{this._onCooperativeGesture(c,this._metaPress,1)},!1),this._canvasContainer.classList.remove("mapboxgl-touch-drag-pan","maplibregl-touch-drag-pan")}_resizeCanvas(d,i,o){this._canvas.width=o*d,this._canvas.height=o*i,this._canvas.style.width=`${d}px`,this._canvas.style.height=`${i}px`}_setupPainter(){const d=h.extend({},ut.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),i=this._canvas.getContext("webgl",d)||this._canvas.getContext("experimental-webgl",d);i?(this.painter=new hl(i,this.transform),h.exported$1.testSupport(i)):this.fire(new h.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(d){d.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new h.Event("webglcontextlost",{originalEvent:d}))}_contextRestored(d){this._setupPainter(),this.resize(),this._update(),this.fire(new h.Event("webglcontextrestored",{originalEvent:d}))}_onMapScroll(d){if(d.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}_onCooperativeGesture(d,i,o){return!i&&o<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(d){return this.style?(this._styleDirty=this._styleDirty||d,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(d){return this._update(),this._renderTaskQueue.add(d)}_cancelRenderFrame(d){this._renderTaskQueue.remove(d)}_render(d){let i,o=0;const c=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(i=c.createQueryEXT(),c.beginQueryEXT(c.TIME_ELAPSED_EXT,i),o=h.exported.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(d),this._removed)return;let f=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const w=this.transform.zoom,S=h.exported.now();this.style.zoomHistory.update(w,S);const E=new h.EvaluationParameters(w,{now:S,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),P=E.crossFadingFactor();P===1&&P===this._crossFadingFactor||(f=!0,this._crossFadingFactor=P),this.style.update(E)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.style.terrain&&this.style.terrain.sourceCache.update(this.transform,this.style.terrain),this.transform.updateElevation(this.style.terrain),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new h.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,h.PerformanceUtils.mark(h.PerformanceMarkers.load),this.fire(new h.Event("load"))),this.style&&(this.style.hasTransitions()||f)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){const w=h.exported.now()-o;c.endQueryEXT(c.TIME_ELAPSED_EXT,i),setTimeout(()=>{const S=c.getQueryObjectEXT(i,c.QUERY_RESULT_EXT)/1e6;c.deleteQueryEXT(i),this.fire(new h.Event("gpu-timing-frame",{cpuTime:w,gpuTime:S}))},50)}if(this.listens("gpu-timing-layer")){const w=this.painter.collectGpuTimers();setTimeout(()=>{const S=this.painter.queryGpuTimers(w);this.fire(new h.Event("gpu-timing-layer",{layerTimes:S}))},50)}const _=this._sourcesDirty||this._styleDirty||this._placementDirty;return _||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new h.Event("idle")),!this._loaded||this._fullyLoaded||_||(this._fullyLoaded=!0,h.PerformanceUtils.mark(h.PerformanceMarkers.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){this._hash&&this._hash.remove();for(const i of this._controls)i.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&(removeEventListener("resize",this._onWindowResize,!1),removeEventListener("orientationchange",this._onWindowResize,!1),removeEventListener("online",this._onWindowOnline,!1));const d=this.painter.context.gl.getExtension("WEBGL_lose_context");d&&d.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),lt.remove(this._canvasContainer),lt.remove(this._controlContainer),this._cooperativeGestures&&lt.remove(this._cooperativeGesturesScreen),this._container.classList.remove("maplibregl-map","mapboxgl-map"),h.PerformanceUtils.clearMetrics(),this._removed=!0,this.fire(new h.Event("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=h.exported.frame(d=>{h.PerformanceUtils.frame(d),this._frame=null,this._render(d)}))}_onWindowOnline(){this._update()}_onWindowResize(d){this._trackResize&&this.resize({originalEvent:d})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(d){this._showTileBoundaries!==d&&(this._showTileBoundaries=d,this._update())}get showPadding(){return!!this._showPadding}set showPadding(d){this._showPadding!==d&&(this._showPadding=d,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(d){this._showCollisionBoxes!==d&&(this._showCollisionBoxes=d,d?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(d){this._showOverdrawInspector!==d&&(this._showOverdrawInspector=d,this._update())}get repaint(){return!!this._repaint}set repaint(d){this._repaint!==d&&(this._repaint=d,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(d){this._vertices=d,this._update()}_setCacheLimits(d,i){h.setCacheLimits(d,i)}get version(){return"2.4.0"}},NavigationControl:class{constructor(d){this.options=h.extend({},Dc,d),this._container=lt.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",i=>i.preventDefault()),this.options.showZoom&&(h.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in mapboxgl-ctrl-zoom-in",i=>this._map.zoomIn({},{originalEvent:i})),lt.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out mapboxgl-ctrl-zoom-out",i=>this._map.zoomOut({},{originalEvent:i})),lt.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(h.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("maplibregl-ctrl-compass mapboxgl-ctrl-compass",i=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:i}):this._map.resetNorth({},{originalEvent:i})}),this._compassIcon=lt.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const d=this._map.getZoom(),i=d===this._map.getMaxZoom(),o=d===this._map.getMinZoom();this._zoomInButton.disabled=i,this._zoomOutButton.disabled=o,this._zoomInButton.setAttribute("aria-disabled",i.toString()),this._zoomOutButton.setAttribute("aria-disabled",o.toString())}_rotateCompassArrow(){const d=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=d}onAdd(d){return this._map=d,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Ms(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){lt.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(d,i){const o=lt.create("button",d,this._container);return o.type="button",o.addEventListener("click",i),o}_setButtonTitle(d,i){const o=this._map._getUIString(`NavigationControl.${i}`);d.title=o,d.setAttribute("aria-label",o)}},GeolocateControl:class extends h.Evented{constructor(d){super(),this.options=h.extend({},xr,d),h.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}onAdd(d){var i;return this._map=d,this._container=lt.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),i=this._setupUI,us!==void 0?i(us):window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(o=>{us=o.state!=="denied",i(us)}):(us=!!window.navigator.geolocation,i(us)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),lt.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,an=0,sr=!1}_isOutOfMapMaxBounds(d){const i=this._map.getMaxBounds(),o=d.coords;return i&&(o.longitude<i.getWest()||o.longitude>i.getEast()||o.latitude<i.getSouth()||o.latitude>i.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_onSuccess(d){if(this._map){if(this._isOutOfMapMaxBounds(d))return this._setErrorState(),this.fire(new h.Event("outofmaxbounds",d)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=d,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(d),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(d),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new h.Event("geolocate",d)),this._finish()}}_updateCamera(d){const i=new h.LngLat(d.coords.longitude,d.coords.latitude),o=d.coords.accuracy,c=this._map.getBearing(),f=h.extend({bearing:c},this.options.fitBoundsOptions);this._map.fitBounds(i.toBounds(o),f,{geolocateSource:!0})}_updateMarker(d){if(d){const i=new h.LngLat(d.coords.longitude,d.coords.latitude);this._accuracyCircleMarker.setLngLat(i).addTo(this._map),this._userLocationDotMarker.setLngLat(i).addTo(this._map),this._accuracy=d.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const d=this._map._container.clientHeight/2,i=this._map.unproject([0,d]),o=this._map.unproject([1,d]),c=i.distanceTo(o),f=Math.ceil(2*this._accuracy/c);this._circleElement.style.width=`${f}px`,this._circleElement.style.height=`${f}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_onError(d){if(this._map){if(this.options.trackUserLocation)if(d.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const i=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(d.code===3&&sr)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new h.Event("error",d)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(d){if(this._container.addEventListener("contextmenu",i=>i.preventDefault()),this._geolocateButton=lt.create("button","maplibregl-ctrl-geolocate mapboxgl-ctrl-geolocate",this._container),lt.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",d===!1){h.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const i=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i)}else{const i=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=lt.create("div","maplibregl-user-location-dot mapboxgl-user-location-dot"),this._userLocationDotMarker=new Ps(this._dotElement),this._circleElement=lt.create("div","maplibregl-user-location-accuracy-circle mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Ps({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",i=>{i.geolocateSource||this._watchState!=="ACTIVE_LOCK"||i.originalEvent&&i.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this.fire(new h.Event("trackuserlocationend")))})}trigger(){if(!this._setup)return h.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new h.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":an--,sr=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this.fire(new h.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new h.Event("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let d;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),an++,an>1?(d={maximumAge:6e5,timeout:0},sr=!0):(d=this.options.positionOptions,sr=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,d)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:yr,LogoControl:vi,ScaleControl:class{constructor(d){this.options=h.extend({},zs,d),h.bindAll(["_onMove","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_onMove(){oc(this._map,this._container,this.options)}onAdd(d){return this._map=d,this._container=lt.create("div","maplibregl-ctrl maplibregl-ctrl-scale mapboxgl-ctrl mapboxgl-ctrl-scale",d.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){lt.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}setUnit(d){this.options.unit=d,oc(this._map,this._container,this.options)}},FullscreenControl:class{constructor(d){this._fullscreen=!1,d&&d.container&&(d.container instanceof HTMLElement?this._container=d.container:h.warnOnce("Full screen control 'container' must be a DOM element.")),h.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(d){return this._map=d,this._container||(this._container=this._map.getContainer()),this._controlContainer=lt.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",h.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){lt.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!!(document.fullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled)}_setupUI(){const d=this._fullscreenButton=lt.create("button","maplibregl-ctrl-fullscreen mapboxgl-ctrl-fullscreen",this._controlContainer);lt.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",d).setAttribute("aria-hidden","true"),d.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const d=this._getTitle();this._fullscreenButton.setAttribute("aria-label",d),this._fullscreenButton.title=d}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen&&window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},TerrainControl:class{constructor(d){this.options=d,h.bindAll(["_toggleTerrain","_updateTerrainIcon"],this)}onAdd(d){return this._map=d,this._container=lt.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._terrainButton=lt.create("button","maplibregl-ctrl-terrain mapboxgl-ctrl-terrain",this._container),lt.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){lt.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}_toggleTerrain(){this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()}_updateTerrainIcon(){this._terrainButton.classList.remove("maplibregl-ctrl-terrain","mapboxgl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled","mapboxgl-ctrl-terrain-enabled"),this._map.style.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled","mapboxgl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain","mapboxgl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))}},Popup:class extends h.Evented{constructor(d){super(),this.options=h.extend(Object.create(xn),d),h.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}addTo(d){return this._map&&this.remove(),this._map=d,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new h.Event("open")),this}isOpen(){return!!this._map}remove(){return this._content&&lt.remove(this._content),this._container&&(lt.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new h.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(d){return this._lngLat=h.LngLat.convert(d),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer","mapboxgl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")),this}getElement(){return this._container}setText(d){return this.setDOMContent(document.createTextNode(d))}setHTML(d){const i=document.createDocumentFragment(),o=document.createElement("body");let c;for(o.innerHTML=d;c=o.firstChild,c;)i.appendChild(c);return this.setDOMContent(i)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(d){return this.options.maxWidth=d,this._update(),this}setDOMContent(d){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=lt.create("div","maplibregl-popup-content mapboxgl-popup-content",this._container);return this._content.appendChild(d),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(d){this._container&&this._container.classList.add(d)}removeClassName(d){this._container&&this._container.classList.remove(d)}setOffset(d){return this.options.offset=d,this._update(),this}toggleClassName(d){if(this._container)return this._container.classList.toggle(d)}_createCloseButton(){this.options.closeButton&&(this._closeButton=lt.create("button","maplibregl-popup-close-button mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_onMouseUp(d){this._update(d.point)}_onMouseMove(d){this._update(d.point)}_onDrag(d){this._update(d.point)}_update(d){if(!this._map||!this._lngLat&&!this._trackPointer||!this._content||(this._container||(this._container=lt.create("div","maplibregl-popup mapboxgl-popup",this._map.getContainer()),this._tip=lt.create("div","maplibregl-popup-tip mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(_=>this._container.classList.add(_)),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=_r(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!d))return;const i=this._pos=this._trackPointer&&d?d:this._map.project(this._lngLat);let o=this.options.anchor;const c=yl(this.options.offset);if(!o){const _=this._container.offsetWidth,w=this._container.offsetHeight;let S;S=i.y+c.bottom.y<w?["top"]:i.y>this._map.transform.height-w?["bottom"]:[],i.x<_/2?S.push("left"):i.x>this._map.transform.width-_/2&&S.push("right"),o=S.length===0?"bottom":S.join("-")}const f=i.add(c[o]).round();lt.setTransform(this._container,`${ze[o]} translate(${f.x}px,${f.y}px)`),Ue(this._container,o,"popup")}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const d=this._container.querySelector(Sn);d&&d.focus()}_onClose(){this.remove()}},Marker:Ps,Style:Ln,LngLat:h.LngLat,LngLatBounds:h.LngLatBounds,Point:h.pointGeometry,MercatorCoordinate:h.MercatorCoordinate,Evented:h.Evented,AJAXError:h.AJAXError,config:h.config,CanvasSource:Ji,GeoJSONSource:ri,ImageSource:je,RasterDEMTileSource:ve,RasterTileSource:gn,VectorTileSource:Hi,VideoSource:ne,prewarm:function(){qt().acquire(at)},clearPrewarmedResources:function(){const d=Gt;d&&(d.isPreloaded()&&d.numActive()===1?(d.release(at),Gt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get version(){return"2.4.0"},get workerCount(){return ft.workerCount},set workerCount(d){ft.workerCount=d},get maxParallelImageRequests(){return h.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(d){h.config.MAX_PARALLEL_IMAGE_REQUESTS=d},clearStorage(d){h.clearTileCache(d)},workerUrl:"",addProtocol(d,i){h.config.REGISTERED_PROTOCOLS[d]=i},removeProtocol(d){delete h.config.REGISTERED_PROTOCOLS[d]}};return hs.extend(uo,{isSafari:h.isSafari,getPerformanceMetrics:h.PerformanceUtils.getPerformanceMetrics}),uo});var et=N;return et})})(Q1);const Of=rp,ty={class:"map",id:"main-map"},ey=Cm({__name:"MapLibre",props:{trackData:null},setup(g){const k=g;let M;kp(async()=>{M=new Of.Map({container:"main-map",style:"https://tile.openstreetmap.jp/styles/maptiler-basic-ja/style.json",center:[140,36],zoom:8,trackResize:!0});const h=document.getElementById("main-map"),ut=new ResizeObserver(St=>{for(const Bt of St)Bt.target===h&&h.clientHeight>0&&(M.resize(),ut.unobserve(h))});ut.observe(h)}),ed(k,h=>{N()});const D=[];function N(){if(k.trackData==null)return;if(D.length>0){for(const Bt of D)M.removeLayer(Bt),M.removeSource(Bt);D.splice(0)}const h=new Of.LngLatBounds,St=k.trackData.segments.reduce((Bt,Lt)=>Bt<Lt.maximumSpeed?Lt.maximumSpeed:Bt,0);for(const Bt of k.trackData.segments){const Lt=Bt.getName();M.addSource(Lt,{type:"geojson",data:{type:"FeatureCollection",features:Bt.lines.map(lt=>({type:"Feature",properties:{color:et(lt.speed,St)},geometry:{type:"LineString",coordinates:[[lt.point1.longitude,lt.point1.latitude],[lt.point2.longitude,lt.point2.latitude]]}}))}}),M.addLayer({id:Lt,type:"line",source:Lt,layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":["get","color"],"line-width":8}});for(const lt of Bt.points)h.extend([lt.longitude,lt.latitude]);D.push(Lt)}M.fitBounds(h,{padding:20})}function G(h){const ut=Math.floor(h[0]*255),St=Math.floor(h[1]*255),Bt=Math.floor(h[2]*255);return`rgb(${ut}, ${St}, ${Bt})`}function et(h,ut){const St=[[0,0,1],[0,1,1],[0,1,0],[1,1,0],[1,0,0]],Bt=St.length-1,Lt=h,lt=ut,kt=Lt*Bt/lt,Te=Math.floor(kt);if(Te>=Bt)return G(St[Bt]);if(Te<0)return G(St[0]);const Xt=kt-Te,Pi=[St[Te][0]*(1-Xt)+St[Te+1][0]*Xt,St[Te][1]*(1-Xt)+St[Te+1][1]*Xt,St[Te][2]*(1-Xt)+St[Te+1][2]*Xt];return G(Pi)}return(h,ut)=>(Rm(),Fm("div",ty))}});function iy(g,k,M){const D=g.getElementsByTagName(k);return D.length===0||D[0].textContent==null?M:D[0].textContent}class ny{constructor(k){Ul(this,"creator");Ul(this,"segments");const D=new DOMParser().parseFromString(k,"application/xml");if(D.documentElement.nodeName==="parsererror")throw new Error("Failed to parse XML");this.creator="",this.segments=[];const N=D.getElementsByTagName("trk");for(const G of N){const et=iy(G,"name","Track");let h=1;const ut=G.getElementsByTagName("trkseg");for(const St of ut){const Bt=[],Lt=St.getElementsByTagName("trkpt");for(const lt of Lt){const kt=lt.getAttribute("lat"),Te=lt.getAttribute("lon");if(kt==null||Te==null)continue;const Xt=parseFloat(kt),Pi=parseFloat(Te),Ye=lt.getElementsByTagName("time");if(Ye.length===0||Ye[0].textContent==null)continue;const li=new Date(Ye[0].textContent),Ce={latitude:Xt,longitude:Pi,timestamp:li},ti=lt.getElementsByTagName("ele");ti.length>0&&ti[0].textContent!=null&&(Ce.elevation=parseFloat(ti[0].textContent)),Bt.push(Ce)}this.segments.push({name:ut.length>1?`${et}-${h}`:et,points:Bt}),h++}}}}function sy(g,k){try{return new ny(g)}catch(M){console.error(M)}}var Wr=63710088e-1,ry={centimeters:Wr*100,centimetres:Wr*100,degrees:Wr/111325,feet:Wr*3.28084,inches:Wr*39.37,kilometers:Wr/1e3,kilometres:Wr/1e3,meters:Wr,metres:Wr,miles:Wr/1609.344,millimeters:Wr*1e3,millimetres:Wr*1e3,nauticalmiles:Wr/1852,radians:1,yards:Wr*1.0936};function oy(g,k){k===void 0&&(k="kilometers");var M=ry[k];if(!M)throw new Error(k+" units is invalid");return g*M}function Ju(g){var k=g%360;return k*Math.PI/180}function Nf(g){if(!g)throw new Error("coord is required");if(!Array.isArray(g)){if(g.type==="Feature"&&g.geometry!==null&&g.geometry.type==="Point")return g.geometry.coordinates;if(g.type==="Point")return g.coordinates}if(Array.isArray(g)&&g.length>=2&&!Array.isArray(g[0])&&!Array.isArray(g[1]))return g;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function ay(g,k,M){M===void 0&&(M={});var D=Nf(g),N=Nf(k),G=Ju(N[1]-D[1]),et=Ju(N[0]-D[0]),h=Ju(D[1]),ut=Ju(N[1]),St=Math.pow(Math.sin(G/2),2)+Math.pow(Math.sin(et/2),2)*Math.cos(h)*Math.cos(ut);return oy(2*Math.atan2(Math.sqrt(St),Math.sqrt(1-St)),M.units)}class ly{constructor(k){Ul(this,"rawData");Ul(this,"points");Ul(this,"lines");Ul(this,"maximumSpeed");this.rawData=k,this.points=this.rawData.points,this.lines=[];let M=0;for(let D=0;D<this.points.length-1;D++){const N=this.points[D],G=this.points[D+1],et=ay([N.longitude,N.latitude],[G.longitude,G.latitude],{units:"meters"}),h=G.timestamp.getTime()-N.timestamp.getTime(),ut=et*3.6*1e3/h;this.lines.push({point1:N,point2:G,distance:et,speed:ut,duration:h}),M<ut&&(M=ut)}this.maximumSpeed=M}getName(){return this.rawData.name}}class cy{constructor(k){Ul(this,"rawData");Ul(this,"segments");this.rawData=k,this.segments=k.segments.map(M=>new ly(M))}}const qd={name:"Track Viewer",release:"Angers",status:"Beta"},hy={class:"uk-container uk-container-xlarge uk-padding uk-flex uk-flex-column uk-flex-between","uk-height-viewport":""},uy={class:"uk-flex uk-flex-between"},dy=jl("h1",null,"Track Viewer",-1),py={class:"buttons"},fy={class:"copyright"},my={class:"uk-text-muted uk-text-right"},gy=Cm({__name:"app",setup(g){const k=u0(null),M=Vm(()=>`${qd.name} (Release ${qd.release} - ${qd.status})`);async function D(G){const et=G.target;if(et.files!=null){const h=et.files[0],ut=await h.text(),St=await h.arrayBuffer();let Bt;try{Bt=sy(ut,St)}catch{J1.notification("Failed to parse the uploaded file",{status:"danger"});return}k.value=new cy(Bt)}}function N(){document.getElementById("upload_file").click()}return(G,et)=>(Rm(),Fm("div",hy,[jl("div",uy,[dy,jl("div",py,[jl("button",{class:"uk-button",onClick:N},"Upload"),jl("input",{class:"uk-hidden",type:"file",id:"upload_file",onChange:D},null,32)])]),Ic(ey,{style:{"flex-grow":"1"},trackData:k.value},null,8,["trackData"]),jl("div",fy,[jl("div",my,Ag(dm(M))+" - Copyright  nikorisoft 2023",1)])]))}});var Uf={},yy={get exports(){return Uf},set exports(g){Uf=g}};/*! UIkit 3.15.22 | https://www.getuikit.com | (c) 2014 - 2023 YOOtheme | MIT License */(function(g,k){/*! UIkit 3.15.22 | https://www.getuikit.com | (c) 2014 - 2023 YOOtheme | MIT License */(function(M,D){g.exports=D()})(_d,function(){const{hasOwnProperty:M,toString:D}=Object.prototype;function N(t,s){return M.call(t,s)}const G=/\B([A-Z])/g,et=Qt(t=>t.replace(G,"-$1").toLowerCase()),h=/-(\w)/g,ut=Qt(t=>t.replace(h,Bt)),St=Qt(t=>t.length?Bt(null,t.charAt(0))+t.slice(1):"");function Bt(t,s){return s?s.toUpperCase():""}function Lt(t,s){return t==null||t.startsWith==null?void 0:t.startsWith(s)}function lt(t,s){return t==null||t.endsWith==null?void 0:t.endsWith(s)}function kt(t,s){return t==null||t.includes==null?void 0:t.includes(s)}function Te(t,s){return t==null||t.findIndex==null?void 0:t.findIndex(s)}const{isArray:Xt,from:Pi}=Array,{assign:Ye}=Object;function li(t){return typeof t=="function"}function Ce(t){return t!==null&&typeof t=="object"}function ti(t){return D.call(t)==="[object Object]"}function ii(t){return Ce(t)&&t===t.window}function dn(t){return Xi(t)===9}function wn(t){return Xi(t)>=1}function Ne(t){return Xi(t)===1}function Xi(t){return!ii(t)&&Ce(t)&&t.nodeType}function xi(t){return typeof t=="boolean"}function Me(t){return typeof t=="string"}function Ui(t){return typeof t=="number"}function Hi(t){return Ui(t)||Me(t)&&!isNaN(t-parseFloat(t))}function gn(t){return!(Xt(t)?t.length:Ce(t)&&Object.keys(t).length)}function oi(t){return t===void 0}function ve(t){return xi(t)?t:t==="true"||t==="1"||t===""?!0:t==="false"||t==="0"?!1:t}function ri(t){const s=Number(t);return isNaN(s)?!1:s}function Ht(t){return parseFloat(t)||0}function je(t){return ne(t)[0]}function ne(t){return t&&(wn(t)?[t]:Array.from(t).filter(wn))||[]}function Ji(t){var s;if(ii(t))return t;t=je(t);const a=dn(t)?t:(s=t)==null?void 0:s.ownerDocument;return(a==null?void 0:a.defaultView)||window}function Qi(t,s){return t===s||Ce(t)&&Ce(s)&&Object.keys(t).length===Object.keys(s).length&&Gi(t,(a,u)=>a===s[u])}function ys(t,s,a){return t.replace(new RegExp(`${s}|${a}`,"g"),u=>u===s?a:s)}function zn(t){return t[t.length-1]}function Gi(t,s){for(const a in t)if(s(t[a],a)===!1)return!1;return!0}function hn(t,s){return t.slice().sort(({[s]:a=0},{[s]:u=0})=>a>u?1:u>a?-1:0)}function tn(t,s){return t.reduce((a,u)=>a+Ht(li(s)?s(u):u[s]),0)}function _s(t,s){const a=new Set;return t.filter(({[s]:u})=>a.has(u)?!1:a.add(u))}function Qe(t,s=0,a=1){return Math.min(Math.max(ri(t)||0,s),a)}function $e(){}function xs(...t){return[["bottom","top"],["right","left"]].every(([s,a])=>Math.min(...t.map(({[s]:u})=>u))-Math.max(...t.map(({[a]:u})=>u))>0)}function at(t,s){return t.x<=s.right&&t.x>=s.left&&t.y<=s.bottom&&t.y>=s.top}function ft(t,s,a){const u=s==="width"?"height":"width";return{[u]:t[s]?Math.round(a*t[u]/t[s]):t[u],[s]:a}}function Rt(t,s){t={...t};for(const a in t)t=t[a]>s[a]?ft(t,a,s[a]):t;return t}function Gt(t,s){t=Rt(t,s);for(const a in t)t=t[a]<s[a]?ft(t,a,s[a]):t;return t}const qt={ratio:ft,contain:Rt,cover:Gt};function Yt(t,s,a=0,u=!1){s=ne(s);const{length:y}=s;return y?(t=Hi(t)?ri(t):t==="next"?a+1:t==="previous"?a-1:s.indexOf(je(t)),u?Qe(t,0,y-1):(t%=y,t<0?t+y:t)):-1}function Qt(t){const s=Object.create(null);return a=>s[a]||(s[a]=t(a))}class Ft{constructor(){this.promise=new Promise((s,a)=>{this.reject=a,this.resolve=s})}}function bt(t,s,a){if(Ce(s)){for(const y in s)bt(t,y,s[y]);return}if(oi(a)){var u;return(u=je(t))==null?void 0:u.getAttribute(s)}else for(const y of ne(t))li(a)&&(a=a.call(y,bt(y,s))),a===null?Se(y,s):y.setAttribute(s,a)}function jt(t,s){return ne(t).some(a=>a.hasAttribute(s))}function Se(t,s){ne(t).forEach(a=>a.removeAttribute(s))}function ie(t,s){for(const a of[s,`data-${s}`])if(jt(t,a))return bt(t,a)}const Be={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};function Ve(t){return ne(t).some(s=>Be[s.tagName.toLowerCase()])}function pe(t){return ne(t).some(s=>s.offsetWidth||s.offsetHeight||s.getClientRects().length)}const ci="input,select,textarea,button";function vt(t){return ne(t).some(s=>Oe(s,ci))}const Zt=`${ci},a[href],[tabindex]`;function en(t){return Oe(t,Zt)}function we(t){var s;return(s=je(t))==null?void 0:s.parentElement}function ai(t,s){return ne(t).filter(a=>Oe(a,s))}function Oe(t,s){return ne(t).some(a=>a.matches(s))}function fi(t,s){return Ne(t)?t.closest(Lt(s,">")?s.slice(1):s):ne(t).map(a=>fi(a,s)).filter(Boolean)}function oe(t,s){return Me(s)?!!fi(t,s):je(s).contains(je(t))}function Zi(t,s){const a=[];for(;t=we(t);)(!s||Oe(t,s))&&a.push(t);return a}function Pt(t,s){t=je(t);const a=t?ne(t.children):[];return s?ai(a,s):a}function Xe(t,s){return s?ne(t).indexOf(je(s)):Pt(we(t)).indexOf(t)}function Pe(t,s){return Ss(t,Pr(t,s))}function nn(t,s){return qe(t,Pr(t,s))}function Ss(t,s){return je(Ri(t,je(s),"querySelector"))}function qe(t,s){return ne(Ri(t,je(s),"querySelectorAll"))}const pr=/(^|[^\\],)\s*[!>+~-]/,Tn=Qt(t=>t.match(pr));function Pr(t,s=document){return Me(t)&&Tn(t)||dn(s)?s:s.ownerDocument}const Cn=/([!>+~-])(?=\s+[!>+~-]|\s*$)/g,Qn=Qt(t=>t.replace(Cn,"$1 *"));function Ri(t,s=document,a){if(!t||!Me(t))return t;if(t=Qn(t),Tn(t)){const u=tr(t);t="";for(let y of u){let v=s;if(y[0]==="!"){const T=y.substr(1).trim().split(" ");if(v=fi(we(s),T[0]),y=T.slice(1).join(" ").trim(),!y.length&&u.length===1)return v}if(y[0]==="-"){const T=y.substr(1).trim().split(" "),z=(v||s).previousElementSibling;v=Oe(z,y.substr(1))?z:null,y=T.slice(1).join(" ")}v&&(t+=`${t?",":""}${Kr(v)} ${y}`)}s=document}try{return s[a](t)}catch{return null}}const Ao=/.*?[^\\](?:,|$)/g,tr=Qt(t=>t.match(Ao).map(s=>s.replace(/,$/,"").trim()));function Kr(t){const s=[];for(;t.parentNode;){const a=bt(t,"id");if(a){s.unshift(`#${Us(a)}`);break}else{let{tagName:u}=t;u!=="HTML"&&(u+=`:nth-child(${Xe(t)+1})`),s.unshift(u),t=t.parentNode}}return s.join(" > ")}function Us(t){return Me(t)?CSS.escape(t):""}function _e(...t){let[s,a,u,y,v=!1]=W(t);y.length>1&&(y=rt(y)),v!=null&&v.self&&(y=dt(y)),u&&(y=K(u,y));for(const T of a)for(const z of s)z.addEventListener(T,y,v);return()=>In(s,a,y,v)}function In(...t){let[s,a,,u,y=!1]=W(t);for(const v of a)for(const T of s)T.removeEventListener(v,u,y)}function Z(...t){const[s,a,u,y,v=!1,T]=W(t),z=_e(s,a,u,F=>{const X=!T||T(F);X&&(z(),y(F,X))},v);return z}function I(t,s,a){return pt(t).every(u=>u.dispatchEvent(R(s,!0,!0,a)))}function R(t,s=!0,a=!1,u){return Me(t)&&(t=new CustomEvent(t,{bubbles:s,cancelable:a,detail:u})),t}function W(t){return t[0]=pt(t[0]),Me(t[1])&&(t[1]=t[1].split(" ")),li(t[2])&&t.splice(2,0,!1),t}function K(t,s){return a=>{const u=t[0]===">"?qe(t,a.currentTarget).reverse().filter(y=>oe(a.target,y))[0]:fi(a.target,t);u&&(a.current=u,s.call(this,a))}}function rt(t){return s=>Xt(s.detail)?t(s,...s.detail):t(s)}function dt(t){return function(s){if(s.target===s.currentTarget||s.target===s.current)return t.call(null,s)}}function ct(t){return t&&"addEventListener"in t}function ot(t){return ct(t)?t:je(t)}function pt(t){return Xt(t)?t.map(ot).filter(Boolean):Me(t)?qe(t):ct(t)?[t]:ne(t)}function Tt(t){return t.pointerType==="touch"||!!t.touches}function Ot(t){var s,a;const{clientX:u,clientY:y}=((s=t.touches)==null?void 0:s[0])||((a=t.changedTouches)==null?void 0:a[0])||t;return{x:u,y}}function Mt(t,s){const a={data:null,method:"GET",headers:{},xhr:new XMLHttpRequest,beforeSend:$e,responseType:"",...s};return Promise.resolve().then(()=>a.beforeSend(a)).then(()=>Ee(t,a))}function Ee(t,s){return new Promise((a,u)=>{const{xhr:y}=s;for(const v in s)if(v in y)try{y[v]=s[v]}catch{}y.open(s.method.toUpperCase(),t);for(const v in s.headers)y.setRequestHeader(v,s.headers[v]);_e(y,"load",()=>{y.status===0||y.status>=200&&y.status<300||y.status===304?a(y):u(Ye(Error(y.statusText),{xhr:y,status:y.status}))}),_e(y,"error",()=>u(Ye(Error("Network Error"),{xhr:y}))),_e(y,"timeout",()=>u(Ye(Error("Network Timeout"),{xhr:y}))),y.send(s.data)})}function Ie(t,s,a){return new Promise((u,y)=>{const v=new Image;v.onerror=T=>{y(T)},v.onload=()=>{u(v)},a&&(v.sizes=a),s&&(v.srcset=s),v.src=t})}const ue={"animation-iteration-count":!0,"column-count":!0,"fill-opacity":!0,"flex-grow":!0,"flex-shrink":!0,"font-weight":!0,"line-height":!0,opacity:!0,order:!0,orphans:!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,widows:!0,"z-index":!0,zoom:!0};function U(t,s,a,u=""){const y=ne(t);for(const v of y)if(Me(s)){if(s=Ze(s),oi(a))return getComputedStyle(v).getPropertyValue(s);v.style.setProperty(s,Hi(a)&&!ue[s]?`${a}px`:a||Ui(a)?a:"",u)}else if(Xt(s)){const T={};for(const z of s)T[z]=U(v,z);return T}else Ce(s)&&(u=a,Gi(s,(T,z)=>U(v,z,T,u)));return y[0]}const Ze=Qt(t=>Ti(t));function Ti(t){if(Lt(t,"--"))return t;t=et(t);const{style:s}=document.documentElement;if(t in s)return t;for(const a of["webkit","moz"]){const u=`-${a}-${t}`;if(u in s)return u}}function Nt(t,...s){Ln(t,s,"add")}function te(t,...s){Ln(t,s,"remove")}function yi(t,s){bt(t,"class",a=>(a||"").replace(new RegExp(`\\b${s}\\b\\s?`,"g"),""))}function zi(t,...s){s[0]&&te(t,s[0]),s[1]&&Nt(t,s[1])}function Ae(t,s){return[s]=er(s),!!s&&ne(t).some(a=>a.classList.contains(s))}function Re(t,s,a){const u=er(s);oi(a)||(a=!!a);for(const y of ne(t))for(const v of u)y.classList.toggle(v,a)}function Ln(t,s,a){s=s.reduce((u,y)=>u.concat(er(y)),[]);for(const u of ne(t))u.classList[a](...s)}function er(t){return String(t).split(/\s|,/).filter(Boolean)}function ta(t,s,a=400,u="linear"){return a=Math.round(a),Promise.all(ne(t).map(y=>new Promise((v,T)=>{for(const F in s){const X=U(y,F);X===""&&U(y,F,X)}const z=setTimeout(()=>I(y,"transitionend"),a);Z(y,"transitionend transitioncanceled",({type:F})=>{clearTimeout(z),te(y,"uk-transition"),U(y,{transitionProperty:"",transitionDuration:"",transitionTimingFunction:""}),F==="transitioncanceled"?T():v(y)},{self:!0}),Nt(y,"uk-transition"),U(y,{transitionProperty:Object.keys(s).map(Ze).join(","),transitionDuration:`${a}ms`,transitionTimingFunction:u,...s})})))}const ee={start:ta,async stop(t){I(t,"transitionend"),await Promise.resolve()},async cancel(t){I(t,"transitioncanceled"),await Promise.resolve()},inProgress(t){return Ae(t,"uk-transition")}},Vs="uk-animation-";function ea(t,s,a=200,u,y){return Promise.all(ne(t).map(v=>new Promise((T,z)=>{I(v,"animationcanceled");const F=setTimeout(()=>I(v,"animationend"),a);Z(v,"animationend animationcanceled",({type:X})=>{clearTimeout(F),X==="animationcanceled"?z():T(v),U(v,"animationDuration",""),yi(v,`${Vs}\\S*`)},{self:!0}),U(v,"animationDuration",`${a}ms`),Nt(v,s,Vs+(y?"leave":"enter")),Lt(s,Vs)&&(u&&Nt(v,`uk-transform-origin-${u}`),y&&Nt(v,`${Vs}reverse`))})))}const Gl=new RegExp(`${Vs}(enter|leave)`),yn={in:ea,out(t,s,a,u){return ea(t,s,a,u,!0)},inProgress(t){return Gl.test(bt(t,"class"))},cancel(t){I(t,"animationcanceled")}};function il(t){if(document.readyState!=="loading"){t();return}Z(document,"DOMContentLoaded",t)}function pn(t,...s){return s.some(a=>{var u;return(t==null||(u=t.tagName)==null?void 0:u.toLowerCase())===a.toLowerCase()})}function Mo(t){return t=ae(t),t.innerHTML="",t}function Un(t,s){return oi(s)?ae(t).innerHTML:mi(Mo(t),s)}const Wl=js("prepend"),mi=js("append"),zr=js("before"),vs=js("after");function js(t){return function(s,a){var u;const y=ne(Me(a)?Vn(a):a);return(u=ae(s))==null||u[t](...y),Ki(y)}}function Vi(t){ne(t).forEach(s=>s.remove())}function ir(t,s){for(s=je(zr(t,s));s.firstChild;)s=s.firstChild;return mi(s,t),s}function Lr(t,s){return ne(ne(t).map(a=>a.hasChildNodes()?ir(ne(a.childNodes),s):mi(a,s)))}function ls(t){ne(t).map(we).filter((s,a,u)=>u.indexOf(s)===a).forEach(s=>s.replaceWith(...s.childNodes))}const nl=/^\s*<(\w+|!)[^>]*>/,Aa=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;function Vn(t){const s=Aa.exec(t);if(s)return document.createElement(s[1]);const a=document.createElement("div");return nl.test(t)?a.insertAdjacentHTML("beforeend",t.trim()):a.textContent=t,Ki(a.childNodes)}function Ki(t){return t.length>1?t:t[0]}function fn(t,s){if(Ne(t))for(s(t),t=t.firstElementChild;t;){const a=t.nextElementSibling;fn(t,s),t=a}}function ae(t,s){return ia(t)?je(Vn(t)):Ss(t,s)}function ei(t,s){return ia(t)?ne(Vn(t)):qe(t,s)}function ia(t){return Me(t)&&Lt(t.trim(),"<")}const Zn={width:["left","right"],height:["top","bottom"]};function le(t){const s=Ne(t)?je(t).getBoundingClientRect():{height:Oi(t),width:qs(t),top:0,left:0};return{height:s.height,width:s.width,top:s.top,left:s.left,bottom:s.top+s.height,right:s.left+s.width}}function He(t,s){const a=le(t);if(t){const{scrollY:y,scrollX:v}=Ji(t),T={height:y,width:v};for(const z in Zn)for(const F of Zn[z])a[F]+=T[z]}if(!s)return a;const u=U(t,"position");Gi(U(t,["left","top"]),(y,v)=>U(t,v,s[v]-a[v]+Ht(u==="absolute"&&y==="auto"?Yr(t)[v]:y)))}function Yr(t){let{top:s,left:a}=He(t);const{ownerDocument:{body:u,documentElement:y},offsetParent:v}=je(t);let T=v||y;for(;T&&(T===u||T===y)&&U(T,"position")==="static";)T=T.parentNode;if(Ne(T)){const z=He(T);s-=z.top+Ht(U(T,"borderTopWidth")),a-=z.left+Ht(U(T,"borderLeftWidth"))}return{top:s-Ht(U(t,"marginTop")),left:a-Ht(U(t,"marginLeft"))}}function ts(t){t=je(t);const s=[t.offsetTop,t.offsetLeft];for(;t=t.offsetParent;)if(s[0]+=t.offsetTop+Ht(U(t,"borderTopWidth")),s[1]+=t.offsetLeft+Ht(U(t,"borderLeftWidth")),U(t,"position")==="fixed"){const a=Ji(t);return s[0]+=a.scrollY,s[1]+=a.scrollX,s}return s}const Oi=na("height"),qs=na("width");function na(t){const s=St(t);return(a,u)=>{if(oi(u)){if(ii(a))return a[`inner${s}`];if(dn(a)){const y=a.documentElement;return Math.max(y[`offset${s}`],y[`scroll${s}`])}return a=je(a),u=U(a,t),u=u==="auto"?a[`offset${s}`]:Ht(u)||0,u-hi(a,t)}else return U(a,t,!u&&u!==0?"":+u+hi(a,t)+"px")}}function hi(t,s,a="border-box"){return U(t,"boxSizing")===a?tn(Zn[s].map(St),u=>Ht(U(t,`padding${u}`))+Ht(U(t,`border${u}Width`))):0}function $r(t){for(const s in Zn)for(const a in Zn[s])if(Zn[s][a]===t)return Zn[s][1-a];return t}function sn(t,s="width",a=window,u=!1){return Me(t)?tn(ra(t),y=>{const v=ws(y);return v?sl(v==="vh"?rl():v==="vw"?qs(Ji(a)):u?a[`offset${St(s)}`]:le(a)[s],y):y}):Ht(t)}const sa=/-?\d+(?:\.\d+)?(?:v[wh]|%|px)?/g,ra=Qt(t=>t.toString().replace(/\s/g,"").match(sa)||[]),Xl=/(?:v[hw]|%)$/,ws=Qt(t=>(t.match(Xl)||[])[0]);function sl(t,s){return t*Ht(s)/100}let Zs,cs;function rl(){return Zs||(cs||(cs=ae("<div>"),U(cs,{height:"100vh",position:"fixed"}),_e(window,"resize",()=>Zs=null)),mi(document.body,cs),Zs=cs.clientHeight,Vi(cs),Zs)}const es=typeof window<"u",Ci=es&&document.dir==="rtl",is=es&&"ontouchstart"in window,bs=es&&window.PointerEvent,un=bs?"pointerdown":is?"touchstart":"mousedown",Dr=bs?"pointermove":is?"touchmove":"mousemove",Hn=bs?"pointerup":is?"touchend":"mouseup",$n=bs?"pointerenter":is?"":"mouseenter",Hs=bs?"pointerleave":is?"":"mouseleave",Jr=bs?"pointercancel":"touchcancel",Li={reads:[],writes:[],read(t){return this.reads.push(t),aa(),t},write(t){return this.writes.push(t),aa(),t},clear(t){Po(this.reads,t),Po(this.writes,t)},flush:oa};function oa(t){la(Li.reads),la(Li.writes.splice(0)),Li.scheduled=!1,(Li.reads.length||Li.writes.length)&&aa(t+1)}const Pc=4;function aa(t){Li.scheduled||(Li.scheduled=!0,t&&t<Pc?Promise.resolve().then(()=>oa(t)):requestAnimationFrame(()=>oa(1)))}function la(t){let s;for(;s=t.shift();)try{s()}catch(a){console.error(a)}}function Po(t,s){const a=t.indexOf(s);return~a&&t.splice(a,1)}function Qr(){}Qr.prototype={positions:[],init(){this.positions=[];let t;this.unbind=_e(document,"mousemove",s=>t=Ot(s)),this.interval=setInterval(()=>{t&&(this.positions.push(t),this.positions.length>5&&this.positions.shift())},50)},cancel(){var t;(t=this.unbind)==null||t.call(this),this.interval&&clearInterval(this.interval)},movesTo(t){if(this.positions.length<2)return!1;const s=t.getBoundingClientRect(),{left:a,right:u,top:y,bottom:v}=s,[T]=this.positions,z=zn(this.positions),F=[T,z];return at(z,s)?!1:[[{x:a,y},{x:u,y:v}],[{x:a,y:v},{x:u,y}]].some(X=>{const Y=ol(F,X);return Y&&at(Y,s)})}};function ol([{x:t,y:s},{x:a,y:u}],[{x:y,y:v},{x:T,y:z}]){const F=(z-v)*(a-t)-(T-y)*(u-s);if(F===0)return!1;const X=((T-y)*(s-v)-(z-v)*(t-y))/F;return X<0?!1:{x:t+X*(a-t),y:s+X*(u-s)}}function Gn(t,s,a,u=!0){const y=new IntersectionObserver(u?(v,T)=>{v.some(z=>z.isIntersecting)&&s(v,T)}:s,a);for(const v of ne(t))y.observe(v);return y}const Kl=es&&window.ResizeObserver;function nr(t,s,a={box:"border-box"}){return Kl?Br(ResizeObserver,t,s,a):(to(),Es.add(s),{disconnect(){Es.delete(s)}})}let Es;function to(){if(Es)return;Es=new Set;let t;const s=()=>{if(!t){t=!0,requestAnimationFrame(()=>t=!1);for(const a of Es)a()}};_e(window,"load resize",s),_e(document,"loadedmetadata load",s,!0)}function Ma(t,s,a){return Br(MutationObserver,t,s,a)}function Br(t,s,a,u){const y=new t(a);for(const v of ne(s))y.observe(v,u);return y}const We={};We.events=We.created=We.beforeConnect=We.connected=We.beforeDisconnect=We.disconnected=We.destroy=ui,We.args=function(t,s){return s!==!1&&ui(s||t)},We.update=function(t,s){return hn(ui(t,li(s)?{read:s}:s),"order")},We.props=function(t,s){if(Xt(s)){const a={};for(const u of s)a[u]=String;s=a}return We.methods(t,s)},We.computed=We.methods=function(t,s){return s?t?{...t,...s}:s:t},We.data=function(t,s,a){return a?Pa(t,s,a):s?t?function(u){return Pa(t,s,u)}:s:t};function Pa(t,s,a){return We.computed(li(t)?t.call(a,a):t,li(s)?s.call(a,a):s)}function ui(t,s){return t=t&&!Xt(t)?[t]:t,s?t?t.concat(s):Xt(s)?s:[s]:t}function $i(t,s){return oi(s)?t:s}function bi(t,s,a){const u={};if(li(s)&&(s=s.options),s.extends&&(t=bi(t,s.extends,a)),s.mixins)for(const v of s.mixins)t=bi(t,v,a);for(const v in t)y(v);for(const v in s)N(t,v)||y(v);function y(v){u[v]=(We[v]||$i)(t[v],s[v],a)}return u}function Di(t,s=[]){try{return t?Lt(t,"{")?JSON.parse(t):s.length&&!kt(t,":")?{[s[0]]:t}:t.split(";").reduce((a,u)=>{const[y,v]=u.split(/:(.*)/);return y&&!oi(v)&&(a[y.trim()]=v.trim()),a},{}):{}}catch{return{}}}function eo(t){if(io(t)&&fr(t,{func:"playVideo",method:"play"}),Fr(t))try{t.play().catch($e)}catch{}}function Rr(t){io(t)&&fr(t,{func:"pauseVideo",method:"pause"}),Fr(t)&&t.pause()}function al(t){io(t)&&fr(t,{func:"mute",method:"setVolume",value:0}),Fr(t)&&(t.muted=!0)}function ll(t){return Fr(t)||io(t)}function Fr(t){return pn(t,"video")}function io(t){return pn(t,"iframe")&&(zo(t)||no(t))}function zo(t){return!!t.src.match(/\/\/.*?youtube(-nocookie)?\.[a-z]+\/(watch\?v=[^&\s]+|embed)|youtu\.be\/.*/)}function no(t){return!!t.src.match(/vimeo\.com\/video\/.*/)}async function fr(t,s){await za(t),so(t,s)}function so(t,s){try{t.contentWindow.postMessage(JSON.stringify({event:"command",...s}),"*")}catch{}}const ro="_ukPlayer";let Yl=0;function za(t){if(t[ro])return t[ro];const s=zo(t),a=no(t),u=++Yl;let y;return t[ro]=new Promise(v=>{s&&Z(t,"load",()=>{const T=()=>so(t,{event:"listening",id:u});y=setInterval(T,100),T()}),Z(window,"message",v,!1,({data:T})=>{try{return T=JSON.parse(T),T&&(s&&T.id===u&&T.event==="onReady"||a&&Number(T.player_id)===u)}catch{}}),t.src=`${t.src}${kt(t.src,"?")?"&":"?"}${s?"enablejsapi=1":`api=1&player_id=${u}`}`}).then(()=>clearInterval(y))}function Or(t,s=0,a=0){return pe(t)?xs(...Is(t).map(u=>{const{top:y,left:v,bottom:T,right:z}=Ni(u);return{top:y-s,left:v-a,bottom:T+s,right:z+a}}).concat(He(t))):!1}function ks(t,{offset:s=0}={}){const a=pe(t)?rn(t,!1,["hidden"]):[];return a.reduce((T,z,F)=>{const{scrollTop:X,scrollHeight:Y,offsetHeight:yt}=z,It=Ni(z),Kt=Y-It.height,{height:ke,top:si}=a[F-1]?Ni(a[F-1]):He(t);let Je=Math.ceil(si-It.top-s+X);return s>0&&yt<ke+s?Je+=s:s=0,Je>Kt?(s-=Je-Kt,Je=Kt):Je<0&&(s-=Je,Je=0),()=>u(z,Je-X).then(T)},()=>Promise.resolve())();function u(T,z){return new Promise(F=>{const X=T.scrollTop,Y=y(Math.abs(z)),yt=Date.now();(function It(){const Kt=v(Qe((Date.now()-yt)/Y));T.scrollTop=X+z*Kt,Kt===1?F():requestAnimationFrame(It)})()})}function y(T){return 40*Math.pow(T,.375)}function v(T){return .5*(1-Math.cos(Math.PI*T))}}function Lo(t,s=0,a=0){if(!pe(t))return 0;const[u]=rn(t,!0),{scrollHeight:y,scrollTop:v}=u,{height:T}=Ni(u),z=y-T,F=ts(t)[0]-ts(u)[0],X=Math.max(0,F-T+s),Y=Math.min(z,F+t.offsetHeight-a);return Qe((v-X)/(Y-X))}function rn(t,s=!1,a=[]){const u=oo(t);let y=Zi(t).reverse();y=y.slice(y.indexOf(u)+1);const v=Te(y,T=>U(T,"position")==="fixed");return~v&&(y=y.slice(v)),[u].concat(y.filter(T=>kt(["auto","scroll",...a],U(T,"overflow"))&&(!s||T.scrollHeight>Ni(T).height))).reverse()}function Is(t){return rn(t,!1,["hidden","clip"])}function Ni(t){const s=Ji(t),{document:{documentElement:a}}=s;let u=t===oo(t)?s:t;const{visualViewport:y}=s;if(ii(u)&&y){let{height:T,width:z,scale:F,pageTop:X,pageLeft:Y}=y;return T=Math.round(T*F),z=Math.round(z*F),{height:T,width:z,top:X,left:Y,bottom:X+T,right:Y+z}}let v=He(u);if(U(u,"display")==="inline")return v;for(let[T,z,F,X]of[["width","x","left","right"],["height","y","top","bottom"]])ii(u)?u=a:v[F]+=Ht(U(u,`border-${F}-width`)),v[T]=v[z]=u[`client${St(T)}`],v[X]=v[T]+v[F];return v}function oo(t){return Ji(t).document.scrollingElement}const ji=[["width","x","left","right"],["height","y","top","bottom"]];function cl(t,s,a){a={attach:{element:["left","top"],target:["left","top"],...a.attach},offset:[0,0],placement:[],...a},Xt(s)||(s=[s,s]),He(t,$o(t,s,a))}function $o(t,s,a){const u=La(t,s,a),{boundary:y,viewportOffset:v=0,placement:T}=a;let z=u;for(const[F,[X,,Y,yt]]of Object.entries(ji)){const It=hl(t,s[F],v,y,F);if(Gs(u,It,F))continue;let Kt=0;if(T[F]==="flip"){const ke=a.attach.target[F];if(ke===yt&&u[yt]<=It[yt]||ke===Y&&u[Y]>=It[Y])continue;Kt=Jl(t,s,a,F)[Y]-u[Y];const si=$a(t,s[F],v,F);if(!Gs(Do(u,Kt,F),si,F)){if(Gs(u,si,F))continue;if(a.recursion)return!1;const Je=ca(t,s,a);if(Je&&Gs(Je,si,1-F))return Je;continue}}else if(T[F]==="shift"){const ke=He(s[F]),{offset:si}=a;Kt=Qe(Qe(u[Y],It[Y],It[yt]-u[X]),ke[Y]-u[X]+si[F],ke[yt]-si[F])-u[Y]}z=Do(z,Kt,F)}return z}function La(t,s,a){let{attach:u,offset:y}={attach:{element:["left","top"],target:["left","top"],...a.attach},offset:[0,0],...a},v=He(t);for(const[T,[z,,F,X]]of Object.entries(ji)){const Y=u.target[T]===u.element[T]?Ni(s[T]):He(s[T]);v=Do(v,Y[F]-v[F]+ao(u.target[T],X,Y[z])-ao(u.element[T],X,v[z])+ +y[T],T)}return v}function Do(t,s,a){const[,u,y,v]=ji[a],T={...t};return T[y]=t[u]=t[y]+s,T[v]+=s,T}function ao(t,s,a){return t==="center"?a/2:t===s?a:0}function hl(t,s,a,u,y){let v=Nr(...lo(t,s).map(Ni));return a&&(v[ji[y][2]]+=a,v[ji[y][3]]-=a),u&&(v=Nr(v,He(Xt(u)?u[y]:u))),v}function $a(t,s,a,u){const[y,v,T,z]=ji[u],[F]=lo(t,s),X=Ni(F);return["auto","scroll"].includes(U(F,`overflow-${v}`))&&(X[T]-=F[`scroll${St(T)}`],X[z]=X[T]+F[`scroll${St(y)}`]),X[T]+=a,X[z]-=a,X}function lo(t,s){return Is(s).filter(a=>oe(t,a))}function Nr(...t){let s={};for(const a of t)for(const[,,u,y]of ji)s[u]=Math.max(s[u]||0,a[u]),s[y]=Math.min(...[s[y],a[y]].filter(Boolean));return s}function Gs(t,s,a){const[,,u,y]=ji[a];return t[u]>=s[u]&&t[y]<=s[y]}function Jl(t,s,{offset:a,attach:u},y){return La(t,s,{attach:{element:Da(u.element,y),target:Da(u.target,y)},offset:Ql(a,y)})}function ca(t,s,a){return $o(t,s,{...a,attach:{element:a.attach.element.map(Ba).reverse(),target:a.attach.target.map(Ba).reverse()},offset:a.offset.reverse(),placement:a.placement.reverse(),recursion:!0})}function Da(t,s){const a=[...t],u=ji[s].indexOf(t[s]);return~u&&(a[s]=ji[s][1-u%2+2]),a}function Ba(t){for(let s=0;s<ji.length;s++){const a=ji[s].indexOf(t);if(~a)return ji[1-s][a%2+2]}}function Ql(t,s){return t=[...t],t[s]*=-1,t}var Bo=Object.freeze({__proto__:null,$:ae,$$:ei,Animation:yn,Deferred:Ft,Dimensions:qt,MouseTracker:Qr,Transition:ee,addClass:Nt,after:vs,ajax:Mt,append:mi,apply:fn,assign:Ye,attr:bt,before:zr,boxModelAdjust:hi,camelize:ut,children:Pt,clamp:Qe,closest:fi,createEvent:R,css:U,data:ie,dimensions:le,each:Gi,empty:Mo,endsWith:lt,escape:Us,fastdom:Li,filter:ai,find:Ss,findAll:qe,findIndex:Te,flipPosition:$r,fragment:Vn,getEventPos:Ot,getImage:Ie,getIndex:Yt,hasAttr:jt,hasClass:Ae,hasOwn:N,hasTouch:is,height:Oi,html:Un,hyphenate:et,inBrowser:es,includes:kt,index:Xe,intersectRect:xs,isArray:Xt,isBoolean:xi,isDocument:dn,isElement:Ne,isEmpty:gn,isEqual:Qi,isFocusable:en,isFunction:li,isInView:Or,isInput:vt,isNode:wn,isNumber:Ui,isNumeric:Hi,isObject:Ce,isPlainObject:ti,isRtl:Ci,isString:Me,isTag:pn,isTouch:Tt,isUndefined:oi,isVideo:ll,isVisible:pe,isVoidElement:Ve,isWindow:ii,last:zn,matches:Oe,memoize:Qt,mergeOptions:bi,mute:al,noop:$e,observeIntersection:Gn,observeMutation:Ma,observeResize:nr,off:In,offset:He,offsetPosition:ts,offsetViewport:Ni,on:_e,once:Z,overflowParents:Is,parent:we,parents:Zi,parseOptions:Di,pause:Rr,play:eo,pointInRect:at,pointerCancel:Jr,pointerDown:un,pointerEnter:$n,pointerLeave:Hs,pointerMove:Dr,pointerUp:Hn,position:Yr,positionAt:cl,prepend:Wl,propName:Ze,query:Pe,queryAll:nn,ready:il,remove:Vi,removeAttr:Se,removeClass:te,removeClasses:yi,replaceClass:zi,scrollIntoView:ks,scrollParents:rn,scrolledOver:Lo,selFocusable:Zt,selInput:ci,sortBy:hn,startsWith:Lt,sumBy:tn,swap:ys,toArray:Pi,toBoolean:ve,toEventTargets:pt,toFloat:Ht,toNode:je,toNodes:ne,toNumber:ri,toPx:sn,toWindow:Ji,toggleClass:Re,trigger:I,ucfirst:St,uniqueBy:_s,unwrap:ls,width:qs,within:oe,wrapAll:ir,wrapInner:Lr});function tc(t){const s=t.data;t.use=function(y){if(!y.installed)return y.call(null,this),y.installed=!0,this},t.mixin=function(y,v){v=(Me(v)?t.component(v):v)||this,v.options=bi(v.options,y)},t.extend=function(y){y=y||{};const v=this,T=function(z){this._init(z)};return T.prototype=Object.create(v.prototype),T.prototype.constructor=T,T.options=bi(v.options,y),T.super=v,T.extend=v.extend,T},t.update=function(y,v){y=y?je(y):document.body;for(const T of Zi(y).reverse())u(T[s],v);fn(y,T=>u(T[s],v))};let a;Object.defineProperty(t,"container",{get(){return a||document.body},set(y){a=ae(y)}});function u(y,v){if(y)for(const T in y)y[T]._connected&&y[T]._callUpdate(v)}}function ha(t){t.prototype._callHook=function(u){var y;(y=this.$options[u])==null||y.forEach(v=>v.call(this))},t.prototype._callConnected=function(){this._connected||(this._data={},this._computed={},this._initProps(),this._callHook("beforeConnect"),this._connected=!0,this._initEvents(),this._initObservers(),this._callHook("connected"),this._callUpdate())},t.prototype._callDisconnected=function(){this._connected&&(this._callHook("beforeDisconnect"),this._disconnectObservers(),this._unbindEvents(),this._callHook("disconnected"),this._connected=!1,delete this._watch)},t.prototype._callUpdate=function(u="update"){this._connected&&((u==="update"||u==="resize")&&this._callWatches(),this.$options.update&&(this._updates||(this._updates=new Set,Li.read(()=>{this._connected&&s.call(this,this._updates),delete this._updates})),this._updates.add(u.type||u)))},t.prototype._callWatches=function(){if(this._watch)return;const u=!N(this,"_watch");this._watch=Li.read(()=>{this._connected&&a.call(this,u),this._watch=null})};function s(u){for(const{read:y,write:v,events:T=[]}of this.$options.update){if(!u.has("update")&&!T.some(F=>u.has(F)))continue;let z;y&&(z=y.call(this,this._data,u),z&&ti(z)&&Ye(this._data,z)),v&&z!==!1&&Li.write(()=>{this._connected&&v.call(this,this._data,u)})}}function a(u){const{$options:{computed:y}}=this,v={...this._computed};this._computed={};for(const T in y){const{watch:z,immediate:F}=y[T];z&&(u&&F||N(v,T)&&!Qi(v[T],this[T]))&&z.call(this,this[T],v[T])}}}function ua(t){let s=0;t.prototype._init=function(a){a=a||{},a.data=mr(a,this.constructor.options),this.$options=bi(this.constructor.options,a,this),this.$el=null,this.$props={},this._uid=s++,this._initData(),this._initMethods(),this._initComputeds(),this._callHook("created"),a.el&&this.$mount(a.el)},t.prototype._initData=function(){const{data:a={}}=this.$options;for(const u in a)this.$props[u]=this[u]=a[u]},t.prototype._initMethods=function(){const{methods:a}=this.$options;if(a)for(const u in a)this[u]=a[u].bind(this)},t.prototype._initComputeds=function(){const{computed:a}=this.$options;if(this._computed={},a)for(const u in a)da(this,u,a[u])},t.prototype._initProps=function(a){let u;a=a||ns(this.$options);for(u in a)oi(a[u])||(this.$props[u]=a[u]);const y=[this.$options.computed,this.$options.methods];for(u in this.$props)u in a&&zc(y,u)&&(this[u]=this.$props[u])},t.prototype._initEvents=function(){this._events=[];for(const a of this.$options.events||[])if(N(a,"handler"))An(this,a);else for(const u in a)An(this,a[u],u)},t.prototype._unbindEvents=function(){this._events.forEach(a=>a()),delete this._events},t.prototype._initObservers=function(){this._observers=[ul(this),pa(this)]},t.prototype.registerObserver=function(...a){this._observers.push(...a)},t.prototype._disconnectObservers=function(){this._observers.forEach(a=>a==null?void 0:a.disconnect())}}function ns(t){const s={},{args:a=[],props:u={},el:y,id:v}=t;if(!u)return s;for(const z in u){const F=et(z);let X=ie(y,F);oi(X)||(X=u[z]===Boolean&&X===""?!0:As(u[z],X),!(F==="target"&&Lt(X,"_"))&&(s[z]=X))}const T=Di(ie(y,v),a);for(const z in T){const F=ut(z);oi(u[F])||(s[F]=As(u[F],T[z]))}return s}function da(t,s,a){Object.defineProperty(t,s,{enumerable:!0,get(){const{_computed:u,$props:y,$el:v}=t;return N(u,s)||(u[s]=(a.get||a).call(t,y,v)),u[s]},set(u){const{_computed:y}=t;y[s]=a.set?a.set.call(t,u):u,oi(y[s])&&delete y[s]}})}function An(t,s,a){ti(s)||(s={name:a,handler:s});let{name:u,el:y,handler:v,capture:T,passive:z,delegate:F,filter:X,self:Y}=s;if(y=li(y)?y.call(t):y||t.$el,Xt(y)){y.forEach(yt=>An(t,{...s,el:yt},a));return}!y||X&&!X.call(t)||t._events.push(_e(y,u,F?Me(F)?F:F.call(t):null,Me(v)?t[v]:v.bind(t),{passive:z,capture:T,self:Y}))}function zc(t,s){return t.every(a=>!a||!N(a,s))}function As(t,s){return t===Boolean?ve(s):t===Number?ri(s):t==="list"?ec(s):t?t(s):s}function ec(t){return Xt(t)?t:Me(t)?t.split(/,(?![^(]*\))/).map(s=>Hi(s)?ri(s):ve(s.trim())):[t]}function mr({data:t={}},{args:s=[],props:a={}}){Xt(t)&&(t=t.slice(0,s.length).reduce((u,y,v)=>(ti(y)?Ye(u,y):u[s[v]]=y,u),{}));for(const u in t)oi(t[u])?delete t[u]:a[u]&&(t[u]=As(a[u],t[u]));return t}function pa(t){let{el:s,computed:a}=t.$options;if(!a)return;for(const y in a)if(a[y].document){s=s.ownerDocument;break}const u=new MutationObserver(()=>t._callWatches());return u.observe(s,{childList:!0,subtree:!0}),u}function ul(t){const{$options:s,$props:a}=t,{id:u,attrs:y,props:v,el:T}=s;if(!v||y===!1)return;const z=Xt(y)?y:Object.keys(v),F=z.map(Y=>et(Y)).concat(u),X=new MutationObserver(Y=>{const yt=ns(s);Y.some(({attributeName:It})=>{const Kt=It.replace("data-","");return(Kt===u?z:[ut(Kt),ut(It)]).some(ke=>!oi(yt[ke])&&yt[ke]!==a[ke])})&&t.$reset()});return X.observe(T,{attributes:!0,attributeFilter:F.concat(F.map(Y=>`data-${Y}`))}),X}function Lc(t){const s=t.data;t.prototype.$create=function(a,u,y){return t[a](u,y)},t.prototype.$mount=function(a){const{name:u}=this.$options;a[s]||(a[s]={}),!a[s][u]&&(a[s][u]=this,this.$el=this.$options.el=this.$options.el||a,oe(a,document)&&this._callConnected())},t.prototype.$reset=function(){this._callDisconnected(),this._callConnected()},t.prototype.$destroy=function(a=!1){const{el:u,name:y}=this.$options;u&&this._callDisconnected(),this._callHook("destroy"),u!=null&&u[s]&&(delete u[s][y],gn(u[s])||delete u[s],a&&Vi(this.$el))},t.prototype.$emit=function(a){this._callUpdate(a)},t.prototype.$update=function(a=this.$el,u){t.update(a,u)},t.prototype.$getComponent=t.getComponent,Object.defineProperty(t.prototype,"$container",Object.getOwnPropertyDescriptor(t,"container"))}const ss={};function Ra(t){const{data:s,prefix:a}=t;t.component=function(u,y){u=et(u);const v=a+u;if(!y)return ti(ss[v])&&(ss[v]=ss[`data-${v}`]=t.extend(ss[v])),ss[v];u=ut(u),t[u]=function(z,F){const X=t.component(u);return X.options.functional?new X({data:ti(z)?z:[...arguments]}):z?ei(z).map(Y)[0]:Y();function Y(yt){const It=t.getComponent(yt,u);if(It)if(F)It.$destroy();else return It;return new X({el:yt,data:F})}};const T=ti(y)?{...y}:y.options;return T.id=v,T.name=u,T.install==null||T.install(t,T,u),t._initialized&&!T.functional&&requestAnimationFrame(()=>t[u](`[${v}],[data-${v}]`)),ss[v]=ss[`data-${v}`]=ti(y)?T:y},t.getComponents=u=>(u==null?void 0:u[s])||{},t.getComponent=(u,y)=>t.getComponents(u)[y],t.connect=u=>{if(u[s])for(const y in u[s])u[s][y]._callConnected();for(const y of u.getAttributeNames()){const v=co(y);v&&t[v](u)}},t.disconnect=u=>{for(const y in u[s])u[s][y]._callDisconnected()}}function co(t){const s=ss[t];return s&&(ti(s)?s:s.options).name}const Ei=function(t){this._init(t)};Ei.util=Bo,Ei.data="__uikit__",Ei.prefix="uk-",Ei.options={},Ei.version="3.15.22",tc(Ei),ha(Ei),ua(Ei),Ra(Ei),Lc(Ei);function xe(t){const{connect:s,disconnect:a}=t;if(!es||!window.MutationObserver)return;requestAnimationFrame(function(){I(document,"uikit:init",t),document.body&&fn(document.body,s),new MutationObserver(v=>v.forEach(u)).observe(document,{childList:!0,subtree:!0}),new MutationObserver(v=>v.forEach(y)).observe(document,{attributes:!0,subtree:!0}),t._initialized=!0});function u({addedNodes:v,removedNodes:T}){for(const z of v)fn(z,s);for(const z of T)fn(z,a)}function y({target:v,attributeName:T}){const z=co(T);if(z){var F;if(jt(v,T)){t[z](v);return}(F=t.getComponent(v,z))==null||F.$destroy()}}}var Wi={connected(){Nt(this.$el,this.$options.id)}},rs={data:{preload:5},methods:{lazyload(t=this.$el,s=this.$el){this.registerObserver(Gn(t,(a,u)=>{for(const y of ne(li(s)?s():s))ei('[loading="lazy"]',y).slice(0,this.preload-1).forEach(v=>Se(v,"loading"));for(const y of a.filter(({isIntersecting:v})=>v).map(({target:v})=>v))u.unobserve(y)}))}}},_n={props:{cls:Boolean,animation:"list",duration:Number,velocity:Number,origin:String,transition:String},data:{cls:!1,animation:[!1],duration:200,velocity:.2,origin:!1,transition:"ease",clsEnter:"uk-togglabe-enter",clsLeave:"uk-togglabe-leave"},computed:{hasAnimation({animation:t}){return!!t[0]},hasTransition({animation:t}){return["slide","reveal"].some(s=>Lt(t[0],s))}},methods:{toggleElement(t,s,a){return new Promise(u=>Promise.all(ne(t).map(y=>{const v=xi(s)?s:!this.isToggled(y);if(!I(y,`before${v?"show":"hide"}`,[this]))return Promise.reject();const T=(li(a)?a:a===!1||!this.hasAnimation?dl:this.hasTransition?he:Fa)(y,v,this),z=v?this.clsEnter:this.clsLeave;Nt(y,z),I(y,v?"show":"hide",[this]);const F=()=>{te(y,z),I(y,v?"shown":"hidden",[this])};return T?T.then(F,()=>(te(y,z),Promise.reject())):F()})).then(u,$e))},isToggled(t=this.$el){return[t]=ne(t),Ae(t,this.clsEnter)?!0:Ae(t,this.clsLeave)?!1:this.cls?Ae(t,this.cls.split(" ")[0]):pe(t)},_toggle(t,s){if(!t)return;s=Boolean(s);let a;this.cls?(a=kt(this.cls," ")||s!==Ae(t,this.cls),a&&Re(t,this.cls,kt(this.cls," ")?void 0:s)):(a=s===t.hidden,a&&(t.hidden=!s)),ei("[autofocus]",t).some(u=>pe(u)?u.focus()||!0:u.blur()),a&&I(t,"toggled",[s,this])}}};function dl(t,s,{_toggle:a}){return yn.cancel(t),ee.cancel(t),a(t,s)}async function he(t,s,{animation:a,duration:u,velocity:y,transition:v,_toggle:T}){var z;const[F="reveal",X="top"]=((z=a[0])==null?void 0:z.split("-"))||[],Y=[["left","right"],["top","bottom"]],yt=Y[kt(Y[0],X)?0:1],It=yt[1]===X,Kt=["width","height"][Y.indexOf(yt)],ke=`margin-${yt[0]}`,si=`margin-${X}`;let Je=le(t)[Kt];const Tr=ee.inProgress(t);await ee.cancel(t),s&&T(t,!0);const Go=Object.fromEntries(["padding","border","width","height","minWidth","minHeight","overflowY","overflowX",ke,si].map(wc=>[wc,t.style[wc]])),Zr=le(t),Wo=Ht(U(t,ke)),vc=Ht(U(t,si)),Xo=Zr[Kt]+vc;!Tr&&!s&&(Je+=vc);const[Hr]=Lr(t,"<div>");U(Hr,{boxSizing:"border-box",height:Zr.height,width:Zr.width,...U(t,["overflow","padding","borderTop","borderRight","borderBottom","borderLeft","borderImage",si])}),U(t,{padding:0,border:0,minWidth:0,minHeight:0,[si]:0,width:Zr.width,height:Zr.height,overflow:"hidden",[Kt]:Je});const Xa=Je/Xo;u=(y*Xo+u)*(s?1-Xa:Xa);const Bl={[Kt]:s?Xo:0};It&&(U(t,ke,Xo-Je+Wo),Bl[ke]=s?Wo:Xo+Wo),!It^F==="reveal"&&(U(Hr,ke,-Xo+Je),ee.start(Hr,{[ke]:s?0:-Xo},u,v));try{await ee.start(t,Bl,u,v)}finally{U(t,Go),ls(Hr.firstChild),s||T(t,!1)}}function Fa(t,s,a){yn.cancel(t);const{animation:u,duration:y,_toggle:v}=a;return s?(v(t,!0),yn.in(t,u[0],y,a.origin)):yn.out(t,u[1]||u[0],y,a.origin).then(()=>v(t,!1))}var pl={mixins:[Wi,rs,_n],props:{animation:Boolean,targets:String,active:null,collapsible:Boolean,multiple:Boolean,toggle:String,content:String,offset:Number},data:{targets:"> *",active:!1,animation:!0,collapsible:!0,multiple:!1,clsOpen:"uk-open",toggle:"> .uk-accordion-title",content:"> .uk-accordion-content",offset:0},computed:{items:{get({targets:t},s){return ei(t,s)},watch(t,s){if(s||Ae(t,this.clsOpen))return;const a=this.active!==!1&&t[Number(this.active)]||!this.collapsible&&t[0];a&&this.toggle(a,!1)},immediate:!0},toggles({toggle:t}){return this.items.map(s=>ae(t,s))},contents:{get({content:t}){return this.items.map(s=>ae(t,s))},watch(t){for(const s of t)gr(s,!Ae(this.items.find(a=>oe(s,a)),this.clsOpen))},immediate:!0}},connected(){this.lazyload()},events:[{name:"click",delegate(){return`${this.targets} ${this.$props.toggle}`},async handler(t){var s;t.preventDefault(),(s=this._off)==null||s.call(this),this._off=ic(t.target),await this.toggle(Xe(this.toggles,t.current)),this._off()}}],methods:{async toggle(t,s){t=this.items[Yt(t,this.items)];let a=[t];const u=ai(this.items,`.${this.clsOpen}`);!this.multiple&&!kt(u,a[0])&&(a=a.concat(u)),!(!this.collapsible&&u.length<2&&kt(u,t))&&await Promise.all(a.map(y=>this.toggleElement(y,!kt(u,y),(v,T)=>{if(Re(v,this.clsOpen,T),bt(ae(this.$props.toggle,v),"aria-expanded",T),s===!1||!this.animation){gr(ae(this.content,v),!T);return}return fl(v,T,this)})))}}};function gr(t,s){t&&(t.hidden=s)}async function fl(t,s,{content:a,duration:u,velocity:y,transition:v}){var T;a=((T=t._wrapper)==null?void 0:T.firstElementChild)||ae(a,t),t._wrapper||(t._wrapper=ir(a,"<div>"));const z=t._wrapper;U(z,"overflow","hidden");const F=Ht(U(z,"height"));await ee.cancel(z),gr(a,!1);const X=tn(["marginTop","marginBottom"],yt=>U(a,yt))+le(a).height,Y=F/X;u=(y*X+u)*(s?1-Y:Y),U(z,"height",F),await ee.start(z,{height:s?X:0},u,v),ls(a),delete t._wrapper,s||gr(a,!0)}function ic(t){const[s]=rn(t,!0);let a;return function u(){a=requestAnimationFrame(()=>{const{top:y}=t.getBoundingClientRect();y<0&&(s.scrollTop+=y),u()})}(),()=>requestAnimationFrame(()=>cancelAnimationFrame(a))}var nc={mixins:[Wi,_n],args:"animation",props:{animation:Boolean,close:String},data:{animation:!0,selClose:".uk-alert-close",duration:150},events:{name:"click",delegate(){return this.selClose},handler(t){t.preventDefault(),this.close()}},methods:{async close(){await this.toggleElement(this.$el,!1,$c),this.$destroy(!0)}}};function $c(t,s,{duration:a,transition:u,velocity:y}){const v=Ht(U(t,"height"));return U(t,"height",v),ee.start(t,{height:0,marginTop:0,marginBottom:0,paddingTop:0,paddingBottom:0,borderTop:0,borderBottom:0,opacity:0},y*v+a,u)}var Oa={args:"autoplay",props:{automute:Boolean,autoplay:Boolean},data:{automute:!1,autoplay:!0},connected(){this.inView=this.autoplay==="inview",this.inView&&!jt(this.$el,"preload")&&(this.$el.preload="none"),pn(this.$el,"iframe")&&!jt(this.$el,"allow")&&(this.$el.allow="autoplay"),this.automute&&al(this.$el),this.registerObserver(Gn(this.$el,()=>this.$emit(),{},!1))},update:{read({visible:t}){return ll(this.$el)?{prev:t,visible:pe(this.$el)&&U(this.$el,"visibility")!=="hidden",inView:this.inView&&Or(this.$el)}:!1},write({prev:t,visible:s,inView:a}){!s||this.inView&&!a?Rr(this.$el):(this.autoplay===!0&&!t||this.inView&&a)&&eo(this.$el)}}},bn={connected(){var t;this.registerObserver(nr(((t=this.$options.resizeTargets)==null?void 0:t.call(this))||this.$el,()=>this.$emit("resize")))}},ml={mixins:[bn,Oa],props:{width:Number,height:Number},data:{automute:!0},events:{"load loadedmetadata"(){this.$emit("resize")}},resizeTargets(){return[this.$el,fa(this.$el)||we(this.$el)]},update:{read(){const{ratio:t,cover:s}=qt,{$el:a,width:u,height:y}=this;let v={width:u,height:y};if(!v.width||!v.height){const X={width:a.naturalWidth||a.videoWidth||a.clientWidth,height:a.naturalHeight||a.videoHeight||a.clientHeight};v.width?v=t(X,"width",v.width):y?v=t(X,"height",v.height):v=X}const{offsetHeight:T,offsetWidth:z}=fa(a)||we(a),F=s(v,{width:z+(z%2?1:0),height:T+(T%2?1:0)});return!F.width||!F.height?!1:F},write({height:t,width:s}){U(this.$el,{height:t,width:s})},events:["resize"]}};function fa(t){for(;t=we(t);)if(U(t,"position")!=="static")return t}var Ts={props:{container:Boolean},data:{container:!0},computed:{container({container:t}){return t===!0&&this.$container||t&&ae(t)}}},Wn={props:{pos:String,offset:null,flip:Boolean,shift:Boolean,inset:Boolean},data:{pos:`bottom-${Ci?"right":"left"}`,offset:!1,flip:!0,shift:!0,inset:!1},connected(){this.pos=this.$props.pos.split("-").concat("center").slice(0,2),[this.dir,this.align]=this.pos,this.axis=kt(["top","bottom"],this.dir)?"y":"x"},methods:{positionAt(t,s,a){let u=[this.getPositionOffset(t),this.getShiftOffset(t)];const y=[this.flip&&"flip",this.shift&&"shift"],v={element:[this.inset?this.dir:$r(this.dir),this.align],target:[this.dir,this.align]};if(this.axis==="y"){for(const Y in v)v[Y].reverse();u.reverse(),y.reverse()}const[T]=rn(t),{scrollTop:z,scrollLeft:F}=T,X=le(t);U(t,{top:-X.height,left:-X.width}),cl(t,s,{attach:v,offset:u,boundary:a,placement:y,viewportOffset:this.getViewportOffset(t)}),T.scrollTop=z,T.scrollLeft=F},getPositionOffset(t){return sn(this.offset===!1?U(t,"--uk-position-offset"):this.offset,this.axis==="x"?"width":"height",t)*(kt(["left","top"],this.dir)?-1:1)*(this.inset?-1:1)},getShiftOffset(t){return this.align==="center"?0:sn(U(t,"--uk-position-shift-offset"),this.axis==="y"?"width":"height",t)*(kt(["left","top"],this.align)?1:-1)},getViewportOffset(t){return sn(U(t,"--uk-position-viewport-offset"))}}};const Mi=[];var Ro={mixins:[Wi,Ts,_n],props:{selPanel:String,selClose:String,escClose:Boolean,bgClose:Boolean,stack:Boolean},data:{cls:"uk-open",escClose:!0,bgClose:!0,overlay:!0,stack:!1},computed:{panel({selPanel:t},s){return ae(t,s)},transitionElement(){return this.panel},bgClose({bgClose:t}){return t&&this.panel}},beforeDisconnect(){kt(Mi,this)&&this.toggleElement(this.$el,!1,!1)},events:[{name:"click",delegate(){return`${this.selClose},a[href*="#"]`},handler(t){const{current:s,defaultPrevented:a}=t,{hash:u}=s;!a&&u&&yr(s)&&!oe(u,this.$el)&&ae(u,document.body)?this.hide():Oe(s,this.selClose)&&(t.preventDefault(),this.hide())}},{name:"toggle",self:!0,handler(t){t.defaultPrevented||(t.preventDefault(),this.isToggled()===kt(Mi,this)&&this.toggle())}},{name:"beforeshow",self:!0,handler(t){if(kt(Mi,this))return!1;!this.stack&&Mi.length?(Promise.all(Mi.map(s=>s.hide())).then(this.show),t.preventDefault()):Mi.push(this)}},{name:"show",self:!0,handler(){Z(this.$el,"hide",_e(document,"focusin",t=>{zn(Mi)===this&&!oe(t.target,this.$el)&&this.$el.focus()})),this.overlay&&(Z(this.$el,"hidden",ho(this.$el),{self:!0}),Z(this.$el,"hidden",hs(),{self:!0})),this.stack&&U(this.$el,"zIndex",Ht(U(this.$el,"zIndex"))+Mi.length),Nt(document.documentElement,this.clsPage),this.bgClose&&Z(this.$el,"hide",_e(document,un,({target:t})=>{zn(Mi)!==this||this.overlay&&!oe(t,this.$el)||oe(t,this.panel)||Z(document,`${Hn} ${Jr} scroll`,({defaultPrevented:s,type:a,target:u})=>{!s&&a===Hn&&t===u&&this.hide()},!0)}),{self:!0}),this.escClose&&Z(this.$el,"hide",_e(document,"keydown",t=>{t.keyCode===27&&zn(Mi)===this&&this.hide()}),{self:!0})}},{name:"shown",self:!0,handler(){en(this.$el)||bt(this.$el,"tabindex","-1"),ae(":focus",this.$el)||this.$el.focus()}},{name:"hidden",self:!0,handler(){kt(Mi,this)&&Mi.splice(Mi.indexOf(this),1),U(this.$el,"zIndex",""),Mi.some(t=>t.clsPage===this.clsPage)||te(document.documentElement,this.clsPage)}}],methods:{toggle(){return this.isToggled()?this.hide():this.show()},show(){return this.container&&we(this.$el)!==this.container?(mi(this.container,this.$el),new Promise(t=>requestAnimationFrame(()=>this.show().then(t)))):this.toggleElement(this.$el,!0,Ur)},hide(){return this.toggleElement(this.$el,!1,Ur)}}};function Ur(t,s,{transitionElement:a,_toggle:u}){return new Promise((y,v)=>Z(t,"show hide",()=>{t._reject==null||t._reject(),t._reject=v,u(t,s);const T=Z(a,"transitionstart",()=>{Z(a,"transitionend transitioncancel",y,{self:!0}),clearTimeout(z)},{self:!0}),z=setTimeout(()=>{T(),y()},gl(U(a,"transitionDuration")))})).then(()=>delete t._reject)}function gl(t){return t?lt(t,"ms")?Ht(t):Ht(t)*1e3:0}function ho(t){if(CSS.supports("overscroll-behavior","contain")){const u=[t,...on(t,y=>/auto|scroll/.test(U(y,"overflow")))];return U(u,"overscrollBehavior","contain"),()=>U(u,"overscrollBehavior","")}let s;const a=[_e(t,"touchstart",({targetTouches:u})=>{u.length===1&&(s=u[0].clientY)},{passive:!0}),_e(t,"touchmove",u=>{if(u.targetTouches.length!==1)return;let[y]=rn(u.target);oe(y,t)||(y=t);const v=u.targetTouches[0].clientY-s,{scrollTop:T,scrollHeight:z,clientHeight:F}=y;(F>=z||T===0&&v>0||z-T<=F&&v<0)&&u.cancelable&&u.preventDefault()},{passive:!1})];return()=>a.forEach(u=>u())}let Fo;function hs(){if(Fo)return $e;Fo=!0;const{scrollingElement:t}=document;return U(t,{overflowY:"hidden",touchAction:"none",paddingRight:qs(window)-t.clientWidth}),()=>{Fo=!1,U(t,{overflowY:"",touchAction:"",paddingRight:""})}}function on(t,s){const a=[];return fn(t,u=>{s(u)&&a.push(u)}),a}function yr(t){return["origin","pathname","search"].every(s=>t[s]===location[s])}let vi;var Na={mixins:[Ts,rs,Wn,_n],args:"pos",props:{mode:"list",toggle:Boolean,boundary:Boolean,boundaryX:Boolean,boundaryY:Boolean,target:Boolean,targetX:Boolean,targetY:Boolean,stretch:Boolean,delayShow:Number,delayHide:Number,autoUpdate:Boolean,clsDrop:String,animateOut:Boolean,bgScroll:Boolean},data:{mode:["click","hover"],toggle:"- *",boundary:!1,boundaryX:!1,boundaryY:!1,target:!1,targetX:!1,targetY:!1,stretch:!1,delayShow:0,delayHide:800,autoUpdate:!0,clsDrop:!1,animateOut:!1,bgScroll:!0,animation:["uk-animation-fade"],cls:"uk-open",container:!1},computed:{boundary({boundary:t,boundaryX:s,boundaryY:a},u){return[Pe(s||t,u)||window,Pe(a||t,u)||window]},target({target:t,targetX:s,targetY:a},u){return s=s||t||this.targetEl,a=a||t||this.targetEl,[s===!0?window:Pe(s,u),a===!0?window:Pe(a,u)]}},created(){this.tracker=new Qr},beforeConnect(){this.clsDrop=this.$props.clsDrop||`uk-${this.$options.name}`},connected(){Nt(this.$el,this.clsDrop),this.toggle&&!this.targetEl&&(this.targetEl=this.$create("toggle",Pe(this.toggle,this.$el),{target:this.$el,mode:this.mode}).$el,bt(this.targetEl,"aria-haspopup",!0),this.lazyload(this.targetEl)),this._style=(({width:t,height:s})=>({width:t,height:s}))(this.$el.style)},disconnected(){this.isActive()&&(this.hide(!1),vi=null),U(this.$el,this._style)},events:[{name:"click",delegate(){return`.${this.clsDrop}-close`},handler(t){t.preventDefault(),this.hide(!1)}},{name:"click",delegate(){return'a[href*="#"]'},handler({defaultPrevented:t,current:s}){const{hash:a}=s;!t&&a&&yr(s)&&!oe(a,this.$el)&&this.hide(!1)}},{name:"beforescroll",handler(){this.hide(!1)}},{name:"toggle",self:!0,handler(t,s){t.preventDefault(),this.isToggled()?this.hide(!1):this.show(s==null?void 0:s.$el,!1)}},{name:"toggleshow",self:!0,handler(t,s){t.preventDefault(),this.show(s==null?void 0:s.$el)}},{name:"togglehide",self:!0,handler(t){t.preventDefault(),Oe(this.$el,":focus,:hover")||this.hide()}},{name:`${$n} focusin`,filter(){return kt(this.mode,"hover")},handler(t){Tt(t)||this.clearTimers()}},{name:`${Hs} focusout`,filter(){return kt(this.mode,"hover")},handler(t){!Tt(t)&&t.relatedTarget&&this.hide()}},{name:"toggled",self:!0,handler(t,s){s&&(this.clearTimers(),this.position())}},{name:"show",self:!0,handler(){vi=this,this.tracker.init();const t=()=>this.$emit(),s=[_e(document,un,({target:a})=>!oe(a,this.$el)&&Z(document,`${Hn} ${Jr} scroll`,({defaultPrevented:u,type:y,target:v})=>{!u&&y===Hn&&a===v&&!(this.targetEl&&oe(a,this.targetEl))&&this.hide(!1)},!0)),_e(document,"keydown",a=>{a.keyCode===27&&this.hide(!1)}),_e(window,"resize",t),(()=>{const a=nr(Is(this.$el).concat(this.target),t);return()=>a.disconnect()})(),...this.autoUpdate?[_e([document,Is(this.$el)],"scroll",t,{passive:!0})]:[],...this.bgScroll?[]:[ho(this.$el),hs()]];Z(this.$el,"hide",()=>s.forEach(a=>a()),{self:!0})}},{name:"beforehide",self:!0,handler(){this.clearTimers()}},{name:"hide",handler({target:t}){if(this.$el!==t){vi=vi===null&&oe(t,this.$el)&&this.isToggled()?this:vi;return}vi=this.isActive()?null:vi,this.tracker.cancel()}}],update:{write(){this.isToggled()&&!Ae(this.$el,this.clsEnter)&&this.position()}},methods:{show(t=this.targetEl,s=!0){if(this.isToggled()&&t&&this.targetEl&&t!==this.targetEl&&this.hide(!1,!1),this.targetEl=t,this.clearTimers(),!this.isActive()){if(vi){if(s&&vi.isDelaying){this.showTimer=setTimeout(()=>Oe(t,":hover")&&this.show(),10);return}let a;for(;vi&&a!==vi&&!oe(this.$el,vi.$el);)a=vi,vi.hide(!1,!1)}this.container&&we(this.$el)!==this.container&&mi(this.container,this.$el),this.showTimer=setTimeout(()=>this.toggleElement(this.$el,!0),s&&this.delayShow||0)}},hide(t=!0,s=!0){const a=()=>this.toggleElement(this.$el,!1,this.animateOut&&s);this.clearTimers(),this.isDelaying=sc(this.$el).some(u=>this.tracker.movesTo(u)),t&&this.isDelaying?this.hideTimer=setTimeout(this.hide,50):t&&this.delayHide?this.hideTimer=setTimeout(a,this.delayHide):a()},clearTimers(){clearTimeout(this.showTimer),clearTimeout(this.hideTimer),this.showTimer=null,this.hideTimer=null,this.isDelaying=!1},isActive(){return vi===this},position(){te(this.$el,`${this.clsDrop}-stack`),U(this.$el,this._style),this.$el.hidden=!0;const t=this.target.map(y=>rc(this.$el,y)),s=this.getViewportOffset(this.$el),a=[[0,["x","width","left","right"]],[1,["y","height","top","bottom"]]];for(const[y,[v,T]]of a)this.axis!==v&&kt([v,!0],this.stretch)&&U(this.$el,{[T]:Math.min(He(this.boundary[y])[T],t[y][T]-2*s),[`overflow-${v}`]:"auto"});const u=t[0].width-2*s;this.$el.offsetWidth>u&&Nt(this.$el,`${this.clsDrop}-stack`),U(this.$el,"maxWidth",u),this.$el.hidden=!1,this.positionAt(this.$el,this.target,this.boundary);for(const[y,[v,T,z,F]]of a)if(this.axis===v&&kt([v,!0],this.stretch)){const X=Math.abs(this.getPositionOffset(this.$el)),Y=He(this.target[y]),yt=He(this.$el);U(this.$el,{[T]:(Y[z]>yt[z]?Y[z]-Math.max(He(this.boundary[y])[z],t[y][z]+s):Math.min(He(this.boundary[y])[F],t[y][F]-s)-Y[F])-X,[`overflow-${v}`]:"auto"}),this.positionAt(this.$el,this.target,this.boundary)}}}};function sc(t){const s=[];return fn(t,a=>U(a,"position")!=="static"&&s.push(a)),s}function rc(t,s){return Ni(Is(s).find(a=>oe(t,a)))}var Dc={mixins:[Wi],args:"target",props:{target:Boolean},data:{target:!1},computed:{input(t,s){return ae(ci,s)},state(){return this.input.nextElementSibling},target({target:t},s){return t&&(t===!0&&we(this.input)===s&&this.input.nextElementSibling||ae(t,s))}},update(){var t;const{target:s,input:a}=this;if(!s)return;let u;const y=vt(s)?"value":"textContent",v=s[y],T=(t=a.files)!=null&&t[0]?a.files[0].name:Oe(a,"select")&&(u=ei("option",a).filter(z=>z.selected)[0])?u.textContent:a.value;v!==T&&(s[y]=T)},events:[{name:"change",handler(){this.$emit()}},{name:"reset",el(){return fi(this.$el,"form")},handler(){this.$emit()}}]},Ms={mixins:[bn],props:{margin:String,firstColumn:Boolean},data:{margin:"uk-margin-small-top",firstColumn:"uk-first-column"},resizeTargets(){return[this.$el,...Pi(this.$el.children)]},connected(){this.registerObserver(Ma(this.$el,()=>this.$reset(),{childList:!0,attributes:!0,attributeFilter:["style"]}))},update:{read(){const t=_r(this.$el.children);return{rows:t,columns:ze(t)}},write({columns:t,rows:s}){for(const a of s)for(const u of a)Re(u,this.margin,s[0]!==a),Re(u,this.firstColumn,t[0].includes(u))},events:["resize"]}};function _r(t){return Ue(t,"top","bottom")}function ze(t){const s=[];for(const a of t){const u=Ue(a,"left","right");for(let y=0;y<u.length;y++)s[y]=s[y]?s[y].concat(u[y]):u[y]}return Ci?s.reverse():s}function Ue(t,s,a){const u=[[]];for(const y of t){if(!pe(y))continue;let v=Ps(y);for(let T=u.length-1;T>=0;T--){const z=u[T];if(!z[0]){z.push(y);break}let F;if(z[0].offsetParent===y.offsetParent?F=Ps(z[0]):(v=Ps(y,!0),F=Ps(z[0],!0)),v[s]>=F[a]-1&&v[s]!==F[s]){u.push([y]);break}if(v[a]-1>F[s]||v[s]===F[s]){z.push(y);break}if(T===0){u.unshift([y]);break}}}return u}function Ps(t,s=!1){let{offsetTop:a,offsetLeft:u,offsetHeight:y,offsetWidth:v}=t;return s&&([a,u]=ts(t)),{top:a,left:u,bottom:a+y,right:u+v}}var xr={connected(){sr(this._uid,()=>this.$emit("scroll"))},disconnected(){zs(this._uid)}};const us=new Map;let an;function sr(t,s){an=an||_e(window,"scroll",()=>us.forEach(a=>a()),{passive:!0,capture:!0}),us.set(t,s)}function zs(t){us.delete(t),an&&!us.size&&(an(),an=null)}var oc={extends:Ms,mixins:[Wi],name:"grid",props:{masonry:Boolean,parallax:Number},data:{margin:"uk-grid-margin",clsStack:"uk-grid-stack",masonry:!1,parallax:0},connected(){this.masonry&&Nt(this.$el,"uk-flex-top uk-flex-wrap-top"),this.parallax&&sr(this._uid,()=>this.$emit("scroll"))},disconnected(){zs(this._uid)},update:[{write({columns:t}){Re(this.$el,this.clsStack,t.length<2)},events:["resize"]},{read(t){let{columns:s,rows:a}=t;if(!s.length||!this.masonry&&!this.parallax||rr(this.$el))return t.translates=!1,!1;let u=!1;const y=Pt(this.$el),v=s.map(X=>tn(X,"offsetHeight")),T=Sn(y,this.margin)*(a.length-1),z=Math.max(...v)+T;this.masonry&&(s=s.map(X=>hn(X,"offsetTop")),u=xn(a,s));let F=Math.abs(this.parallax);return F&&(F=v.reduce((X,Y,yt)=>Math.max(X,Y+T+(yt%2?F:F/8)-z),0)),{padding:F,columns:s,translates:u,height:u?z:""}},write({height:t,padding:s}){U(this.$el,"paddingBottom",s||""),t!==!1&&U(this.$el,"height",t)},events:["resize"]},{read(){return this.parallax&&rr(this.$el)?!1:{scrolled:this.parallax?Lo(this.$el)*Math.abs(this.parallax):!1}},write({columns:t,scrolled:s,translates:a}){s===!1&&!a||t.forEach((u,y)=>u.forEach((v,T)=>U(v,"transform",!s&&!a?"":`translateY(${(a&&-a[y][T])+(s?y%2?s:s/8:0)}px)`)))},events:["scroll","resize"]}]};function rr(t){return Pt(t).some(s=>U(s,"position")==="absolute")}function xn(t,s){const a=t.map(u=>Math.max(...u.map(y=>y.offsetHeight)));return s.map(u=>{let y=0;return u.map((v,T)=>y+=T?a[T-1]-u[T-1].offsetHeight:0)})}function Sn(t,s){const[a]=t.filter(u=>Ae(u,s));return Ht(a?U(a,"marginTop"):U(t[0],"paddingLeft"))}var yl={mixins:[bn],args:"target",props:{target:String,row:Boolean},data:{target:"> *",row:!0},computed:{elements:{get({target:t},s){return ei(t,s)},watch(){this.$reset()}}},resizeTargets(){return[this.$el,...this.elements]},update:{read(){return{rows:(this.row?_r(this.elements):[this.elements]).map(uo)}},write({rows:t}){for(const{heights:s,elements:a}of t)a.forEach((u,y)=>U(u,"minHeight",s[y]))},events:["resize"]}};function uo(t){if(t.length<2)return{heights:[""],elements:t};U(t,"minHeight","");let s=t.map(d);const a=Math.max(...s);return{heights:t.map((u,y)=>s[y].toFixed(2)===a.toFixed(2)?"":a),elements:t}}function d(t){let s=!1;pe(t)||(s=t.style.display,U(t,"display","block","important"));const a=le(t).height-hi(t,"height","content-box");return s!==!1&&U(t,"display",s),a}var i={mixins:[bn],props:{expand:Boolean,offsetTop:Boolean,offsetBottom:Boolean,minHeight:Number},data:{expand:!1,offsetTop:!1,offsetBottom:!1,minHeight:0},resizeTargets(){return[this.$el,...rn(this.$el)]},update:{read({minHeight:t}){if(!pe(this.$el))return!1;let s="";const a=hi(this.$el,"height","content-box"),{body:u,scrollingElement:y}=document,[v]=rn(this.$el),{height:T}=Ni(v===u?y:v);if(this.expand)s=Math.max(T-(le(v).height-le(this.$el).height)-a,0);else{const z=y===v||u===v;if(s=`calc(${z?"100vh":`${T}px`}`,this.offsetTop)if(z){const F=ts(this.$el)[0]-ts(v)[0];s+=F>0&&F<T/2?` - ${F}px`:""}else s+=` - ${U(v,"paddingTop")}`;this.offsetBottom===!0?s+=` - ${le(this.$el.nextElementSibling).height}px`:Hi(this.offsetBottom)?s+=` - ${this.offsetBottom}vh`:this.offsetBottom&&lt(this.offsetBottom,"px")?s+=` - ${Ht(this.offsetBottom)}px`:Me(this.offsetBottom)&&(s+=` - ${le(Pe(this.offsetBottom,this.$el)).height}px`),s+=`${a?` - ${a}px`:""})`}return{minHeight:s,prev:t}},write({minHeight:t}){U(this.$el,{minHeight:t}),this.minHeight&&Ht(U(this.$el,"minHeight"))<this.minHeight&&U(this.$el,"minHeight",this.minHeight)},events:["resize"]}},o={args:"src",props:{id:Boolean,icon:String,src:String,style:String,width:Number,height:Number,ratio:Number,class:String,strokeAnimation:Boolean,attributes:"list"},data:{ratio:1,include:["style","class"],class:"",strokeAnimation:!1},beforeConnect(){this.class+=" uk-svg"},connected(){!this.icon&&kt(this.src,"#")&&([this.src,this.icon]=this.src.split("#")),this.svg=this.getSvg().then(t=>{if(this._connected){const s=$(t,this.$el);return this.svgEl&&s!==this.svgEl&&Vi(this.svgEl),this.applyAttributes(s,t),this.svgEl=s}},$e),this.strokeAnimation&&this.svg.then(t=>{this._connected&&t&&(E(t),this.registerObserver(Gn(t,(s,a)=>{E(t),a.disconnect()})))})},disconnected(){this.svg.then(t=>{this._connected||(Ve(this.$el)&&(this.$el.hidden=!1),Vi(t),this.svgEl=null)}),this.svg=null},methods:{async getSvg(){return pn(this.$el,"img")&&!this.$el.complete&&this.$el.loading==="lazy"?new Promise(t=>Z(this.$el,"load",()=>t(this.getSvg()))):f(await c(this.src),this.icon)||Promise.reject("SVG not found.")},applyAttributes(t,s){for(const v in this.$options.props)kt(this.include,v)&&v in this&&bt(t,v,this[v]);for(const v in this.attributes){const[T,z]=this.attributes[v].split(":",2);bt(t,T,z)}this.id||Se(t,"id");const a=["width","height"];let u=a.map(v=>this[v]);u.some(v=>v)||(u=a.map(v=>bt(s,v)));const y=bt(s,"viewBox");y&&!u.some(v=>v)&&(u=y.split(" ").slice(2)),u.forEach((v,T)=>bt(t,a[T],Ht(v)*this.ratio||null))}}};const c=Qt(async t=>t?Lt(t,"data:")?decodeURIComponent(t.split(",")[1]):(await fetch(t)).text():Promise.reject());function f(t,s){var a;return s&&kt(t,"<symbol")&&(t=S(t,s)||t),t=ae(t.substr(t.indexOf("<svg"))),((a=t)==null?void 0:a.hasChildNodes())&&t}const _=/<symbol([^]*?id=(['"])(.+?)\2[^]*?<\/)symbol>/g,w={};function S(t,s){if(!w[t]){w[t]={},_.lastIndex=0;let a;for(;a=_.exec(t);)w[t][a[3]]=`<svg xmlns="http://www.w3.org/2000/svg"${a[1]}svg>`}return w[t][s]}function E(t){const s=P(t);s&&t.style.setProperty("--uk-animation-stroke",s)}function P(t){return Math.ceil(Math.max(0,...ei("[stroke]",t).map(s=>{try{return s.getTotalLength()}catch{return 0}})))}function $(t,s){if(Ve(s)||pn(s,"canvas")){s.hidden=!0;const u=s.nextElementSibling;return O(t,u)?u:vs(s,t)}const a=s.lastElementChild;return O(t,a)?a:mi(s,t)}function O(t,s){return pn(t,"svg")&&pn(s,"svg")&&t.innerHTML===s.innerHTML}var j='<svg width="14" height="14" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><line fill="none" stroke="#000" stroke-width="1.1" x1="1" y1="1" x2="13" y2="13"/><line fill="none" stroke="#000" stroke-width="1.1" x1="13" y1="1" x2="1" y2="13"/></svg>',tt='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><line fill="none" stroke="#000" stroke-width="1.4" x1="1" y1="1" x2="19" y2="19"/><line fill="none" stroke="#000" stroke-width="1.4" x1="19" y1="1" x2="1" y2="19"/></svg>',J='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><rect x="9" y="4" width="1" height="11"/><rect x="4" y="9" width="11" height="1"/></svg>',Q='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12"><polyline fill="none" stroke="#000" stroke-width="1.1" points="1 3.5 6 8.5 11 3.5"/></svg>',ht='<svg width="14" height="14" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" stroke-width="1.1" points="1 4 7 10 13 4"/></svg>',mt='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12"><polyline fill="none" stroke="#000" stroke-width="1.1" points="1 3.5 6 8.5 11 3.5"/></svg>',xt='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><style>.uk-navbar-toggle-animate svg>[class*=line-]{transition:.2s ease-in-out;transition-property:transform,opacity;transform-origin:center;opacity:1}.uk-navbar-toggle svg>.line-3{opacity:0}.uk-navbar-toggle-animate[aria-expanded=true] svg>.line-3{opacity:1}.uk-navbar-toggle-animate[aria-expanded=true] svg>.line-2{transform:rotate(45deg)}.uk-navbar-toggle-animate[aria-expanded=true] svg>.line-3{transform:rotate(-45deg)}.uk-navbar-toggle-animate[aria-expanded=true] svg>.line-1,.uk-navbar-toggle-animate[aria-expanded=true] svg>.line-4{opacity:0}.uk-navbar-toggle-animate[aria-expanded=true] svg>.line-1{transform:translateY(6px) scaleX(0)}.uk-navbar-toggle-animate[aria-expanded=true] svg>.line-4{transform:translateY(-6px) scaleX(0)}</style><rect class="line-1" y="3" width="20" height="2"/><rect class="line-2" y="9" width="20" height="2"/><rect class="line-3" y="9" width="20" height="2"/><rect class="line-4" y="15" width="20" height="2"/></svg>',it='<svg width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><rect x="19" y="0" width="1" height="40"/><rect x="0" y="19" width="40" height="1"/></svg>',Et='<svg width="7" height="12" viewBox="0 0 7 12" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" stroke-width="1.2" points="1 1 6 6 1 11"/></svg>',wt='<svg width="7" height="12" viewBox="0 0 7 12" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" stroke-width="1.2" points="6 1 1 6 6 11"/></svg>',$t='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle fill="none" stroke="#000" stroke-width="1.1" cx="9" cy="9" r="7"/><path fill="none" stroke="#000" stroke-width="1.1" d="M14,14 L18,18 L14,14 Z"/></svg>',Dt='<svg width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><circle fill="none" stroke="#000" stroke-width="1.8" cx="17.5" cy="17.5" r="16.5"/><line fill="none" stroke="#000" stroke-width="1.8" x1="38" y1="39" x2="29" y2="30"/></svg>',Wt='<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><circle fill="none" stroke="#000" stroke-width="1.1" cx="10.5" cy="10.5" r="9.5"/><line fill="none" stroke="#000" stroke-width="1.1" x1="23" y1="23" x2="17" y2="17"/></svg>',zt='<svg width="14" height="24" viewBox="0 0 14 24" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" stroke-width="1.4" points="1.225,23 12.775,12 1.225,1 "/></svg>',fe='<svg width="25" height="40" viewBox="0 0 25 40" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" stroke-width="2" points="4.002,38.547 22.527,20.024 4,1.5 "/></svg>',se='<svg width="14" height="24" viewBox="0 0 14 24" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" stroke-width="1.4" points="12.775,1 1.225,12 12.775,23 "/></svg>',ye='<svg width="25" height="40" viewBox="0 0 25 40" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" stroke-width="2" points="20.527,1.5 2,20.024 20.525,38.547 "/></svg>',ni='<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><circle fill="none" stroke="#000" cx="15" cy="15" r="14"/></svg>',di='<svg width="18" height="10" viewBox="0 0 18 10" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" stroke-width="1.2" points="1 9 9 1 17 9 "/></svg>';const Le={spinner:ni,totop:di,marker:J,"close-icon":j,"close-large":tt,"nav-parent-icon":Q,"nav-parent-icon-large":ht,"navbar-parent-icon":mt,"navbar-toggle-icon":xt,"overlay-icon":it,"pagination-next":Et,"pagination-previous":wt,"search-icon":$t,"search-large":Dt,"search-navbar":Wt,"slidenav-next":zt,"slidenav-next-large":fe,"slidenav-previous":se,"slidenav-previous-large":ye},Ii={install:ar,extends:o,args:"icon",props:["icon"],data:{include:[]},isIcon:!0,beforeConnect(){Nt(this.$el,"uk-icon")},methods:{async getSvg(){const t=Vr(this.icon);if(!t)throw"Icon not found.";return t}}},Ke={args:!1,extends:Ii,data:t=>({icon:et(t.constructor.options.name)}),beforeConnect(){Nt(this.$el,this.$options.id)}},ki={extends:Ke,beforeConnect(){const t=this.$props.icon;this.icon=fi(this.$el,".uk-nav-primary")?`${t}-large`:t}},wi={extends:Ke,beforeConnect(){Nt(this.$el,"uk-slidenav");const t=this.$props.icon;this.icon=Ae(this.$el,"uk-slidenav-large")?`${t}-large`:t}},qi={extends:Ke,beforeConnect(){this.icon=Ae(this.$el,"uk-search-icon")&&Zi(this.$el,".uk-search-large").length?"search-large":Zi(this.$el,".uk-search-navbar").length?"search-navbar":this.$props.icon}},Dn={extends:Ke,beforeConnect(){this.icon=`close-${Ae(this.$el,"uk-close-large")?"large":"icon"}`}},or={extends:Ke,methods:{async getSvg(){const t=await Ii.methods.getSvg.call(this);return this.ratio!==1&&U(ae("circle",t),"strokeWidth",1/this.ratio),t}}},jn={};function ar(t){t.icon.add=(s,a)=>{const u=Me(s)?{[s]:a}:s;Gi(u,(y,v)=>{Le[v]=y,delete jn[v]}),t._initialized&&fn(document.body,y=>Gi(t.getComponents(y),v=>{v.$options.isIcon&&v.icon in u&&v.$reset()}))}}function Vr(t){return Le[t]?(jn[t]||(jn[t]=ae((Le[Ls(t)]||Le[t]).trim())),jn[t].cloneNode(!0)):null}function Ls(t){return Ci?ys(ys(t,"left","right"),"previous","next"):t}const ds=es&&"loading"in HTMLImageElement.prototype;var vr={args:"dataSrc",props:{dataSrc:String,sources:String,margin:String,target:String,loading:String},data:{dataSrc:"",sources:!1,margin:"50%",target:!1,loading:"lazy"},connected(){if(this.loading!=="lazy"){this.load();return}const t=[this.$el,...nn(this.$props.target,this.$el)];ds&&Fn(this.$el)&&(this.$el.loading="lazy",jr(this.$el),t.length===1)||(ln(this.$el),this.registerObserver(Gn(t,(s,a)=>{this.load(),a.disconnect()},{rootMargin:this.margin})))},disconnected(){this._data.image&&(this._data.image.onload="")},methods:{load(){if(this._data.image)return this._data.image;const t=Fn(this.$el)?this.$el:Fi(this.$el,this.dataSrc,this.sources);return Se(t,"loading"),jr(this.$el,t.currentSrc),this._data.image=t}}};function jr(t,s){if(Fn(t)){const a=we(t);(pn(a,"picture")?Pt(a):[t]).forEach(u=>pi(u,u))}else s&&!kt(t.style.backgroundImage,s)&&(U(t,"backgroundImage",`url(${Us(s)})`),I(t,R("load",!1)))}const Mn=["data-src","data-srcset","sizes"];function pi(t,s){Mn.forEach(a=>{const u=ie(t,a);u&&bt(s,a.replace(/^(data-)+/,""),u)})}function Fi(t,s,a){const u=new Image;return Bn(u,a),pi(t,u),u.onload=()=>{jr(t,u.currentSrc)},bt(u,"src",s),u}function Bn(t,s){if(s=Rn(s),s.length){const a=Vn("<picture>");for(const u of s){const y=Vn("<source>");bt(y,u),mi(a,y)}mi(a,t)}}function Rn(t){if(!t)return[];if(Lt(t,"["))try{t=JSON.parse(t)}catch{t=[]}else t=Di(t);return Xt(t)||(t=[t]),t.filter(s=>!gn(s))}function ln(t){Fn(t)&&!jt(t,"src")&&bt(t,"src",'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg"></svg>')}function Fn(t){return pn(t,"img")}var Cs={props:{media:Boolean},data:{media:!1},connected(){const t=_l(this.media,this.$el);if(this.matchMedia=!0,t){this.mediaObj=window.matchMedia(t);const s=()=>{this.matchMedia=this.mediaObj.matches,I(this.$el,R("mediachange",!1,!0,[this.mediaObj]))};this.offMediaObj=_e(this.mediaObj,"change",()=>{s(),this.$emit("resize")}),s()}},disconnected(){var t;(t=this.offMediaObj)==null||t.call(this)}};function _l(t,s){if(Me(t)){if(Lt(t,"@"))t=Ht(U(s,`--uk-breakpoint-${t.substr(1)}`));else if(isNaN(t))return t}return t&&Hi(t)?`(min-width: ${t}px)`:""}var Oo={mixins:[Wi,Cs,bn],props:{fill:String},data:{fill:"",clsWrapper:"uk-leader-fill",clsHide:"uk-leader-hide",attrFill:"data-fill"},computed:{fill({fill:t}){return t||U(this.$el,"--uk-leader-fill-content")}},connected(){[this.wrapper]=Lr(this.$el,`<span class="${this.clsWrapper}">`)},disconnected(){ls(this.wrapper.childNodes)},update:{read(){return{width:Math.trunc(this.$el.offsetWidth/2),fill:this.fill,hide:!this.matchMedia}},write({width:t,fill:s,hide:a}){Re(this.wrapper,this.clsHide,a),bt(this.wrapper,this.attrFill,new Array(t).join(s))},events:["resize"]}},ac={install:xl,mixins:[Ro],data:{clsPage:"uk-modal-page",selPanel:".uk-modal-dialog",selClose:".uk-modal-close, .uk-modal-close-default, .uk-modal-close-outside, .uk-modal-close-full"},events:[{name:"show",self:!0,handler(){Ae(this.panel,"uk-margin-auto-vertical")?Nt(this.$el,"uk-flex"):U(this.$el,"display","block"),Oi(this.$el)}},{name:"hidden",self:!0,handler(){U(this.$el,"display",""),te(this.$el,"uk-flex")}}]};function xl({modal:t}){t.dialog=function(a,u){const y=t(`<div class="uk-modal"> <div class="uk-modal-dialog">${a}</div> </div>`,u);return y.show(),_e(y.$el,"hidden",async()=>{await Promise.resolve(),y.$destroy(!0)},{self:!0}),y},t.alert=function(a,u){return s(({labels:y})=>`<div class="uk-modal-body">${Me(a)?a:Un(a)}</div> <div class="uk-modal-footer uk-text-right"> <button class="uk-button uk-button-primary uk-modal-close" autofocus>${y.ok}</button> </div>`,u,y=>y.resolve())},t.confirm=function(a,u){return s(({labels:y})=>`<form> <div class="uk-modal-body">${Me(a)?a:Un(a)}</div> <div class="uk-modal-footer uk-text-right"> <button class="uk-button uk-button-default uk-modal-close" type="button">${y.cancel}</button> <button class="uk-button uk-button-primary" autofocus>${y.ok}</button> </div> </form>`,u,y=>y.reject())},t.prompt=function(a,u,y){return s(({labels:v})=>`<form class="uk-form-stacked"> <div class="uk-modal-body"> <label>${Me(a)?a:Un(a)}</label> <input class="uk-input" value="${u||""}" autofocus> </div> <div class="uk-modal-footer uk-text-right"> <button class="uk-button uk-button-default uk-modal-close" type="button">${v.cancel}</button> <button class="uk-button uk-button-primary">${v.ok}</button> </div> </form>`,y,v=>v.resolve(null),v=>ae("input",v.$el).value)},t.labels={ok:"Ok",cancel:"Cancel"};function s(a,u,y,v){u={bgClose:!1,escClose:!0,labels:t.labels,...u};const T=t.dialog(a(u),u),z=new Ft;let F=!1;return _e(T.$el,"submit","form",X=>{X.preventDefault(),z.resolve(v==null?void 0:v(T)),F=!0,T.hide()}),_e(T.$el,"hide",()=>!F&&y(z)),z.promise.dialog=T,z.promise}}var qr={extends:pl,data:{targets:"> .uk-parent",toggle:"> a",content:"> ul"}},po={mixins:[Wi,Ts],props:{dropdown:String,align:String,clsDrop:String,boundary:Boolean,dropbar:Boolean,dropbarAnchor:Boolean,duration:Number,mode:Boolean,offset:Boolean,stretch:Boolean,delayShow:Boolean,delayHide:Boolean,target:Boolean,targetX:Boolean,targetY:Boolean,animation:Boolean,animateOut:Boolean},data:{dropdown:".uk-navbar-nav > li > a, .uk-navbar-item, .uk-navbar-toggle",align:Ci?"right":"left",clsDrop:"uk-navbar-dropdown",boundary:!0,dropbar:!1,dropbarAnchor:!1,duration:200,container:!1},computed:{dropbarAnchor({dropbarAnchor:t},s){return Pe(t,s)||s},dropbar:{get({dropbar:t}){return t?(t=this._dropbar||Pe(t,this.$el)||ae("+ .uk-navbar-dropbar",this.$el),t||(this._dropbar=ae("<div></div>"))):null},watch(t){Nt(t,"uk-dropbar","uk-dropbar-top","uk-navbar-dropbar")},immediate:!0},dropContainer(t,s){return this.container||s},dropdowns:{get({clsDrop:t},s){const a=ei(`.${t}`,s);if(this.dropContainer!==s)for(const y of ei(`.${t}`,this.dropContainer)){var u;const v=(u=this.getDropdown(y))==null?void 0:u.targetEl;!kt(a,y)&&v&&oe(v,this.$el)&&a.push(y)}return a},watch(t){this.$create("drop",t.filter(s=>!this.getDropdown(s)),{...this.$props,flip:!1,shift:!0,pos:`bottom-${this.align}`,boundary:this.boundary===!0?this.$el:this.boundary})},immediate:!0},toggles:{get({dropdown:t},s){return ei(t,s)},watch(){const t=Ae(this.$el,"uk-navbar-justify");for(const s of ei(".uk-navbar-nav, .uk-navbar-left, .uk-navbar-right",this.$el))U(s,"flexGrow",t?ei(this.dropdown,s).length:"")},immediate:!0}},disconnected(){this.dropbar&&Vi(this.dropbar),delete this._dropbar},events:[{name:"mouseover focusin",delegate(){return this.dropdown},handler({current:t}){const s=this.getActive();s&&kt(s.mode,"hover")&&s.targetEl&&!oe(s.targetEl,t)&&!s.isDelaying&&s.hide(!1)}},{name:"keydown",delegate(){return this.dropdown},handler(t){const{current:s,keyCode:a}=t,u=this.getActive();a===$s.DOWN&&jt(s,"aria-expanded")&&(t.preventDefault(),!u||u.targetEl!==s?(s.click(),Z(this.dropContainer,"show",({target:y})=>No(y))):No(u.$el)),wr(t,this.toggles,u)}},{name:"keydown",el(){return this.dropContainer},delegate(){return`.${this.clsDrop}`},handler(t){const{current:s,keyCode:a}=t;if(!kt(this.dropdowns,s))return;const u=this.getActive(),y=ei(Zt,s),v=Te(y,z=>Oe(z,":focus"));if(a===$s.UP&&(t.preventDefault(),v>0&&y[v-1].focus()),a===$s.DOWN&&(t.preventDefault(),v<y.length-1&&y[v+1].focus()),a===$s.ESC){var T;(T=u.targetEl)==null||T.focus()}wr(t,this.toggles,u)}},{name:"mouseleave",el(){return this.dropbar},filter(){return this.dropbar},handler(){const t=this.getActive();t&&kt(t.mode,"hover")&&!this.dropdowns.some(s=>Oe(s,":hover"))&&t.hide()}},{name:"beforeshow",el(){return this.dropContainer},filter(){return this.dropbar},handler({target:t}){this.isDropbarDrop(t)&&(this.dropbar.previousElementSibling!==this.dropbarAnchor&&vs(this.dropbarAnchor,this.dropbar),Nt(t,`${this.clsDrop}-dropbar`))}},{name:"show",el(){return this.dropContainer},filter(){return this.dropbar},handler({target:t}){if(!this.isDropbarDrop(t))return;const s=this.getDropdown(t);this._observer=nr([s.$el,...s.target],()=>{const a=Zi(t,`.${this.clsDrop}`).concat(t).map(T=>He(T)),u=Math.min(...a.map(({top:T})=>T)),y=Math.max(...a.map(({bottom:T})=>T)),v=He(this.dropbar);U(this.dropbar,"top",this.dropbar.offsetTop-(v.top-u)),this.transitionTo(y-u+Ht(U(t,"marginBottom")),t)})}},{name:"beforehide",el(){return this.dropContainer},filter(){return this.dropbar},handler(t){const s=this.getActive();Oe(this.dropbar,":hover")&&s.$el===t.target&&!this.toggles.some(a=>s.targetEl!==a&&Oe(a,":focus"))&&t.preventDefault()}},{name:"hide",el(){return this.dropContainer},filter(){return this.dropbar},handler({target:t}){var s;if(!this.isDropbarDrop(t))return;(s=this._observer)==null||s.disconnect();const a=this.getActive();(!a||a.$el===t)&&this.transitionTo(0)}}],methods:{getActive(){return kt(this.dropdowns,vi==null?void 0:vi.$el)&&vi},transitionTo(t,s){const{dropbar:a}=this,u=Oi(a);s=u<t&&s,U(s,"clipPath",`polygon(0 0,100% 0,100% ${u}px,0 ${u}px)`),Oi(a,u),ee.cancel([s,a]),Promise.all([ee.start(a,{height:t},this.duration),ee.start(s,{clipPath:`polygon(0 0,100% 0,100% ${t}px,0 ${t}px)`},this.duration)]).catch($e).then(()=>U(s,{clipPath:""}))},getDropdown(t){return this.$getComponent(t,"drop")||this.$getComponent(t,"dropdown")},isDropbarDrop(t){return this.getDropdown(t)&&Ae(t,this.clsDrop)}}};function wr(t,s,a){const{current:u,keyCode:y}=t,v=a.targetEl||u,T=s.indexOf(v);y===$s.LEFT&&T>0&&(a.hide==null||a.hide(!1),s[T-1].focus()),y===$s.RIGHT&&T<s.length-1&&(a.hide==null||a.hide(!1),s[T+1].focus()),y===$s.TAB&&(v.focus(),a.hide==null||a.hide(!1))}function No(t){if(!ae(":focus",t)){var s;(s=ae(Zt,t))==null||s.focus()}}const $s={TAB:9,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40};var Bc={props:{swiping:Boolean},data:{swiping:!0},computed:{swipeTarget(t,s){return s}},connected(){this.swiping&&An(this,{el:this.swipeTarget,name:un,passive:!0,handler(t){if(!Tt(t))return;const s=Ot(t),a="tagName"in t.target?t.target:we(t.target);Z(document,`${Hn} ${Jr} scroll`,u=>{const{x:y,y:v}=Ot(u);(u.type!=="scroll"&&a&&y&&Math.abs(s.x-y)>100||v&&Math.abs(s.y-v)>100)&&setTimeout(()=>{I(a,"swipe"),I(a,`swipe${Rc(s.x,s.y,y,v)}`)})})}})}};function Rc(t,s,a,u){return Math.abs(t-a)>=Math.abs(s-u)?t-a>0?"Left":"Right":s-u>0?"Up":"Down"}var vl={mixins:[Ro,Bc],args:"mode",props:{mode:String,flip:Boolean,overlay:Boolean},data:{mode:"slide",flip:!1,overlay:!1,clsPage:"uk-offcanvas-page",clsContainer:"uk-offcanvas-container",selPanel:".uk-offcanvas-bar",clsFlip:"uk-offcanvas-flip",clsContainerAnimation:"uk-offcanvas-container-animation",clsSidebarAnimation:"uk-offcanvas-bar-animation",clsMode:"uk-offcanvas",clsOverlay:"uk-offcanvas-overlay",selClose:".uk-offcanvas-close",container:!1},computed:{clsFlip({flip:t,clsFlip:s}){return t?s:""},clsOverlay({overlay:t,clsOverlay:s}){return t?s:""},clsMode({mode:t,clsMode:s}){return`${s}-${t}`},clsSidebarAnimation({mode:t,clsSidebarAnimation:s}){return t==="none"||t==="reveal"?"":s},clsContainerAnimation({mode:t,clsContainerAnimation:s}){return t!=="push"&&t!=="reveal"?"":s},transitionElement({mode:t}){return t==="reveal"?we(this.panel):this.panel}},update:{read(){this.isToggled()&&!pe(this.$el)&&this.hide()},events:["resize"]},events:[{name:"touchmove",self:!0,passive:!1,filter(){return this.overlay},handler(t){t.cancelable&&t.preventDefault()}},{name:"show",self:!0,handler(){this.mode==="reveal"&&!Ae(we(this.panel),this.clsMode)&&(ir(this.panel,"<div>"),Nt(we(this.panel),this.clsMode));const{body:t,scrollingElement:s}=document;Nt(t,this.clsContainer,this.clsFlip),U(t,"touch-action","pan-y pinch-zoom"),U(this.$el,"display","block"),U(this.panel,"maxWidth",s.clientWidth),Nt(this.$el,this.clsOverlay),Nt(this.panel,this.clsSidebarAnimation,this.mode==="reveal"?"":this.clsMode),Oi(t),Nt(t,this.clsContainerAnimation),this.clsContainerAnimation&&Ua()}},{name:"hide",self:!0,handler(){te(document.body,this.clsContainerAnimation),U(document.body,"touch-action","")}},{name:"hidden",self:!0,handler(){this.clsContainerAnimation&&fo(),this.mode==="reveal"&&ls(this.panel),te(this.panel,this.clsSidebarAnimation,this.clsMode),te(this.$el,this.clsOverlay),U(this.$el,"display",""),U(this.panel,"maxWidth",""),te(document.body,this.clsContainer,this.clsFlip)}},{name:"swipeLeft swipeRight",handler(t){this.isToggled()&&lt(t.type,"Left")^this.flip&&this.hide()}}]};function Ua(){Ws().content+=",user-scalable=0"}function fo(){const t=Ws();t.content=t.content.replace(/,user-scalable=0$/,"")}function Ws(){return ae('meta[name="viewport"]',document.head)||mi(document.head,'<meta name="viewport">')}var Uo={mixins:[Wi,bn],props:{selContainer:String,selContent:String,minHeight:Number},data:{selContainer:".uk-modal",selContent:".uk-modal-dialog",minHeight:150},computed:{container({selContainer:t},s){return fi(s,t)},content({selContent:t},s){return fi(s,t)}},resizeTargets(){return[this.container,this.content]},update:{read(){return!this.content||!this.container||!pe(this.$el)?!1:{max:Math.max(this.minHeight,Oi(this.container)-(le(this.content).height-Oi(this.$el)))}},write({max:t}){U(this.$el,{minHeight:this.minHeight,maxHeight:t})},events:["resize"]}},xh={mixins:[bn],props:["width","height"],resizeTargets(){return[this.$el,we(this.$el)]},connected(){Nt(this.$el,"uk-responsive-width")},update:{read(){return pe(this.$el)&&this.width&&this.height?{width:qs(we(this.$el)),height:this.height}:!1},write(t){Oi(this.$el,qt.contain({height:this.height,width:this.width},t).height)},events:["resize"]}},ma={props:{offset:Number},data:{offset:0},connected(){vh(this)},disconnected(){Pn(this)},methods:{async scrollTo(t){t=t&&ae(t)||document.body,I(this.$el,"beforescroll",[this,t])&&(await ks(t,{offset:this.offset}),I(this.$el,"scrolled",[this,t]))}}};const mo=new Set;function vh(t){mo.size||_e(document,"click",wl),mo.add(t)}function Pn(t){mo.delete(t),mo.size||In(document,"click",wl)}function wl(t){if(!t.defaultPrevented)for(const s of mo)oe(t.target,s.$el)&&lc(s.$el)&&(t.preventDefault(),s.scrollTo(go(s.$el)))}function lc(t){return["origin","pathname","search"].every(s=>location[s]===t[s])}function go(t){if(lc(t)){const s=decodeURIComponent(t.hash).substring(1);return document.getElementById(s)||document.getElementsByName(s)[0]}}var ga={mixins:[xr],args:"cls",props:{cls:String,target:String,hidden:Boolean,margin:String,repeat:Boolean,delay:Number},data:()=>({cls:"",target:!1,hidden:!0,margin:"-1px",repeat:!1,delay:0,inViewClass:"uk-scrollspy-inview"}),computed:{elements:{get({target:t},s){return t?ei(t,s):[s]},watch(t,s){this.hidden&&U(ai(t,`:not(.${this.inViewClass})`),"opacity",0),Qi(t,s)||this.$reset()},immediate:!0}},connected(){this._data.elements=new Map,this.registerObserver(Gn(this.elements,t=>{const s=this._data.elements;for(const{target:a,isIntersecting:u}of t){s.has(a)||s.set(a,{cls:ie(a,"uk-scrollspy-class")||this.cls});const y=s.get(a);!this.repeat&&y.show||(y.show=u)}this.$emit()},{rootMargin:this.margin},!1))},disconnected(){for(const[t,s]of this._data.elements.entries())te(t,this.inViewClass,(s==null?void 0:s.cls)||"")},update:[{write(t){for(const[s,a]of t.elements.entries())a.show&&!a.inview&&!a.queued?(a.queued=!0,t.promise=(t.promise||Promise.resolve()).then(()=>new Promise(u=>setTimeout(u,this.delay))).then(()=>{this.toggle(s,!0),setTimeout(()=>{a.queued=!1,this.$emit()},300)})):!a.show&&a.inview&&!a.queued&&this.repeat&&this.toggle(s,!1)}}],methods:{toggle(t,s){const a=this._data.elements.get(t);if(a){if(a.off==null||a.off(),U(t,"opacity",!s&&this.hidden?0:""),Re(t,this.inViewClass,s),Re(t,a.cls),/\buk-animation-/.test(a.cls)){const u=()=>yi(t,"uk-animation-[\\w-]+");s?a.off=Z(t,"animationcancel animationend",u):u()}I(t,s?"inview":"outview"),a.inview=s,this.$update(t)}}}},cc={mixins:[xr],props:{cls:String,closest:String,scroll:Boolean,overflow:Boolean,offset:Number},data:{cls:"uk-active",closest:!1,scroll:!1,overflow:!0,offset:0},computed:{links:{get(t,s){return ei('a[href*="#"]',s).filter(a=>a.hash&&yr(a))},watch(t){this.scroll&&this.$create("scroll",t,{offset:this.offset||0})},immediate:!0},elements({closest:t}){return fi(this.links,t||"*")}},update:[{read(){const t=this.links.map(go).filter(Boolean),{length:s}=t;if(!s||!pe(this.$el))return!1;const[a]=rn(t,!0),{scrollTop:u,scrollHeight:y}=a,v=Ni(a),T=y-v.height;let z=!1;if(u===T)z=s-1;else{for(let F=0;F<t.length&&!(He(t[F]).top-v.top-this.offset>0);F++)z=+F;z===!1&&this.overflow&&(z=0)}return{active:z}},write({active:t}){const s=t!==!1&&!Ae(this.elements[t],this.cls);this.links.forEach(a=>a.blur());for(let a=0;a<this.elements.length;a++)Re(this.elements[a],this.cls,+a===t);s&&I(this.$el,"active",[t,this.elements[t]])},events:["scroll","resize"]}]},Fc={mixins:[Wi,Cs,bn,xr],props:{position:String,top:null,bottom:null,start:null,end:null,offset:String,overflowFlip:Boolean,animation:String,clsActive:String,clsInactive:String,clsFixed:String,clsBelow:String,selTarget:String,showOnUp:Boolean,targetOffset:Number},data:{position:"top",top:!1,bottom:!1,start:!1,end:!1,offset:0,overflowFlip:!1,animation:"",clsActive:"uk-active",clsInactive:"",clsFixed:"uk-sticky-fixed",clsBelow:"uk-sticky-below",selTarget:"",showOnUp:!1,targetOffset:!1},computed:{selTarget({selTarget:t},s){return t&&ae(t,s)||s}},resizeTargets(){return document.documentElement},connected(){this.start=Oc(this.start||this.top),this.end=Oc(this.end||this.bottom),this.placeholder=ae("+ .uk-sticky-placeholder",this.$el)||ae('<div class="uk-sticky-placeholder"></div>'),this.isFixed=!1,this.setActive(!1),this.registerObserver(nr(this.$el,()=>!this.isFixed&&this.$emit("resize")))},disconnected(){this.isFixed&&(this.hide(),te(this.selTarget,this.clsInactive)),hc(this.$el),Vi(this.placeholder),this.placeholder=null},events:[{name:"resize",el(){return[window,window.visualViewport]},handler(){this.$emit("resizeViewport")}},{name:"load hashchange popstate",el(){return window},filter(){return this.targetOffset!==!1},handler(){const{scrollingElement:t}=document;!location.hash||t.scrollTop===0||setTimeout(()=>{const s=He(ae(location.hash)),a=He(this.$el);this.isFixed&&xs(s,a)&&(t.scrollTop=s.top-a.height-sn(this.targetOffset,"height",this.placeholder)-sn(this.offset,"height",this.placeholder))})}}],update:[{read({height:t,width:s,margin:a,sticky:u},y){if(this.inactive=!this.matchMedia||!pe(this.$el),this.inactive)return;const v=this.isFixed&&y.has("resize")&&!u;v&&(U(this.selTarget,"transition","0s"),this.hide()),this.active||({height:t,width:s}=He(this.$el),a=U(this.$el,"margin")),v&&(this.show(),requestAnimationFrame(()=>U(this.selTarget,"transition","")));const T=sn("100vh","height"),z=Oi(window),F=document.scrollingElement.scrollHeight-T;let X=this.position;this.overflowFlip&&t>T&&(X=X==="top"?"bottom":"top");const Y=this.isFixed?this.placeholder:this.$el;let yt=sn(this.offset,"height",u?this.$el:Y);X==="bottom"&&(t<z||this.overflowFlip)&&(yt+=z-t);const It=this.overflowFlip?0:Math.max(0,t+yt-T),Kt=He(Y).top,ke=He(this.$el).height,si=(this.start===!1?Kt:Va(this.start,this.$el,Kt))-yt,Je=this.end===!1?F:Math.min(F,Va(this.end,this.$el,Kt+t,!0)-ke-yt+It);return u=F&&!this.showOnUp&&si+yt===Kt&&Je===Math.min(F,Va("!*",this.$el,0,!0)-ke-yt+It)&&U(we(this.$el),"overflowY")==="visible",{start:si,end:Je,offset:yt,overflow:It,topOffset:Kt,height:t,elHeight:ke,width:s,margin:a,top:ts(Y)[0],sticky:u}},write({height:t,width:s,margin:a,offset:u,sticky:y}){if((this.inactive||y||!this.isFixed)&&hc(this.$el),this.inactive)return;y&&(t=s=a=0,U(this.$el,{position:"sticky",top:u}));const{placeholder:v}=this;U(v,{height:t,width:s,margin:a}),oe(v,document)||(v.hidden=!0),(y?zr:vs)(this.$el,v)},events:["resize","resizeViewport"]},{read({scroll:t=0,dir:s="down",overflow:a,overflowScroll:u=0,start:y,end:v}){const T=document.scrollingElement.scrollTop;return{dir:t<=T?"down":"up",prevDir:s,scroll:T,prevScroll:t,offsetParentTop:He((this.isFixed?this.placeholder:this.$el).offsetParent).top,overflowScroll:Qe(u+Qe(T,y,v)-Qe(t,y,v),0,a)}},write(t,s){const a=s.has("scroll"),{initTimestamp:u=0,dir:y,prevDir:v,scroll:T,prevScroll:z=0,top:F,start:X,topOffset:Y,height:yt}=t;if(T<0||T===z&&a||this.showOnUp&&!a&&!this.isFixed)return;const It=Date.now();if((It-u>300||y!==v)&&(t.initScroll=T,t.initTimestamp=It),!(this.showOnUp&&!this.isFixed&&Math.abs(t.initScroll-T)<=30&&Math.abs(z-T)<=10))if(this.inactive||T<X||this.showOnUp&&(T<=X||y==="down"&&a||y==="up"&&!this.isFixed&&T<=Y+yt)){if(!this.isFixed){yn.inProgress(this.$el)&&F>T&&(yn.cancel(this.$el),this.hide());return}this.animation&&T>Y?(yn.cancel(this.$el),yn.out(this.$el,this.animation).then(()=>this.hide(),$e)):this.hide()}else this.isFixed?this.update():this.animation&&T>Y?(yn.cancel(this.$el),this.show(),yn.in(this.$el,this.animation).catch($e)):this.show()},events:["resize","resizeViewport","scroll"]}],methods:{show(){this.isFixed=!0,this.update(),this.placeholder.hidden=!1},hide(){const{offset:t,sticky:s}=this._data;this.setActive(!1),te(this.$el,this.clsFixed,this.clsBelow),s?U(this.$el,"top",t):U(this.$el,{position:"",top:"",width:"",marginTop:""}),this.placeholder.hidden=!0,this.isFixed=!1},update(){let{width:t,scroll:s=0,overflow:a,overflowScroll:u=0,start:y,end:v,offset:T,topOffset:z,height:F,elHeight:X,offsetParentTop:Y,sticky:yt}=this._data;const It=y!==0||s>y;if(!yt){let Kt="fixed";s>v&&(T+=v-Y,Kt="absolute"),U(this.$el,{position:Kt,width:t}),U(this.$el,"marginTop",0,"important")}a&&(T-=u),U(this.$el,"top",T),this.setActive(It),Re(this.$el,this.clsBelow,s>z+(yt?Math.min(F,X):F)),Nt(this.$el,this.clsFixed)},setActive(t){const s=this.active;this.active=t,t?(zi(this.selTarget,this.clsInactive,this.clsActive),s!==t&&I(this.$el,"active")):(zi(this.selTarget,this.clsActive,this.clsInactive),s!==t&&I(this.$el,"inactive"))}}};function Va(t,s,a,u){if(!t)return 0;if(Hi(t)||Me(t)&&t.match(/^-?\d/))return a+sn(t,"height",s,!0);{const y=t===!0?we(s):Pe(t,s);return He(y).bottom-(u&&y&&oe(s,y)?Ht(U(y,"paddingBottom")):0)}}function Oc(t){return t==="true"?!0:t==="false"?!1:t}function hc(t){U(t,{position:"",top:"",marginTop:"",width:""})}var Nc={mixins:[rs,Bc,_n],args:"connect",props:{connect:String,toggle:String,itemNav:String,active:Number},data:{connect:"~.uk-switcher",toggle:"> * > :first-child",itemNav:!1,active:0,cls:"uk-active",attrItem:"uk-switcher-item"},computed:{connects:{get({connect:t},s){return nn(t,s)},watch(t){this.swiping&&U(t,"touchAction","pan-y pinch-zoom")},document:!0,immediate:!0},connectChildren:{get(){return this.connects.map(t=>Pt(t)).flat()},watch(){const t=this.index();for(const s of this.connects)Pt(s).forEach((a,u)=>Re(a,this.cls,u===t)),this.lazyload(this.$el,Pt(s))},immediate:!0},toggles:{get({toggle:t},s){return ei(t,s).filter(a=>!Oe(a,".uk-disabled *, .uk-disabled, [disabled]"))},watch(t){const s=this.index();this.show(~s?s:t[this.active]||t[0])},immediate:!0},children(){return Pt(this.$el).filter(t=>this.toggles.some(s=>oe(s,t)))},swipeTarget(){return this.connects}},events:[{name:"click",delegate(){return this.toggle},handler(t){t.preventDefault(),this.show(t.current)}},{name:"click",el(){return this.connects.concat(this.itemNav?nn(this.itemNav,this.$el):[])},delegate(){return`[${this.attrItem}],[data-${this.attrItem}]`},handler(t){t.preventDefault(),this.show(ie(t.current,this.attrItem))}},{name:"swipeRight swipeLeft",filter(){return this.swiping},el(){return this.connects},handler({type:t}){this.show(lt(t,"Left")?"next":"previous")}}],methods:{index(){return Te(this.children,t=>Ae(t,this.cls))},show(t){const s=this.index(),a=Yt(t,this.toggles,s),u=Yt(this.children[a],Pt(this.$el));Pt(this.$el).forEach((v,T)=>{Re(v,this.cls,u===T),bt(this.toggles[T],"aria-expanded",u===T)});const y=s>=0&&s!==a;this.connects.forEach(async({children:v})=>{await this.toggleElement(ne(v).filter(T=>Ae(T,this.cls)),!1,y),await this.toggleElement(v[u],!0,y)})}}},Uc={mixins:[Wi],extends:Nc,props:{media:Boolean},data:{media:960,attrItem:"uk-tab-item"},connected(){const t=Ae(this.$el,"uk-tab-left")?"uk-tab-left":Ae(this.$el,"uk-tab-right")?"uk-tab-right":!1;t&&this.$create("toggle",this.$el,{cls:t,mode:"media",media:this.media})}};const Kh=32;var Vc={mixins:[rs,Cs,_n],args:"target",props:{href:String,target:null,mode:"list",queued:Boolean},data:{href:!1,target:!1,mode:"click",queued:!0},computed:{target:{get({href:t,target:s},a){return s=nn(s||t,a),s.length&&s||[a]},watch(){this.updateAria(),this.lazyload(this.$el,this.target)},document:!0,immediate:!0}},connected(){!kt(this.mode,"media")&&!en(this.$el)&&bt(this.$el,"tabindex","0")},events:[{name:un,filter(){return kt(this.mode,"hover")},handler(t){this._preventClick=null,!(!Tt(t)||this._showState)&&(I(this.$el,"focus"),Z(document,un,()=>I(this.$el,"blur"),!0,s=>!oe(s.target,this.$el)),kt(this.mode,"click")&&(this._preventClick=!0))}},{name:`${$n} ${Hs} focus blur`,filter(){return kt(this.mode,"hover")},handler(t){if(Tt(t))return;const s=kt([$n,"focus"],t.type),a=bt(this.$el,"aria-expanded");if(!(!s&&(t.type===Hs&&Oe(this.$el,":focus")||t.type==="blur"&&Oe(this.$el,":hover")))){if(this._showState&&s&&a!==this._showState){s||(this._showState=null);return}this._showState=s?a:null,this.toggle(`toggle${s?"show":"hide"}`)}}},{name:"keydown",filter(){return kt(this.mode,"click")&&!pn(this.$el,"input")},handler(t){t.keyCode===Kh&&(t.preventDefault(),this.$el.click())}},{name:"click",filter(){return["click","hover"].some(t=>kt(this.mode,t))},handler(t){let s;(this._preventClick||fi(t.target,'a[href="#"], a[href=""]')||(s=fi(t.target,"a[href]"))&&(bt(this.$el,"aria-expanded")!=="true"||s.hash&&Oe(this.target,s.hash)))&&t.preventDefault(),!this._preventClick&&kt(this.mode,"click")&&this.toggle()}},{name:"hide show",self:!0,el(){return this.target},handler({target:t,type:s}){this.updateAria(t===this.target[0]&&s==="show")}},{name:"mediachange",filter(){return kt(this.mode,"media")},el(){return this.target},handler(t,s){s.matches^this.isToggled(this.target)&&this.toggle()}}],methods:{async toggle(t){if(!I(this.target,t||"toggle",[this]))return;if(!this.queued)return this.toggleElement(this.target);const s=this.target.filter(u=>Ae(u,this.clsLeave));if(s.length){for(const u of this.target){const y=kt(s,u);this.toggleElement(u,y,y)}return}const a=this.target.filter(this.isToggled);await this.toggleElement(a,!1),await this.toggleElement(this.target.filter(u=>!kt(a,u)),!0)},updateAria(t){kt(this.mode,"media")||bt(this.$el,"aria-expanded",xi(t)?t:this.isToggled(this.target))}}},wh=Object.freeze({__proto__:null,Accordion:pl,Alert:nc,Close:Dn,Cover:ml,Drop:Na,Dropdown:Na,FormCustom:Dc,Grid:oc,HeightMatch:yl,HeightViewport:i,Icon:Ii,Img:vr,Leader:Oo,Margin:Ms,Marker:Ke,Modal:ac,Nav:qr,NavParentIcon:ki,Navbar:po,NavbarParentIcon:Ke,NavbarToggleIcon:Ke,Offcanvas:vl,OverflowAuto:Uo,OverlayIcon:Ke,PaginationNext:Ke,PaginationPrevious:Ke,Responsive:xh,Scroll:ma,Scrollspy:ga,ScrollspyNav:cc,SearchIcon:qi,SlidenavNext:wi,SlidenavPrevious:wi,Spinner:or,Sticky:Fc,Svg:o,Switcher:Nc,Tab:Uc,Toggle:Vc,Totop:Ke,Video:Oa});Gi(wh,(t,s)=>Ei.component(s,t)),xe(Ei);const bh=["days","hours","minutes","seconds"];var ja={mixins:[Wi],props:{date:String,clsWrapper:String},data:{date:"",clsWrapper:".uk-countdown-%unit%"},connected(){this.date=Date.parse(this.$props.date),this.start()},disconnected(){this.stop()},events:[{name:"visibilitychange",el(){return document},handler(){document.hidden?this.stop():this.start()}}],methods:{start(){this.stop(),this.update(),this.timer=setInterval(this.update,1e3)},stop(){clearInterval(this.timer)},update(){const t=Yh(this.date);(!this.date||t.total<=0)&&(this.stop(),t.days=t.hours=t.minutes=t.seconds=0);for(const s of bh){const a=ae(this.clsWrapper.replace("%unit%",s),this.$el);if(!a)continue;let u=String(Math.trunc(t[s]));u=u.length<2?`0${u}`:u,a.textContent!==u&&(u=u.split(""),u.length!==a.children.length&&Un(a,u.map(()=>"<span></span>").join("")),u.forEach((y,v)=>a.children[v].textContent=y))}}}};function Yh(t){const s=t-Date.now();return{total:s,seconds:s/1e3%60,minutes:s/1e3/60%60,hours:s/1e3/60/60%24,days:s/1e3/60/60/24}}const yo="uk-transition-leave",Vo="uk-transition-enter";function qa(t,s,a,u=0){const y=ya(s,!0),v={opacity:1},T={opacity:0},z=Y=>()=>y===ya(s)?Y():Promise.reject(),F=z(async()=>{Nt(s,yo),await Promise.all(Xn(s).map((Y,yt)=>new Promise(It=>setTimeout(()=>ee.start(Y,T,a/2,"ease").then(It),yt*u)))),te(s,yo)}),X=z(async()=>{const Y=Oi(s);Nt(s,Vo),t(),U(Pt(s),{opacity:0}),await ps();const yt=Pt(s),It=Oi(s);U(s,"alignContent","flex-start"),Oi(s,Y);const Kt=Xn(s);U(yt,T);const ke=Kt.map(async(si,Je)=>{await kh(Je*u),await ee.start(si,v,a/2,"ease")});Y!==It&&ke.push(ee.start(s,{height:It},a/2+Kt.length*u,"ease")),await Promise.all(ke).then(()=>{te(s,Vo),y===ya(s)&&(U(s,{height:"",alignContent:""}),U(yt,{opacity:""}),delete s.dataset.transition)})});return Ae(s,yo)?jc(s).then(X):Ae(s,Vo)?jc(s).then(F).then(X):F().then(X)}function ya(t,s){return s&&(t.dataset.transition=1+ya(t)),ri(t.dataset.transition)||0}function jc(t){return Promise.all(Pt(t).filter(ee.inProgress).map(s=>new Promise(a=>Z(s,"transitionend transitioncanceled",a))))}function Xn(t){return _r(Pt(t)).reduce((s,a)=>s.concat(hn(a.filter(u=>Or(u)),"offsetLeft")),[])}function ps(){return new Promise(t=>requestAnimationFrame(t))}function kh(t){return new Promise(s=>setTimeout(s,t))}async function qc(t,s,a){await pc();let u=Pt(s);const y=u.map(It=>uc(It,!0)),v={...U(s,["height","padding"]),display:"block"};await Promise.all(u.concat(s).map(ee.cancel)),t(),u=u.concat(Pt(s).filter(It=>!kt(u,It))),await Promise.resolve(),Li.flush();const T=bt(s,"style"),z=U(s,["height","padding"]),[F,X]=bl(s,u,y),Y=u.map(It=>({style:bt(It,"style")}));u.forEach((It,Kt)=>X[Kt]&&U(It,X[Kt])),U(s,v),await pc();const yt=u.map((It,Kt)=>we(It)===s&&ee.start(It,F[Kt],a,"ease")).concat(ee.start(s,z,a,"ease"));try{await Promise.all(yt),u.forEach((It,Kt)=>{bt(It,Y[Kt]),we(It)===s&&U(It,"display",F[Kt].opacity===0?"none":"")}),bt(s,"style",T)}catch{bt(u,"style",""),Jh(s,v)}}function uc(t,s){const a=U(t,"zIndex");return pe(t)?{display:"",opacity:s?U(t,"opacity"):"0",pointerEvents:"none",position:"absolute",zIndex:a==="auto"?Xe(t):a,...dc(t)}:!1}function bl(t,s,a){const u=s.map((v,T)=>we(v)&&T in a?a[T]?pe(v)?dc(v):{opacity:0}:{opacity:pe(v)?1:0}:!1),y=u.map((v,T)=>{const z=we(s[T])===t&&(a[T]||uc(s[T]));if(!z)return!1;if(!v)delete z.opacity;else if(!("opacity"in v)){const{opacity:F}=z;F%1?v.opacity=1:delete z.opacity}return z});return[u,y]}function Jh(t,s){for(const a in s)U(t,a,"")}function dc(t){const{height:s,width:a}=He(t);return{height:s,width:a,transform:"",...Yr(t),...U(t,["marginTop","marginLeft"])}}function pc(){return new Promise(t=>requestAnimationFrame(t))}var Za={props:{duration:Number,animation:Boolean},data:{duration:150,animation:"slide"},methods:{animate(t,s=this.$el){const a=this.animation;return(a==="fade"?qa:a==="delayed-fade"?(...u)=>qa(...u,40):a?qc:()=>(t(),Promise.resolve()))(t,s,this.duration).catch($e)}}},Th={mixins:[Za],args:"target",props:{target:Boolean,selActive:Boolean},data:{target:null,selActive:!1,attrItem:"uk-filter-control",cls:"uk-active",duration:250},computed:{toggles:{get({attrItem:t},s){return ei(`[${t}],[data-${t}]`,s)},watch(){if(this.updateState(),this.selActive!==!1){const t=ei(this.selActive,this.$el);this.toggles.forEach(s=>Re(s,this.cls,kt(t,s)))}},immediate:!0},children:{get({target:t},s){return ei(`${t} > *`,s)},watch(t,s){s&&!Zc(t,s)&&this.updateState()},immediate:!0}},events:[{name:"click",delegate(){return`[${this.attrItem}],[data-${this.attrItem}]`},handler(t){t.preventDefault(),this.apply(t.current)}}],methods:{apply(t){const s=this.getState(),a=kl(t,this.attrItem,this.getState());Ch(s,a)||this.setState(a)},getState(){return this.toggles.filter(t=>Ae(t,this.cls)).reduce((t,s)=>kl(s,this.attrItem,t),{filter:{"":""},sort:[]})},async setState(t,s=!0){t={filter:{"":""},sort:[],...t},I(this.$el,"beforeFilter",[this,t]),this.toggles.forEach(a=>Re(a,this.cls,!!Sh(a,this.attrItem,t))),await Promise.all(ei(this.target,this.$el).map(a=>{const u=()=>{Qh(t,a,Pt(a)),this.$update(this.$el)};return s?this.animate(u,a):u()})),I(this.$el,"afterFilter",[this])},updateState(){Li.write(()=>this.setState(this.getState(),!1))}}};function fc(t,s){return Di(ie(t,s),["filter"])}function Ch(t,s){return["filter","sort"].every(a=>Qi(t[a],s[a]))}function Qh(t,s,a){const u=Tl(t);a.forEach(T=>U(T,"display",u&&!Oe(T,u)?"none":""));const[y,v]=t.sort;if(y){const T=Xs(a,y,v);Qi(T,a)||mi(s,T)}}function kl(t,s,a){const{filter:u,group:y,sort:v,order:T="asc"}=fc(t,s);return(u||oi(v))&&(y?u?(delete a.filter[""],a.filter[y]=u):(delete a.filter[y],(gn(a.filter)||""in a.filter)&&(a.filter={"":u||""})):a.filter={"":u||""}),oi(v)||(a.sort=[v,T]),a}function Sh(t,s,{filter:a={"":""},sort:[u,y]}){const{filter:v="",group:T="",sort:z,order:F="asc"}=fc(t,s);return oi(z)?T in a&&v===a[T]||!v&&T&&!(T in a)&&!a[""]:u===z&&y===F}function Zc(t,s){return t.length===s.length&&t.every(a=>s.includes(a))}function Tl({filter:t}){let s="";return Gi(t,a=>s+=a||""),s}function Xs(t,s,a){return[...t].sort((u,y)=>ie(u,s).localeCompare(ie(y,s),void 0,{numeric:!0})*(a==="asc"||-1))}var Ha={slide:{show(t){return[{transform:gi(t*-100)},{transform:gi()}]},percent(t){return _o(t)},translate(t,s){return[{transform:gi(s*-100*t)},{transform:gi(s*100*(1-t))}]}}};function _o(t){return Math.abs(U(t,"transform").split(",")[4]/t.offsetWidth)||0}function gi(t=0,s="%"){return t+=t?s:"",`translate3d(${t}, 0, 0)`}function br(t){return`scale3d(${t}, ${t}, 1)`}var Ga={...Ha,fade:{show(){return[{opacity:0},{opacity:1}]},percent(t){return 1-U(t,"opacity")},translate(t){return[{opacity:1-t},{opacity:t}]}},scale:{show(){return[{opacity:0,transform:br(1-.2)},{opacity:1,transform:br(1)}]},percent(t){return 1-U(t,"opacity")},translate(t){return[{opacity:1-t,transform:br(1-.2*t)},{opacity:t,transform:br(1-.2+.2*t)}]}}};function mc(t,s,a,{animation:u,easing:y}){const{percent:v,translate:T,show:z=$e}=u,F=z(a),X=new Ft;return{dir:a,show(Y,yt=0,It){const Kt=It?"linear":y;return Y-=Math.round(Y*Qe(yt,-1,1)),this.translate(yt),jo(s,"itemin",{percent:yt,duration:Y,timing:Kt,dir:a}),jo(t,"itemout",{percent:1-yt,duration:Y,timing:Kt,dir:a}),Promise.all([ee.start(s,F[1],Y,Kt),ee.start(t,F[0],Y,Kt)]).then(()=>{this.reset(),X.resolve()},$e),X.promise},cancel(){ee.cancel([s,t])},reset(){for(const Y in F[0])U([s,t],Y,"")},forward(Y,yt=this.percent()){return ee.cancel([s,t]),this.show(Y,yt,!0)},translate(Y){this.reset();const yt=T(Y,a);U(s,yt[1]),U(t,yt[0]),jo(s,"itemtranslatein",{percent:Y,dir:a}),jo(t,"itemtranslateout",{percent:1-Y,dir:a})},percent(){return v(t||s,s,a)},getDistance(){return t==null?void 0:t.offsetWidth}}}function jo(t,s,a){I(t,R(s,!1,!1,a))}var _a={props:{autoplay:Boolean,autoplayInterval:Number,pauseOnHover:Boolean},data:{autoplay:!1,autoplayInterval:7e3,pauseOnHover:!0},connected(){this.autoplay&&this.startAutoplay()},disconnected(){this.stopAutoplay()},update(){bt(this.slides,"tabindex","-1")},events:[{name:"visibilitychange",el(){return document},filter(){return this.autoplay},handler(){document.hidden?this.stopAutoplay():this.startAutoplay()}}],methods:{startAutoplay(){this.stopAutoplay(),this.interval=setInterval(()=>(!this.draggable||!ae(":focus",this.$el))&&(!this.pauseOnHover||!Oe(this.$el,":hover"))&&!this.stack.length&&this.show("next"),this.autoplayInterval)},stopAutoplay(){this.interval&&clearInterval(this.interval)}}};const xo={passive:!1,capture:!0},Hc={passive:!0,capture:!0},tu="touchstart mousedown",Cl="touchmove mousemove",Gc="touchend touchcancel mouseup click input scroll";var eu={props:{draggable:Boolean},data:{draggable:!0,threshold:10},created(){for(const t of["start","move","end"]){const s=this[t];this[t]=a=>{const u=Ot(a).x*(Ci?-1:1);this.prevPos=u===this.pos?this.prevPos:this.pos,this.pos=u,s(a)}}},events:[{name:tu,passive:!0,delegate(){return`${this.selList} > *`},handler(t){!this.draggable||!Tt(t)&&iu(t.target)||fi(t.target,ci)||t.button>0||this.length<2||this.start(t)}},{name:"dragstart",handler(t){t.preventDefault()}},{name:Cl,el(){return this.list},handler:$e,...xo}],methods:{start(){this.drag=this.pos,this._transitioner?(this.percent=this._transitioner.percent(),this.drag+=this._transitioner.getDistance()*this.percent*this.dir,this._transitioner.cancel(),this._transitioner.translate(this.percent),this.dragging=!0,this.stack=[]):this.prevIndex=this.index,_e(document,Cl,this.move,xo),_e(document,Gc,this.end,Hc),U(this.list,"userSelect","none")},move(t){const s=this.pos-this.drag;if(s===0||this.prevPos===this.pos||!this.dragging&&Math.abs(s)<this.threshold)return;U(this.list,"pointerEvents","none"),t.cancelable&&t.preventDefault(),this.dragging=!0,this.dir=s<0?1:-1;const{slides:a}=this;let{prevIndex:u}=this,y=Math.abs(s),v=this.getIndex(u+this.dir,u),T=this._getDistance(u,v)||a[u].offsetWidth;for(;v!==u&&y>T;)this.drag-=T*this.dir,u=v,y-=T,v=this.getIndex(u+this.dir,u),T=this._getDistance(u,v)||a[u].offsetWidth;this.percent=y/T;const z=a[u],F=a[v],X=this.index!==v,Y=u===v;let yt;[this.index,this.prevIndex].filter(It=>!kt([v,u],It)).forEach(It=>{I(a[It],"itemhidden",[this]),Y&&(yt=!0,this.prevIndex=u)}),(this.index===u&&this.prevIndex!==u||yt)&&I(a[this.index],"itemshown",[this]),X&&(this.prevIndex=u,this.index=v,!Y&&I(z,"beforeitemhide",[this]),I(F,"beforeitemshow",[this])),this._transitioner=this._translate(Math.abs(this.percent),z,!Y&&F),X&&(!Y&&I(z,"itemhide",[this]),I(F,"itemshow",[this]))},end(){if(In(document,Cl,this.move,xo),In(document,Gc,this.end,Hc),this.dragging)if(this.dragging=null,this.index===this.prevIndex)this.percent=1-this.percent,this.dir*=-1,this._show(!1,this.index,!0),this._transitioner=null;else{const t=(Ci?this.dir*(Ci?1:-1):this.dir)<0==this.prevPos>this.pos;this.index=t?this.index:this.prevIndex,t&&(this.percent=1-this.percent),this.show(this.dir>0&&!t||this.dir<0&&t?"next":"previous",!0)}U(this.list,{userSelect:"",pointerEvents:""}),this.drag=this.percent=null}}};function iu(t){return U(t,"userSelect")!=="none"&&ne(t.childNodes).some(s=>s.nodeType===3&&s.textContent.trim())}var nu={data:{selNav:!1},computed:{nav({selNav:t},s){return ae(t,s)},selNavItem({attrItem:t}){return`[${t}],[data-${t}]`},navItems(t,s){return ei(this.selNavItem,s)}},update:{write(){this.nav&&this.length!==this.nav.children.length&&Un(this.nav,this.slides.map((t,s)=>`<li ${this.attrItem}="${s}"><a href></a></li>`).join("")),this.navItems.concat(this.nav).forEach(t=>t&&(t.hidden=!this.maxIndex)),this.updateNav()},events:["resize"]},events:[{name:"click",delegate(){return this.selNavItem},handler(t){t.preventDefault(),this.show(ie(t.current,this.attrItem))}},{name:"itemshow",handler:"updateNav"}],methods:{updateNav(){const t=this.getValidIndex();for(const s of this.navItems){const a=ie(s,this.attrItem);Re(s,this.clsActive,ri(a)===t),Re(s,"uk-invisible",this.finite&&(a==="previous"&&t===0||a==="next"&&t>=this.maxIndex))}}}},Sl={mixins:[_a,eu,nu,bn],props:{clsActivated:Boolean,easing:String,index:Number,finite:Boolean,velocity:Number},data:()=>({easing:"ease",finite:!1,velocity:1,index:0,prevIndex:-1,stack:[],percent:0,clsActive:"uk-active",clsActivated:!1,Transitioner:!1,transitionOptions:{}}),connected(){this.prevIndex=-1,this.index=this.getValidIndex(this.$props.index),this.stack=[]},disconnected(){te(this.slides,this.clsActive)},computed:{duration({velocity:t},s){return qo(s.offsetWidth/t)},list({selList:t},s){return ae(t,s)},maxIndex(){return this.length-1},slides:{get(){return Pt(this.list)},watch(){this.$emit("resize")}},length(){return this.slides.length}},methods:{show(t,s=!1){if(this.dragging||!this.length)return;const{stack:a}=this,u=s?0:a.length,y=()=>{a.splice(u,1),a.length&&this.show(a.shift(),!0)};if(a[s?"unshift":"push"](t),!s&&a.length>1){if(a.length===2){var v;(v=this._transitioner)==null||v.forward(Math.min(this.duration,200))}return}const T=this.getIndex(this.index),z=Ae(this.slides,this.clsActive)&&this.slides[T],F=this.getIndex(t,this.index),X=this.slides[F];if(z===X){y();return}if(this.dir=su(t,T),this.prevIndex=T,this.index=F,z&&!I(z,"beforeitemhide",[this])||!I(X,"beforeitemshow",[this,z])){this.index=this.prevIndex,y();return}const Y=this._show(z,X,s).then(()=>{z&&I(z,"itemhidden",[this]),I(X,"itemshown",[this]),a.shift(),this._transitioner=null,requestAnimationFrame(()=>a.length&&this.show(a.shift(),!0))});return z&&I(z,"itemhide",[this]),I(X,"itemshow",[this]),Y},getIndex(t=this.index,s=this.index){return Qe(Yt(t,this.slides,s,this.finite),0,this.maxIndex)},getValidIndex(t=this.index,s=this.prevIndex){return this.getIndex(t,s)},_show(t,s,a){if(this._transitioner=this._getTransitioner(t,s,this.dir,{easing:a?s.offsetWidth<600?"cubic-bezier(0.25, 0.46, 0.45, 0.94)":"cubic-bezier(0.165, 0.84, 0.44, 1)":this.easing,...this.transitionOptions}),!a&&!t)return this._translate(1),Promise.resolve();const{length:u}=this.stack;return this._transitioner[u>1?"forward":"show"](u>1?Math.min(this.duration,75+75/(u-1)):this.duration,this.percent)},_getDistance(t,s){return this._getTransitioner(t,t!==s&&s).getDistance()},_translate(t,s=this.prevIndex,a=this.index){const u=this._getTransitioner(s!==a?s:!1,a);return u.translate(t),u},_getTransitioner(t=this.prevIndex,s=this.index,a=this.dir||1,u=this.transitionOptions){return new this.Transitioner(Ui(t)?this.slides[t]:t,Ui(s)?this.slides[s]:s,a*(Ci?-1:1),u)}}};function su(t,s){return t==="next"?1:t==="previous"||t<s?-1:1}function qo(t){return .5*t+300}var Wc={mixins:[Sl],props:{animation:String},data:{animation:"slide",clsActivated:"uk-transition-active",Animations:Ha,Transitioner:mc},computed:{animation({animation:t,Animations:s}){return{...s[t]||s.slide,name:t}},transitionOptions(){return{animation:this.animation}}},events:{beforeitemshow({target:t}){Nt(t,this.clsActive)},itemshown({target:t}){Nt(t,this.clsActivated)},itemhidden({target:t}){te(t,this.clsActive,this.clsActivated)}}},mn={mixins:[Ts,Ro,_n,Wc],functional:!0,props:{delayControls:Number,preload:Number,videoAutoplay:Boolean,template:String},data:()=>({preload:1,videoAutoplay:!1,delayControls:3e3,items:[],cls:"uk-open",clsPage:"uk-lightbox-page",selList:".uk-lightbox-items",attrItem:"uk-lightbox-item",selClose:".uk-close-large",selCaption:".uk-lightbox-caption",pauseOnHover:!1,velocity:2,Animations:Ga,template:'<div class="uk-lightbox uk-overflow-hidden"> <ul class="uk-lightbox-items"></ul> <div class="uk-lightbox-toolbar uk-position-top uk-text-right uk-transition-slide-top uk-transition-opaque"> <button class="uk-lightbox-toolbar-icon uk-close-large" type="button" uk-close></button> </div> <a class="uk-lightbox-button uk-position-center-left uk-position-medium uk-transition-fade" href uk-slidenav-previous uk-lightbox-item="previous"></a> <a class="uk-lightbox-button uk-position-center-right uk-position-medium uk-transition-fade" href uk-slidenav-next uk-lightbox-item="next"></a> <div class="uk-lightbox-toolbar uk-lightbox-caption uk-position-bottom uk-text-center uk-transition-slide-bottom uk-transition-opaque"></div> </div>'}),created(){const t=ae(this.template),s=ae(this.selList,t);this.items.forEach(()=>mi(s,"<li>")),this.$mount(mi(this.container,t))},computed:{caption({selCaption:t},s){return ae(t,s)}},events:[{name:`${Dr} ${un} keydown`,handler:"showControls"},{name:"click",self:!0,delegate(){return`${this.selList} > *`},handler(t){t.defaultPrevented||this.hide()}},{name:"shown",self:!0,handler(){this.showControls()}},{name:"hide",self:!0,handler(){this.hideControls(),te(this.slides,this.clsActive),ee.stop(this.slides)}},{name:"hidden",self:!0,handler(){this.$destroy(!0)}},{name:"keyup",el(){return document},handler(t){if(!(!this.isToggled(this.$el)||!this.draggable))switch(t.keyCode){case 37:this.show("previous");break;case 39:this.show("next");break}}},{name:"beforeitemshow",handler(t){this.isToggled()||(this.draggable=!1,t.preventDefault(),this.toggleElement(this.$el,!0,!1),this.animation=Ga.scale,te(t.target,this.clsActive),this.stack.splice(1,0,this.index))}},{name:"itemshow",handler(){Un(this.caption,this.getItem().caption||"");for(let t=-this.preload;t<=this.preload;t++)this.loadItem(this.index+t)}},{name:"itemshown",handler(){this.draggable=this.$props.draggable}},{name:"itemload",async handler(t,s){const{source:a,type:u,alt:y="",poster:v,attrs:T={}}=s;if(this.setItem(s,"<span uk-spinner></span>"),!a)return;let z;const F={allowfullscreen:"",style:"max-width: 100%; box-sizing: border-box;","uk-responsive":"","uk-video":`${this.videoAutoplay}`};if(u==="image"||a.match(/\.(avif|jpe?g|jfif|a?png|gif|svg|webp)($|\?)/i))try{const{width:X,height:Y}=await Ie(a,T.srcset,T.size);this.setItem(s,lr("img",{src:a,width:X,height:Y,alt:y,...T}))}catch{this.setError(s)}else if(u==="video"||a.match(/\.(mp4|webm|ogv)($|\?)/i)){const X=lr("video",{src:a,poster:v,controls:"",playsinline:"","uk-video":`${this.videoAutoplay}`});_e(X,"loadedmetadata",()=>{bt(X,{width:X.videoWidth,height:X.videoHeight,...T}),this.setItem(s,X)}),_e(X,"error",()=>this.setError(s))}else if(u==="iframe"||a.match(/\.(html|php)($|\?)/i))this.setItem(s,lr("iframe",{src:a,allowfullscreen:"",class:"uk-lightbox-iframe",...T}));else if(z=a.match(/\/\/(?:.*?youtube(-nocookie)?\..*?[?&]v=|youtu\.be\/)([\w-]{11})[&?]?(.*)?/))this.setItem(s,lr("iframe",{src:`https://www.youtube${z[1]||""}.com/embed/${z[2]}${z[3]?`?${z[3]}`:""}`,width:1920,height:1080,...F,...T}));else if(z=a.match(/\/\/.*?vimeo\.[a-z]+\/(\d+)[&?]?(.*)?/))try{const{height:X,width:Y}=await(await fetch(`https://vimeo.com/api/oembed.json?maxwidth=1920&url=${encodeURI(a)}`,{credentials:"omit"})).json();this.setItem(s,lr("iframe",{src:`https://player.vimeo.com/video/${z[1]}${z[2]?`?${z[2]}`:""}`,width:Y,height:X,...F,...T}))}catch{this.setError(s)}}}],methods:{loadItem(t=this.index){const s=this.getItem(t);this.getSlide(s).childElementCount||I(this.$el,"itemload",[s])},getItem(t=this.index){return this.items[Yt(t,this.slides)]},setItem(t,s){I(this.$el,"itemloaded",[this,Un(this.getSlide(t),s)])},getSlide(t){return this.slides[this.items.indexOf(t)]},setError(t){this.setItem(t,'<span uk-icon="icon: bolt; ratio: 2"></span>')},showControls(){clearTimeout(this.controlsTimer),this.controlsTimer=setTimeout(this.hideControls,this.delayControls),Nt(this.$el,"uk-active","uk-transition-active")},hideControls(){te(this.$el,"uk-active","uk-transition-active")}}};function lr(t,s){const a=Vn(`<${t}>`);return bt(a,s),a}var Eh={install:gc,props:{toggle:String},data:{toggle:"a"},computed:{toggles:{get({toggle:t},s){return ei(t,s)},watch(){this.hide()}}},disconnected(){this.hide()},events:[{name:"click",delegate(){return`${this.toggle}:not(.uk-disabled)`},handler(t){t.preventDefault(),this.show(t.current)}}],methods:{show(t){const s=_s(this.toggles.map(Wa),"source");if(Ne(t)){const{source:a}=Wa(t);t=Te(s,({source:u})=>a===u)}return this.panel=this.panel||this.$create("lightboxPanel",{...this.$props,items:s}),_e(this.panel.$el,"hidden",()=>this.panel=null),this.panel.show(t)},hide(){var t;return(t=this.panel)==null?void 0:t.hide()}}};function gc(t,s){t.lightboxPanel||t.component("lightboxPanel",mn),Ye(s.props,t.component("lightboxPanel").options.props)}function Wa(t){const s={};for(const a of["href","caption","type","poster","alt","attrs"])s[a==="href"?"source":a]=ie(t,a);return s.attrs=Di(s.attrs),s}var El={mixins:[Ts],functional:!0,args:["message","status"],data:{message:"",status:"",timeout:5e3,group:null,pos:"top-center",clsContainer:"uk-notification",clsClose:"uk-notification-close",clsMsg:"uk-notification-message"},install:Ih,computed:{marginProp({pos:t}){return`margin${Lt(t,"top")?"Top":"Bottom"}`},startProps(){return{opacity:0,[this.marginProp]:-this.$el.offsetHeight}}},created(){const t=ae(`.${this.clsContainer}-${this.pos}`,this.container)||mi(this.container,`<div class="${this.clsContainer} ${this.clsContainer}-${this.pos}" style="display: block"></div>`);this.$mount(mi(t,`<div class="${this.clsMsg}${this.status?` ${this.clsMsg}-${this.status}`:""}" role="alert"> <a href class="${this.clsClose}" data-uk-close></a> <div>${this.message}</div> </div>`))},async connected(){const t=Ht(U(this.$el,this.marginProp));await ee.start(U(this.$el,this.startProps),{opacity:1,[this.marginProp]:t}),this.timeout&&(this.timer=setTimeout(this.close,this.timeout))},events:{click(t){fi(t.target,'a[href="#"],a[href=""]')&&t.preventDefault(),this.close()},[$n](){this.timer&&clearTimeout(this.timer)},[Hs](){this.timeout&&(this.timer=setTimeout(this.close,this.timeout))}},methods:{async close(t){const s=a=>{const u=we(a);I(a,"close",[this]),Vi(a),u!=null&&u.hasChildNodes()||Vi(u)};this.timer&&clearTimeout(this.timer),t||await ee.start(this.$el,this.startProps),s(this.$el)}}};function Ih(t){t.notification.closeAll=function(s,a){fn(document.body,u=>{const y=t.getComponent(u,"notification");y&&(!s||s===y.group)&&y.close(a)})}}const Zo={x:vo,y:vo,rotate:vo,scale:vo,color:Al,backgroundColor:Al,borderColor:Al,blur:os,hue:os,fopacity:os,grayscale:os,invert:os,saturate:os,sepia:os,opacity:ru,stroke:Xc,bgx:Kc,bgy:Kc},{keys:xa}=Object;var Il={mixins:[Cs],props:Qc(xa(Zo),"list"),data:Qc(xa(Zo),void 0),computed:{props(t,s){const a={};for(const y in t)y in Zo&&!oi(t[y])&&(a[y]=t[y].slice());const u={};for(const y in a)u[y]=Zo[y](y,s,a[y],a);return u}},events:{load(){this.$emit()}},methods:{reset(){for(const t in this.getCss(0))U(this.$el,t,"")},getCss(t){const s={transform:"",filter:""};for(const a in this.props)this.props[a](s,t);return s.willChange=Object.keys(s).filter(a=>s[a]!=="").join(","),s}}};function vo(t,s,a){let u=Ho(a)||{x:"px",y:"px",rotate:"deg"}[t]||"",y;return t==="x"||t==="y"?(t=`translate${St(t)}`,y=v=>Ht(Ht(v).toFixed(u==="px"?0:6))):t==="scale"&&(u="",y=v=>Ho([v])?sn(v,"width",s,!0)/s.offsetWidth:v),a.length===1&&a.unshift(t==="scale"?1:0),a=kr(a,y),(v,T)=>{v.transform+=` ${t}(${fs(a,T)}${u})`}}function Al(t,s,a){return a.length===1&&a.unshift(Ds(s,t,"")),a=kr(a,u=>Ah(s,u)),(u,y)=>{const[v,T,z]=Jc(a,y),F=v.map((X,Y)=>(X+=z*(T[Y]-X),Y===3?Ht(X):parseInt(X,10))).join(",");u[t]=`rgba(${F})`}}function Ah(t,s){return Ds(t,"color",s).split(/[(),]/g).slice(1,-1).concat(1).slice(0,4).map(Ht)}function os(t,s,a){a.length===1&&a.unshift(0);const u=Ho(a)||{blur:"px",hue:"deg"}[t]||"%";return t={fopacity:"opacity",hue:"hue-rotate"}[t]||t,a=kr(a),(y,v)=>{const T=fs(a,v);y.filter+=` ${t}(${T+u})`}}function ru(t,s,a){return a.length===1&&a.unshift(Ds(s,t,"")),a=kr(a),(u,y)=>{u[t]=fs(a,y)}}function Xc(t,s,a){a.length===1&&a.unshift(0);const u=Ho(a),y=P(s);return a=kr(a.reverse(),v=>(v=Ht(v),u==="%"?v*y/100:v)),a.some(([v])=>v)?(U(s,"strokeDasharray",y),(v,T)=>{v.strokeDashoffset=fs(a,T)}):$e}function Kc(t,s,a,u){a.length===1&&a.unshift(0);const y=t==="bgy"?"height":"width";u[t]=kr(a,z=>sn(z,y,s));const v=["bgx","bgy"].filter(z=>z in u);if(v.length===2&&t==="bgx")return $e;if(Ds(s,"backgroundSize","")==="cover")return Yc(t,s,a,u);const T={};for(const z of v)T[z]=Ml(s,z);return Pl(v,T,u)}function Yc(t,s,a,u){const y=ou(s);if(!y.width)return $e;const v={width:s.offsetWidth,height:s.offsetHeight},T=["bgx","bgy"].filter(Y=>Y in u),z={};for(const Y of T){const yt=u[Y].map(([Je])=>Je),It=Math.min(...yt),Kt=Math.max(...yt),ke=yt.indexOf(It)<yt.indexOf(Kt),si=Kt-It;z[Y]=`${(ke?-si:0)-(ke?It:Kt)}px`,v[Y==="bgy"?"height":"width"]+=si}const F=qt.cover(y,v);for(const Y of T){const yt=Y==="bgy"?"height":"width",It=F[yt]-v[yt];z[Y]=`max(${Ml(s,Y)},-${It}px) + ${z[Y]}`}const X=Pl(T,z,u);return(Y,yt)=>{X(Y,yt),Y.backgroundSize=`${F.width}px ${F.height}px`,Y.backgroundRepeat="no-repeat"}}function Ml(t,s){return Ds(t,`background-position-${s.substr(-1)}`,"")}function Pl(t,s,a){return function(u,y){for(const v of t){const T=fs(a[v],y);u[`background-position-${v.substr(-1)}`]=`calc(${s[v]} + ${T}px)`}}}const va={};function ou(t){const s=U(t,"backgroundImage").replace(/^none|url\(["']?(.+?)["']?\)$/,"$1");if(va[s])return va[s];const a=new Image;return s&&(a.src=s,!a.naturalWidth)?(a.onload=()=>{va[s]=zl(a),I(t,R("load",!1))},zl(a)):va[s]=zl(a)}function zl(t){return{width:t.naturalWidth,height:t.naturalHeight}}function kr(t,s=Ht){const a=[],{length:u}=t;let y=0;for(let v=0;v<u;v++){let[T,z]=Me(t[v])?t[v].trim().split(" "):[t[v]];if(T=s(T),z=z?Ht(z)/100:null,v===0?z===null?z=0:z&&a.push([T,0]):v===u-1&&(z===null?z=1:z!==1&&(a.push([T,z]),z=1)),a.push([T,z]),z===null)y++;else if(y){const F=a[v-y-1][1],X=(z-F)/(y+1);for(let Y=y;Y>0;Y--)a[v-Y][1]=F+X*(y-Y+1);y=0}}return a}function Jc(t,s){const a=Te(t.slice(1),([,u])=>s<=u)+1;return[t[a-1][0],t[a][0],(s-t[a-1][1])/(t[a][1]-t[a-1][1])]}function fs(t,s){const[a,u,y]=Jc(t,s);return Ui(a)?a+Math.abs(a-u)*y*(a<u?1:-1):+u}const au=/^-?\d+(\S+)?/;function Ho(t,s){for(const a of t){const u=a.match==null?void 0:a.match(au);if(u)return u[1]}return s}function Ds(t,s,a){const u=t.style[s],y=U(U(t,s,a),s);return t.style[s]=u,y}function Qc(t,s){return t.reduce((a,u)=>(a[u]=s,a),{})}var lu={mixins:[Il,bn,xr],props:{target:String,viewport:Number,easing:Number,start:String,end:String},data:{target:!1,viewport:1,easing:1,start:0,end:0},computed:{target({target:t},s){return yc(t&&Pe(t,s)||s)},start({start:t}){return sn(t,"height",this.target,!0)},end({end:t,viewport:s}){return sn(t||(s=(1-s)*100)&&`${s}vh+${s}%`,"height",this.target,!0)}},resizeTargets(){return[this.$el,this.target]},update:{read({percent:t},s){if(s.has("scroll")||(t=!1),!pe(this.$el))return!1;if(!this.matchMedia)return;const a=t;return t=cu(Lo(this.target,this.start,this.end),this.easing),{percent:t,style:a===t?!1:this.getCss(t)}},write({style:t}){if(!this.matchMedia){this.reset();return}t&&U(this.$el,t)},events:["scroll","resize"]}};function cu(t,s){return s>=0?Math.pow(t,s+1):1-Math.pow(1-t,1-s)}function yc(t){return t?"offsetTop"in t?t:yc(we(t)):document.documentElement}var _c={update:{write(){if(this.stack.length||this.dragging)return;const t=this.getValidIndex(this.index);!~this.prevIndex||this.index!==t?this.show(t):this._translate(1,this.prevIndex,this.index)},events:["resize"]}},th={mixins:[rs],connected(){this.lazyload(this.slides,this.getAdjacentSlides)}};function hu(t,s,a,{center:u,easing:y,list:v}){const T=new Ft,z=t?wo(t,v,u):wo(s,v,u)+le(s).width*a,F=s?wo(s,v,u):z+le(t).width*a*(Ci?-1:1);return{dir:a,show(X,Y=0,yt){const It=yt?"linear":y;return X-=Math.round(X*Qe(Y,-1,1)),this.translate(Y),Y=t?Y:Qe(Y,0,1),$l(this.getItemIn(),"itemin",{percent:Y,duration:X,timing:It,dir:a}),t&&$l(this.getItemIn(!0),"itemout",{percent:1-Y,duration:X,timing:It,dir:a}),ee.start(v,{transform:gi(-F*(Ci?-1:1),"px")},X,It).then(T.resolve,$e),T.promise},cancel(){ee.cancel(v)},reset(){U(v,"transform","")},forward(X,Y=this.percent()){return ee.cancel(v),this.show(X,Y,!0)},translate(X){const Y=this.getDistance()*a*(Ci?-1:1);U(v,"transform",gi(Qe(-F+(Y-Y*X),-bo(v),le(v).width)*(Ci?-1:1),"px"));const yt=this.getActives(),It=this.getItemIn(),Kt=this.getItemIn(!0);X=t?Qe(X,-1,1):0;for(const ke of Pt(v)){const si=kt(yt,ke),Je=ke===It,Tr=ke===Kt,Go=Je||!Tr&&(si||a*(Ci?-1:1)===-1^ko(ke,v)>ko(t||s));$l(ke,`itemtranslate${Go?"in":"out"}`,{dir:a,percent:Tr?1-X:Je?X:si?1:0})}},percent(){return Math.abs((U(v,"transform").split(",")[4]*(Ci?-1:1)+z)/(F-z))},getDistance(){return Math.abs(F-z)},getItemIn(X=!1){let Y=this.getActives(),yt=ih(v,wo(s||t,v,u));if(X){const It=Y;Y=yt,yt=It}return yt[Te(yt,It=>!kt(Y,It))]},getActives(){return ih(v,wo(t||s,v,u))}}}function wo(t,s,a){const u=ko(t,s);return a?u-Ll(t,s):Math.min(u,eh(s))}function eh(t){return Math.max(0,bo(t)-le(t).width)}function bo(t){return tn(Pt(t),s=>le(s).width)}function Ll(t,s){return le(s).width/2-le(t).width/2}function ko(t,s){return t&&(Yr(t).left+(Ci?le(t).width-le(s).width:0))*(Ci?-1:1)||0}function ih(t,s){s-=1;const a=le(t).width,u=s+a+2;return Pt(t).filter(y=>{const v=ko(y,t),T=v+Math.min(le(y).width,a);return v>=s&&T<=u})}function $l(t,s,a){I(t,R(s,!1,!1,a))}var uu={mixins:[Wi,Sl,_c,th],props:{center:Boolean,sets:Boolean},data:{center:!1,sets:!1,attrItem:"uk-slider-item",selList:".uk-slider-items",selNav:".uk-slider-nav",clsContainer:"uk-slider-container",Transitioner:hu},computed:{avgWidth(){return bo(this.list)/this.length},finite({finite:t}){return t||Dl(this.list,this.center)},maxIndex(){if(!this.finite||this.center&&!this.sets)return this.length-1;if(this.center)return zn(this.sets);let t=0;const s=eh(this.list),a=Te(this.slides,u=>{if(t>=s)return!0;t+=le(u).width});return~a?a:this.length-1},sets({sets:t}){if(!t)return;let s=0;const a=[],u=le(this.list).width;for(let y=0;y<this.length;y++){const v=le(this.slides[y]).width;s+v>u&&(s=0),this.center?s<u/2&&s+v+le(this.slides[+y+1]).width/2>u/2&&(a.push(+y),s=u/2-v/2):s===0&&a.push(Math.min(+y,this.maxIndex)),s+=v}if(a.length)return a},transitionOptions(){return{center:this.center,list:this.list}}},connected(){Re(this.$el,this.clsContainer,!ae(`.${this.clsContainer}`,this.$el))},update:{write(){for(const t of this.navItems){const s=ri(ie(t,this.attrItem));s!==!1&&(t.hidden=!this.maxIndex||s>this.maxIndex||this.sets&&!kt(this.sets,s))}this.length&&!this.dragging&&!this.stack.length&&(this.reorder(),this._translate(1)),this.updateActiveClasses()},events:["resize"]},events:{beforeitemshow(t){!this.dragging&&this.sets&&this.stack.length<2&&!kt(this.sets,this.index)&&(this.index=this.getValidIndex());const s=Math.abs(this.index-this.prevIndex+(this.dir>0&&this.index<this.prevIndex||this.dir<0&&this.index>this.prevIndex?(this.maxIndex+1)*this.dir:0));if(!this.dragging&&s>1){for(let u=0;u<s;u++)this.stack.splice(1,0,this.dir>0?"next":"previous");t.preventDefault();return}const a=this.dir<0||!this.slides[this.prevIndex]?this.index:this.prevIndex;this.duration=qo(this.avgWidth/this.velocity)*(le(this.slides[a]).width/this.avgWidth),this.reorder()},itemshow(){~this.prevIndex&&Nt(this._getTransitioner().getItemIn(),this.clsActive)},itemshown(){this.updateActiveClasses()}},methods:{reorder(){if(this.finite){U(this.slides,"order","");return}const t=this.dir>0&&this.slides[this.prevIndex]?this.prevIndex:this.index;if(this.slides.forEach((y,v)=>U(y,"order",this.dir>0&&v<t?1:this.dir<0&&v>=this.index?-1:"")),!this.center)return;const s=this.slides[t];let a=le(this.list).width/2-le(s).width/2,u=0;for(;a>0;){const y=this.getIndex(--u+t,t),v=this.slides[y];U(v,"order",y>t?-2:-1),a-=le(v).width}},updateActiveClasses(){const t=this._getTransitioner(this.index).getActives(),s=[this.clsActive,(!this.sets||kt(this.sets,Ht(this.index)))&&this.clsActivated||""];for(const a of this.slides)Re(a,s,kt(t,a))},getValidIndex(t=this.index,s=this.prevIndex){if(t=this.getIndex(t,s),!this.sets)return t;let a;do{if(kt(this.sets,t))return t;a=t,t=this.getIndex(t+this.dir,s)}while(t!==a);return t},getAdjacentSlides(){const{width:t}=le(this.list),s=-t,a=t*2,u=le(this.slides[this.index]).width,y=this.center?t/2-u/2:0,v=new Set;for(const T of[-1,1]){let z=y+(T>0?u:0),F=0;do{const X=this.slides[this.getIndex(this.index+T+F++*T)];z+=le(X).width*T,v.add(X)}while(this.length>F&&z>s&&z<a)}return Array.from(v)}}};function Dl(t,s){const{length:a}=t;if(a<2)return!0;const{width:u}=le(t);if(!s)return Math.ceil(bo(t))<Math.trunc(u+Mh(t));const y=Pt(t),v=Math.trunc(u/2);for(const T in y){const z=y[T],F=le(z).width,X=new Set([z]);let Y=0;for(const yt of[-1,1]){let It=F/2,Kt=0;for(;It<v;){const ke=y[Yt(+T+yt+Kt++*yt,y)];if(X.has(ke))return!0;It+=le(ke).width,X.add(ke)}Y=Math.max(Y,F/2+le(y[Yt(+T+yt,y)]).width/2-(It-v))}if(Y>tn(y.filter(yt=>!X.has(yt)),yt=>le(yt).width))return!0}return!1}function Mh(t){return Math.max(0,...Pt(t).map(s=>le(s).width))}var nh={mixins:[Il],data:{selItem:"!li"},beforeConnect(){this.item=Pe(this.selItem,this.$el)},disconnected(){this.item=null},events:[{name:"itemin itemout",self:!0,el(){return this.item},handler({type:t,detail:{percent:s,duration:a,timing:u,dir:y}}){Li.read(()=>{if(!this.matchMedia)return;const v=this.getCss(rh(t,y,s)),T=this.getCss(sh(t)?.5:y>0?1:0);Li.write(()=>{U(this.$el,v),ee.start(this.$el,T,a,u).catch($e)})})}},{name:"transitioncanceled transitionend",self:!0,el(){return this.item},handler(){ee.cancel(this.$el)}},{name:"itemtranslatein itemtranslateout",self:!0,el(){return this.item},handler({type:t,detail:{percent:s,dir:a}}){Li.read(()=>{if(!this.matchMedia){this.reset();return}const u=this.getCss(rh(t,a,s));Li.write(()=>U(this.$el,u))})}}]};function sh(t){return lt(t,"in")}function rh(t,s,a){return a/=2,sh(t)^s<0?a:1-a}var du={...Ha,fade:{show(){return[{opacity:0,zIndex:0},{zIndex:-1}]},percent(t){return 1-U(t,"opacity")},translate(t){return[{opacity:1-t,zIndex:0},{zIndex:-1}]}},scale:{show(){return[{opacity:0,transform:br(1+.5),zIndex:0},{zIndex:-1}]},percent(t){return 1-U(t,"opacity")},translate(t){return[{opacity:1-t,transform:br(1+.5*t),zIndex:0},{zIndex:-1}]}},pull:{show(t){return t<0?[{transform:gi(30),zIndex:-1},{transform:gi(),zIndex:0}]:[{transform:gi(-100),zIndex:0},{transform:gi(),zIndex:-1}]},percent(t,s,a){return a<0?1-_o(s):_o(t)},translate(t,s){return s<0?[{transform:gi(30*t),zIndex:-1},{transform:gi(-100*(1-t)),zIndex:0}]:[{transform:gi(-t*100),zIndex:0},{transform:gi(30*(1-t)),zIndex:-1}]}},push:{show(t){return t<0?[{transform:gi(100),zIndex:0},{transform:gi(),zIndex:-1}]:[{transform:gi(-30),zIndex:-1},{transform:gi(),zIndex:0}]},percent(t,s,a){return a>0?1-_o(s):_o(t)},translate(t,s){return s<0?[{transform:gi(t*100),zIndex:0},{transform:gi(-30*(1-t)),zIndex:-1}]:[{transform:gi(-30*t),zIndex:-1},{transform:gi(100*(1-t)),zIndex:0}]}}},pu={mixins:[Wi,Wc,_c,th],props:{ratio:String,minHeight:Number,maxHeight:Number},data:{ratio:"16:9",minHeight:!1,maxHeight:!1,selList:".uk-slideshow-items",attrItem:"uk-slideshow-item",selNav:".uk-slideshow-nav",Animations:du},update:{read(){if(!this.list)return!1;let[t,s]=this.ratio.split(":").map(Number);return s=s*this.list.offsetWidth/t||0,this.minHeight&&(s=Math.max(this.minHeight,s)),this.maxHeight&&(s=Math.min(this.maxHeight,s)),{height:s-hi(this.list,"height","content-box")}},write({height:t}){t>0&&U(this.list,"minHeight",t)},events:["resize"]},methods:{getAdjacentSlides(){return[1,-1].map(t=>this.slides[this.getIndex(this.index+t)])}}},fu={mixins:[Wi,Za],props:{group:String,threshold:Number,clsItem:String,clsPlaceholder:String,clsDrag:String,clsDragState:String,clsBase:String,clsNoDrag:String,clsEmpty:String,clsCustom:String,handle:String},data:{group:!1,threshold:5,clsItem:"uk-sortable-item",clsPlaceholder:"uk-sortable-placeholder",clsDrag:"uk-sortable-drag",clsDragState:"uk-drag",clsBase:"uk-sortable",clsNoDrag:"uk-sortable-nodrag",clsEmpty:"uk-sortable-empty",clsCustom:"",handle:!1,pos:{}},created(){for(const t of["init","start","move","end"]){const s=this[t];this[t]=a=>{Ye(this.pos,Ot(a)),s(a)}}},events:{name:un,passive:!1,handler:"init"},computed:{target(){return(this.$el.tBodies||[this.$el])[0]},items(){return Pt(this.target)},isEmpty:{get(){return gn(this.items)},watch(t){Re(this.target,this.clsEmpty,t)},immediate:!0},handles:{get({handle:t},s){return t?ei(t,s):this.items},watch(t,s){U(s,{touchAction:"",userSelect:""}),U(t,{touchAction:is?"none":"",userSelect:"none"})},immediate:!0}},update:{write(t){if(!this.drag||!we(this.placeholder))return;const{pos:{x:s,y:a},origin:{offsetTop:u,offsetLeft:y},placeholder:v}=this;U(this.drag,{top:a-u,left:s-y});const T=this.getSortable(document.elementFromPoint(s,a));if(!T)return;const{items:z}=T;if(z.some(ee.inProgress))return;const F=zh(z,{x:s,y:a});if(z.length&&(!F||F===v))return;const X=this.getSortable(v),Y=Lh(T.target,F,v,s,a,T===X&&t.moved!==F);Y!==!1&&(Y&&v===Y||(T!==X?(X.remove(v),t.moved=F):delete t.moved,T.insert(v,Y),this.touched.add(T)))},events:["move"]},methods:{init(t){const{target:s,button:a,defaultPrevented:u}=t,[y]=this.items.filter(v=>oe(s,v));!y||u||a>0||vt(s)||oe(s,`.${this.clsNoDrag}`)||this.handle&&!oe(s,this.handle)||(t.preventDefault(),this.touched=new Set([this]),this.placeholder=y,this.origin={target:s,index:Xe(y),...this.pos},_e(document,Dr,this.move),_e(document,Hn,this.end),this.threshold||this.start(t))},start(t){this.drag=Ph(this.$container,this.placeholder);const{left:s,top:a}=this.placeholder.getBoundingClientRect();Ye(this.origin,{offsetLeft:this.pos.x-s,offsetTop:this.pos.y-a}),Nt(this.drag,this.clsDrag,this.clsCustom),Nt(this.placeholder,this.clsPlaceholder),Nt(this.items,this.clsItem),Nt(document.documentElement,this.clsDragState),I(this.$el,"start",[this,this.placeholder]),oh(this.pos),this.move(t)},move(t){this.drag?this.$emit("move"):(Math.abs(this.pos.x-this.origin.x)>this.threshold||Math.abs(this.pos.y-this.origin.y)>this.threshold)&&this.start(t)},end(){if(In(document,Dr,this.move),In(document,Hn,this.end),!this.drag)return;mu();const t=this.getSortable(this.placeholder);this===t?this.origin.index!==Xe(this.placeholder)&&I(this.$el,"moved",[this,this.placeholder]):(I(t.$el,"added",[t,this.placeholder]),I(this.$el,"removed",[this,this.placeholder])),I(this.$el,"stop",[this,this.placeholder]),Vi(this.drag),this.drag=null;for(const{clsPlaceholder:s,clsItem:a}of this.touched)for(const u of this.touched)te(u.items,s,a);this.touched=null,te(document.documentElement,this.clsDragState)},insert(t,s){Nt(this.items,this.clsItem);const a=()=>s?zr(s,t):mi(this.target,t);this.animate(a)},remove(t){oe(t,this.target)&&this.animate(()=>Vi(t))},getSortable(t){do{const s=this.$getComponent(t,"sortable");if(s&&(s===this||this.group!==!1&&s.group===this.group))return s}while(t=we(t))}}};let xc;function oh(t){let s=Date.now();xc=setInterval(()=>{let{x:a,y:u}=t;u+=document.scrollingElement.scrollTop;const y=(Date.now()-s)*.3;s=Date.now(),rn(document.elementFromPoint(a,t.y)).reverse().some(v=>{let{scrollTop:T,scrollHeight:z}=v;const{top:F,bottom:X,height:Y}=Ni(v);if(F<u&&F+35>u)T-=y;else if(X>u&&X-35<u)T+=y;else return;if(T>0&&T<z-Y)return v.scrollTop=T,!0})},15)}function mu(){clearInterval(xc)}function Ph(t,s){let a;if(pn(s,"li","tr")){a=ae("<div>"),mi(a,s.cloneNode(!0).children);for(const u of s.getAttributeNames())bt(a,u,s.getAttribute(u))}else a=s.cloneNode(!0);return mi(t,a),U(a,"margin","0","important"),U(a,{boxSizing:"border-box",width:s.offsetWidth,height:s.offsetHeight,padding:U(s,"padding")}),Oi(a.firstElementChild,Oi(s.firstElementChild)),a}function zh(t,s){return t[Te(t,a=>at(s,a.getBoundingClientRect()))]}function Lh(t,s,a,u,y,v){if(!Pt(t).length)return;const T=s.getBoundingClientRect();if(!v)return gu(t,a)||y<T.top+T.height/2?s:s.nextElementSibling;const z=a.getBoundingClientRect(),F=ah([T.top,T.bottom],[z.top,z.bottom]),X=F?u:y,Y=F?"width":"height",yt=F?"left":"top",It=F?"right":"bottom",Kt=z[Y]<T[Y]?T[Y]-z[Y]:0;return z[yt]<T[yt]?Kt&&X<T[yt]+Kt?!1:s.nextElementSibling:Kt&&X>T[It]-Kt?!1:s}function gu(t,s){const a=Pt(t).length===1;a&&mi(t,s);const u=Pt(t),y=u.some((v,T)=>{const z=v.getBoundingClientRect();return u.slice(T+1).some(F=>{const X=F.getBoundingClientRect();return!ah([z.left,z.right],[X.left,X.right])})});return a&&Vi(s),y}function ah(t,s){return t[1]>s[0]&&s[1]>t[0]}var yu={mixins:[Ts,_n,Wn],args:"title",props:{delay:Number,title:String},data:{pos:"top",title:"",delay:0,animation:["uk-animation-scale-up"],duration:100,cls:"uk-active"},beforeConnect(){this.id=`uk-tooltip-${this._uid}`,this._hasTitle=jt(this.$el,"title"),bt(this.$el,{title:"","aria-describedby":this.id}),$h(this.$el)},disconnected(){this.hide(),bt(this.$el,"title")||bt(this.$el,"title",this._hasTitle?this.title:null)},methods:{show(){this.isToggled(this.tooltip||null)||!this.title||(this._unbind=Z(document,`keydown ${un}`,this.hide,!1,t=>t.type===un&&!oe(t.target,this.$el)||t.type==="keydown"&&t.keyCode===27),clearTimeout(this.showTimer),this.showTimer=setTimeout(this._show,this.delay))},async hide(){Oe(this.$el,"input:focus")||(clearTimeout(this.showTimer),this.isToggled(this.tooltip||null)&&(await this.toggleElement(this.tooltip,!1,!1),Vi(this.tooltip),this.tooltip=null,this._unbind()))},_show(){const[t]=rn(this.$el);this.tooltip=mi(oe(t,this.container)?t:this.container,`<div id="${this.id}" class="uk-${this.$options.name}" role="tooltip"> <div class="uk-${this.$options.name}-inner">${this.title}</div> </div>`),_e(this.tooltip,"toggled",(s,a)=>{if(!a)return;this.positionAt(this.tooltip,this.$el);const[u,y]=_u(this.tooltip,this.$el,this.pos);this.origin=this.axis==="y"?`${$r(u)}-${y}`:`${y}-${$r(u)}`}),this.toggleElement(this.tooltip,!0)}},events:{focus:"show",blur:"hide",[`${$n} ${Hs}`](t){Tt(t)||this[t.type===$n?"show":"hide"]()},[un](t){Tt(t)&&this.show()}}};function $h(t){en(t)||bt(t,"tabindex","0")}function _u(t,s,[a,u]){const y=He(t),v=He(s),T=[["left","right"],["top","bottom"]];for(const F of T){if(y[F[0]]>=v[F[1]]){a=F[1];break}if(y[F[1]]<=v[F[0]]){a=F[0];break}}const z=kt(T[0],a)?T[1]:T[0];return y[z[0]]===v[z[0]]?u=z[0]:y[z[1]]===v[z[1]]?u=z[1]:u="center",[a,u]}var xu={props:{allow:String,clsDragover:String,concurrent:Number,maxSize:Number,method:String,mime:String,msgInvalidMime:String,msgInvalidName:String,msgInvalidSize:String,multiple:Boolean,name:String,params:Object,type:String,url:String},data:{allow:!1,clsDragover:"uk-dragover",concurrent:1,maxSize:0,method:"POST",mime:!1,msgInvalidMime:"Invalid File Type: %s",msgInvalidName:"Invalid File Name: %s",msgInvalidSize:"Invalid File Size: %s Kilobytes Max",multiple:!1,name:"files[]",params:{},type:"",url:"",abort:$e,beforeAll:$e,beforeSend:$e,complete:$e,completeAll:$e,error:$e,fail:$e,load:$e,loadEnd:$e,loadStart:$e,progress:$e},events:{change(t){Oe(t.target,'input[type="file"]')&&(t.preventDefault(),t.target.files&&this.upload(t.target.files),t.target.value="")},drop(t){To(t);const s=t.dataTransfer;s!=null&&s.files&&(te(this.$el,this.clsDragover),this.upload(s.files))},dragenter(t){To(t)},dragover(t){To(t),Nt(this.$el,this.clsDragover)},dragleave(t){To(t),te(this.$el,this.clsDragover)}},methods:{async upload(t){if(t=Pi(t),!t.length)return;I(this.$el,"upload",[t]);for(const u of t){if(this.maxSize&&this.maxSize*1e3<u.size){this.fail(this.msgInvalidSize.replace("%s",this.maxSize));return}if(this.allow&&!wa(this.allow,u.name)){this.fail(this.msgInvalidName.replace("%s",this.allow));return}if(this.mime&&!wa(this.mime,u.type)){this.fail(this.msgInvalidMime.replace("%s",this.mime));return}}this.multiple||(t=t.slice(0,1)),this.beforeAll(this,t);const s=qn(t,this.concurrent),a=async u=>{const y=new FormData;u.forEach(v=>y.append(this.name,v));for(const v in this.params)y.append(v,this.params[v]);try{const v=await Mt(this.url,{data:y,method:this.method,responseType:this.type,beforeSend:T=>{const{xhr:z}=T;z.upload&&_e(z.upload,"progress",this.progress);for(const F of["loadStart","load","loadEnd","abort"])_e(z,F.toLowerCase(),this[F]);return this.beforeSend(T)}});this.complete(v),s.length?await a(s.shift()):this.completeAll(v)}catch(v){this.error(v)}};await a(s.shift())}}};function wa(t,s){return s.match(new RegExp(`^${t.replace(/\//g,"\\/").replace(/\*\*/g,"(\\/[^\\/]+)*").replace(/\*/g,"[^\\/]+").replace(/((?!\\))\?/g,"$1.")}$`,"i"))}function qn(t,s){const a=[];for(let u=0;u<t.length;u+=s)a.push(t.slice(u,u+s));return a}function To(t){t.preventDefault(),t.stopPropagation()}var Dh=Object.freeze({__proto__:null,Countdown:ja,Filter:Th,Lightbox:Eh,LightboxPanel:mn,Notification:El,Parallax:lu,Slider:uu,SliderParallax:nh,Slideshow:pu,SlideshowParallax:nh,Sortable:fu,Tooltip:yu,Upload:xu});return Gi(Dh,(t,s)=>Ei.component(s,t)),Ei})})(yy);var Vf={},_y={get exports(){return Vf},set exports(g){Vf=g}};/*! UIkit 3.15.22 | https://www.getuikit.com | (c) 2014 - 2023 YOOtheme | MIT License */(function(g,k){/*! UIkit 3.15.22 | https://www.getuikit.com | (c) 2014 - 2023 YOOtheme | MIT License */(function(M,D){g.exports=D()})(_d,function(){function M(D){M.installed||D.icon.add({"500px":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.624,11.866c-0.141,0.132,0.479,0.658,0.662,0.418c0.051-0.046,0.607-0.61,0.662-0.664c0,0,0.738,0.719,0.814,0.719 c0.1,0,0.207-0.055,0.322-0.17c0.27-0.269,0.135-0.416,0.066-0.495l-0.631-0.616l0.658-0.668c0.146-0.156,0.021-0.314-0.1-0.449 c-0.182-0.18-0.359-0.226-0.471-0.125l-0.656,0.654l-0.654-0.654c-0.033-0.034-0.08-0.045-0.124-0.045 c-0.079,0-0.191,0.068-0.307,0.181c-0.202,0.202-0.247,0.351-0.133,0.462l0.665,0.665L9.624,11.866z"/><path d="M11.066,2.884c-1.061,0-2.185,0.248-3.011,0.604c-0.087,0.034-0.141,0.106-0.15,0.205C7.893,3.784,7.919,3.909,7.982,4.066 c0.05,0.136,0.187,0.474,0.452,0.372c0.844-0.326,1.779-0.507,2.633-0.507c0.963,0,1.9,0.191,2.781,0.564 c0.695,0.292,1.357,0.719,2.078,1.34c0.051,0.044,0.105,0.068,0.164,0.068c0.143,0,0.273-0.137,0.389-0.271 c0.191-0.214,0.324-0.395,0.135-0.575c-0.686-0.654-1.436-1.138-2.363-1.533C13.24,3.097,12.168,2.884,11.066,2.884z"/><path d="M16.43,15.747c-0.092-0.028-0.242,0.05-0.309,0.119l0,0c-0.652,0.652-1.42,1.169-2.268,1.521 c-0.877,0.371-1.814,0.551-2.779,0.551c-0.961,0-1.896-0.189-2.775-0.564c-0.848-0.36-1.612-0.879-2.268-1.53 c-0.682-0.688-1.196-1.455-1.529-2.268c-0.325-0.799-0.471-1.643-0.471-1.643c-0.045-0.24-0.258-0.249-0.567-0.203 c-0.128,0.021-0.519,0.079-0.483,0.36v0.01c0.105,0.644,0.289,1.284,0.545,1.895c0.417,0.969,1.002,1.849,1.756,2.604 c0.757,0.754,1.636,1.34,2.604,1.757C8.901,18.785,9.97,19,11.088,19c1.104,0,2.186-0.215,3.188-0.645 c1.838-0.896,2.604-1.757,2.604-1.757c0.182-0.204,0.227-0.317-0.1-0.643C16.779,15.956,16.525,15.774,16.43,15.747z"/><path d="M5.633,13.287c0.293,0.71,0.723,1.341,1.262,1.882c0.54,0.54,1.172,0.971,1.882,1.264c0.731,0.303,1.509,0.461,2.298,0.461 c0.801,0,1.578-0.158,2.297-0.461c0.711-0.293,1.344-0.724,1.883-1.264c0.543-0.541,0.971-1.172,1.264-1.882 c0.314-0.721,0.463-1.5,0.463-2.298c0-0.79-0.148-1.569-0.463-2.289c-0.293-0.699-0.721-1.329-1.264-1.881 c-0.539-0.541-1.172-0.959-1.867-1.263c-0.721-0.303-1.5-0.461-2.299-0.461c-0.802,0-1.613,0.159-2.322,0.461 c-0.577,0.25-1.544,0.867-2.119,1.454v0.012V2.108h8.16C15.1,2.104,15.1,1.69,15.1,1.552C15.1,1.417,15.1,1,14.809,1H5.915 C5.676,1,5.527,1.192,5.527,1.384v6.84c0,0.214,0.273,0.372,0.529,0.428c0.5,0.105,0.614-0.056,0.737-0.224l0,0 c0.18-0.273,0.776-0.884,0.787-0.894c0.901-0.905,2.117-1.408,3.416-1.408c1.285,0,2.5,0.501,3.412,1.408 c0.914,0.914,1.408,2.122,1.408,3.405c0,1.288-0.508,2.496-1.408,3.405c-0.9,0.896-2.152,1.406-3.438,1.406 c-0.877,0-1.711-0.229-2.433-0.671v-4.158c0-0.553,0.237-1.151,0.643-1.614c0.462-0.519,1.094-0.799,1.782-0.799 c0.664,0,1.293,0.253,1.758,0.715c0.459,0.459,0.709,1.071,0.709,1.723c0,1.385-1.094,2.468-2.488,2.468 c-0.273,0-0.769-0.121-0.781-0.125c-0.281-0.087-0.405,0.306-0.438,0.436c-0.159,0.496,0.079,0.585,0.123,0.607 c0.452,0.137,0.743,0.157,1.129,0.157c1.973,0,3.572-1.6,3.572-3.57c0-1.964-1.6-3.552-3.572-3.552c-0.97,0-1.872,0.36-2.546,1.038 c-0.656,0.631-1.027,1.487-1.027,2.322v3.438v-0.011c-0.372-0.42-0.732-1.041-0.981-1.682c-0.102-0.248-0.315-0.202-0.607-0.113 c-0.135,0.035-0.519,0.157-0.44,0.439C5.372,12.799,5.577,13.164,5.633,13.287z"/></svg>',album:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="2" width="10" height="1"/><rect x="3" y="4" width="14" height="1"/><rect fill="none" stroke="#000" x="1.5" y="6.5" width="17" height="11"/></svg>',"arrow-down":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polygon points="10.5,16.08 5.63,10.66 6.37,10 10.5,14.58 14.63,10 15.37,10.66"/><line fill="none" stroke="#000" x1="10.5" y1="4" x2="10.5" y2="15"/></svg>',"arrow-left":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" points="10 14 5 9.5 10 5"/><line fill="none" stroke="#000" x1="16" y1="9.5" x2="5" y2="9.52"/></svg>',"arrow-right":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" points="10 5 15 9.5 10 14"/><line fill="none" stroke="#000" x1="4" y1="9.5" x2="15" y2="9.5"/></svg>',"arrow-up":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polygon points="10.5,4 15.37,9.4 14.63,10.08 10.5,5.49 6.37,10.08 5.63,9.4"/><line fill="none" stroke="#000" x1="10.5" y1="16" x2="10.5" y2="5"/></svg>',bag:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="#000" d="M7.5,7.5V4A2.48,2.48,0,0,1,10,1.5,2.54,2.54,0,0,1,12.5,4V7.5"/><polygon fill="none" stroke="#000" points="16.5 7.5 3.5 7.5 2.5 18.5 17.5 18.5 16.5 7.5"/></svg>',ban:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle fill="none" stroke="#000" stroke-width="1.1" cx="10" cy="10" r="9"/><line fill="none" stroke="#000" stroke-width="1.1" x1="4" y1="3.5" x2="16" y2="16.5"/></svg>',behance:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.5,10.6c-0.4-0.5-0.9-0.9-1.6-1.1c1.7-1,2.2-3.2,0.7-4.7C7.8,4,6.3,4,5.2,4C3.5,4,1.7,4,0,4v12c1.7,0,3.4,0,5.2,0 c1,0,2.1,0,3.1-0.5C10.2,14.6,10.5,12.3,9.5,10.6L9.5,10.6z M5.6,6.1c1.8,0,1.8,2.7-0.1,2.7c-1,0-2,0-2.9,0V6.1H5.6z M2.6,13.8v-3.1 c1.1,0,2.1,0,3.2,0c2.1,0,2.1,3.2,0.1,3.2L2.6,13.8z"/><path d="M19.9,10.9C19.7,9.2,18.7,7.6,17,7c-4.2-1.3-7.3,3.4-5.3,7.1c0.9,1.7,2.8,2.3,4.7,2.1c1.7-0.2,2.9-1.3,3.4-2.9h-2.2 c-0.4,1.3-2.4,1.5-3.5,0.6c-0.4-0.4-0.6-1.1-0.6-1.7H20C20,11.7,19.9,10.9,19.9,10.9z M13.5,10.6c0-1.6,2.3-2.7,3.5-1.4 c0.4,0.4,0.5,0.9,0.6,1.4H13.5L13.5,10.6z"/><rect x="13" y="4" width="5" height="1.4"/></svg>',bell:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="#000" stroke-width="1.1" d="M17,15.5 L3,15.5 C2.99,14.61 3.79,13.34 4.1,12.51 C4.58,11.3 4.72,10.35 5.19,7.01 C5.54,4.53 5.89,3.2 7.28,2.16 C8.13,1.56 9.37,1.5 9.81,1.5 L9.96,1.5 C9.96,1.5 11.62,1.41 12.67,2.17 C14.08,3.2 14.42,4.54 14.77,7.02 C15.26,10.35 15.4,11.31 15.87,12.52 C16.2,13.34 17.01,14.61 17,15.5 L17,15.5 Z"/><path fill="none" stroke="#000" d="M12.39,16 C12.39,17.37 11.35,18.43 9.91,18.43 C8.48,18.43 7.42,17.37 7.42,16"/></svg>',bold:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5,15.3 C5.66,15.3 5.9,15 5.9,14.53 L5.9,5.5 C5.9,4.92 5.56,4.7 5,4.7 L5,4 L8.95,4 C12.6,4 13.7,5.37 13.7,6.9 C13.7,7.87 13.14,9.17 10.86,9.59 L10.86,9.7 C13.25,9.86 14.29,11.28 14.3,12.54 C14.3,14.47 12.94,16 9,16 L5,16 L5,15.3 Z M9,9.3 C11.19,9.3 11.8,8.5 11.85,7 C11.85,5.65 11.3,4.8 9,4.8 L7.67,4.8 L7.67,9.3 L9,9.3 Z M9.185,15.22 C11.97,15 12.39,14 12.4,12.58 C12.4,11.15 11.39,10 9,10 L7.67,10 L7.67,15 L9.18,15 Z"/></svg>',bolt:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M4.74,20 L7.73,12 L3,12 L15.43,1 L12.32,9 L17.02,9 L4.74,20 L4.74,20 L4.74,20 Z M9.18,11 L7.1,16.39 L14.47,10 L10.86,10 L12.99,4.67 L5.61,11 L9.18,11 L9.18,11 L9.18,11 Z"/></svg>',bookmark:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polygon fill="none" stroke="#000" points="5.5 1.5 15.5 1.5 15.5 17.5 10.5 12.5 5.5 17.5"/></svg>',calendar:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M 2,3 2,17 18,17 18,3 2,3 Z M 17,16 3,16 3,8 17,8 17,16 Z M 17,7 3,7 3,4 17,4 17,7 Z"/><rect width="1" height="3" x="6" y="2"/><rect width="1" height="3" x="13" y="2"/></svg>',camera:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle fill="none" stroke="#000" stroke-width="1.1" cx="10" cy="10.8" r="3.8"/><path fill="none" stroke="#000" d="M1,4.5 C0.7,4.5 0.5,4.7 0.5,5 L0.5,17 C0.5,17.3 0.7,17.5 1,17.5 L19,17.5 C19.3,17.5 19.5,17.3 19.5,17 L19.5,5 C19.5,4.7 19.3,4.5 19,4.5 L13.5,4.5 L13.5,2.9 C13.5,2.6 13.3,2.5 13,2.5 L7,2.5 C6.7,2.5 6.5,2.6 6.5,2.9 L6.5,4.5 L1,4.5 L1,4.5 Z"/></svg>',cart:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="7.3" cy="17.3" r="1.4"/><circle cx="13.3" cy="17.3" r="1.4"/><polyline fill="none" stroke="#000" points="0 2 3.2 4 5.3 12.5 16 12.5 18 6.5 8 6.5"/></svg>',check:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" stroke-width="1.1" points="4,10 8,15 17,4"/></svg>',"chevron-double-left":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" stroke-width="1.03" points="10 14 6 10 10 6"/><polyline fill="none" stroke="#000" stroke-width="1.03" points="14 14 10 10 14 6"/></svg>',"chevron-double-right":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" stroke-width="1.03" points="10 6 14 10 10 14"/><polyline fill="none" stroke="#000" stroke-width="1.03" points="6 6 10 10 6 14"/></svg>',"chevron-down":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" stroke-width="1.03" points="16 7 10 13 4 7"/></svg>',"chevron-left":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" stroke-width="1.03" points="13 16 7 10 13 4"/></svg>',"chevron-right":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" stroke-width="1.03" points="7 4 13 10 7 16"/></svg>',"chevron-up":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" stroke-width="1.03" points="4 13 10 7 16 13"/></svg>',clock:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle fill="none" stroke="#000" stroke-width="1.1" cx="10" cy="10" r="9"/><rect x="9" y="4" width="1" height="7"/><path fill="none" stroke="#000" stroke-width="1.1" d="M13.018,14.197 L9.445,10.625"/></svg>',close:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="#000" stroke-width="1.06" d="M16,16 L4,4"/><path fill="none" stroke="#000" stroke-width="1.06" d="M16,4 L4,16"/></svg>',"cloud-download":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="#000" stroke-width="1.1" d="M6.5,14.61 L3.75,14.61 C1.96,14.61 0.5,13.17 0.5,11.39 C0.5,9.76 1.72,8.41 3.3,8.2 C3.38,5.31 5.75,3 8.68,3 C11.19,3 13.31,4.71 13.89,7.02 C14.39,6.8 14.93,6.68 15.5,6.68 C17.71,6.68 19.5,8.45 19.5,10.64 C19.5,12.83 17.71,14.6 15.5,14.6 L12.5,14.6"/><polyline fill="none" stroke="#000" points="11.75 16 9.5 18.25 7.25 16"/><path fill="none" stroke="#000" d="M9.5,18 L9.5,9.5"/></svg>',"cloud-upload":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="#000" stroke-width="1.1" d="M6.5,14.61 L3.75,14.61 C1.96,14.61 0.5,13.17 0.5,11.39 C0.5,9.76 1.72,8.41 3.31,8.2 C3.38,5.31 5.75,3 8.68,3 C11.19,3 13.31,4.71 13.89,7.02 C14.39,6.8 14.93,6.68 15.5,6.68 C17.71,6.68 19.5,8.45 19.5,10.64 C19.5,12.83 17.71,14.6 15.5,14.6 L12.5,14.6"/><polyline fill="none" stroke="#000" points="7.25 11.75 9.5 9.5 11.75 11.75"/><path fill="none" stroke="#000" d="M9.5,18 L9.5,9.5"/></svg>',code:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" stroke-width="1.01" points="13,4 19,10 13,16"/><polyline fill="none" stroke="#000" stroke-width="1.01" points="7,4 1,10 7,16"/></svg>',cog:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle fill="none" stroke="#000" cx="9.997" cy="10" r="3.31"/><path fill="none" stroke="#000" d="M18.488,12.285 L16.205,16.237 C15.322,15.496 14.185,15.281 13.303,15.791 C12.428,16.289 12.047,17.373 12.246,18.5 L7.735,18.5 C7.938,17.374 7.553,16.299 6.684,15.791 C5.801,15.27 4.655,15.492 3.773,16.237 L1.5,12.285 C2.573,11.871 3.317,10.999 3.317,9.991 C3.305,8.98 2.573,8.121 1.5,7.716 L3.765,3.784 C4.645,4.516 5.794,4.738 6.687,4.232 C7.555,3.722 7.939,2.637 7.735,1.5 L12.263,1.5 C12.072,2.637 12.441,3.71 13.314,4.22 C14.206,4.73 15.343,4.516 16.225,3.794 L18.487,7.714 C17.404,8.117 16.661,8.988 16.67,10.009 C16.672,11.018 17.415,11.88 18.488,12.285 L18.488,12.285 Z"/></svg>',comment:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6,18.71 L6,14 L1,14 L1,1 L19,1 L19,14 L10.71,14 L6,18.71 L6,18.71 Z M2,13 L7,13 L7,16.29 L10.29,13 L18,13 L18,2 L2,2 L2,13 L2,13 Z"/></svg>',commenting:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polygon fill="none" stroke="#000" points="1.5,1.5 18.5,1.5 18.5,13.5 10.5,13.5 6.5,17.5 6.5,13.5 1.5,13.5"/><circle cx="10" cy="8" r="1"/><circle cx="6" cy="8" r="1"/><circle cx="14" cy="8" r="1"/></svg>',comments:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" points="2 0.5 19.5 0.5 19.5 13"/><path d="M5,19.71 L5,15 L0,15 L0,2 L18,2 L18,15 L9.71,15 L5,19.71 L5,19.71 L5,19.71 Z M1,14 L6,14 L6,17.29 L9.29,14 L17,14 L17,3 L1,3 L1,14 L1,14 L1,14 Z"/></svg>',copy:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><rect fill="none" stroke="#000" x="3.5" y="2.5" width="12" height="16"/><polyline fill="none" stroke="#000" points="5 0.5 17.5 0.5 17.5 17"/></svg>',"credit-card":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><rect fill="none" stroke="#000" x="1.5" y="4.5" width="17" height="12"/><rect x="1" y="7" width="18" height="3"/></svg>',crosshairs:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle fill="none" stroke="#000" cx="10" cy="10" r="7.5"/><line fill="none" stroke="#000" x1="10" x2="10" y2="8"/><line fill="none" stroke="#000" x1="10" y1="12" x2="10" y2="20"/><line fill="none" stroke="#000" y1="10" x2="8" y2="10"/><line fill="none" stroke="#000" x1="12" y1="10" x2="20" y2="10"/></svg>',database:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><ellipse fill="none" stroke="#000" cx="10" cy="4.64" rx="7.5" ry="3.14"/><path fill="none" stroke="#000" d="M17.5,8.11 C17.5,9.85 14.14,11.25 10,11.25 C5.86,11.25 2.5,9.84 2.5,8.11"/><path fill="none" stroke="#000" d="M17.5,11.25 C17.5,12.99 14.14,14.39 10,14.39 C5.86,14.39 2.5,12.98 2.5,11.25"/><path fill="none" stroke="#000" d="M17.49,4.64 L17.5,14.36 C17.5,16.1 14.14,17.5 10,17.5 C5.86,17.5 2.5,16.09 2.5,14.36 L2.5,4.64"/></svg>',desktop:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="1" height="2"/><rect x="11" y="15" width="1" height="2"/><rect x="5" y="16" width="10" height="1"/><rect fill="none" stroke="#000" x="1.5" y="3.5" width="17" height="11"/></svg>',discord:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><path d="M16.074,4.361a14.243,14.243,0,0,0-3.61-1.134,10.61,10.61,0,0,0-.463.96,13.219,13.219,0,0,0-4,0,10.138,10.138,0,0,0-.468-.96A14.206,14.206,0,0,0,3.919,4.364,15.146,15.146,0,0,0,1.324,14.5a14.435,14.435,0,0,0,4.428,2.269A10.982,10.982,0,0,0,6.7,15.21a9.294,9.294,0,0,1-1.494-.727c.125-.093.248-.19.366-.289a10.212,10.212,0,0,0,8.854,0c.119.1.242.2.366.289a9.274,9.274,0,0,1-1.5.728,10.8,10.8,0,0,0,.948,1.562,14.419,14.419,0,0,0,4.431-2.27A15.128,15.128,0,0,0,16.074,4.361Zm-8.981,8.1a1.7,1.7,0,0,1-1.573-1.79A1.689,1.689,0,0,1,7.093,8.881a1.679,1.679,0,0,1,1.573,1.791A1.687,1.687,0,0,1,7.093,12.462Zm5.814,0a1.7,1.7,0,0,1-1.573-1.79,1.689,1.689,0,0,1,1.573-1.791,1.679,1.679,0,0,1,1.573,1.791A1.688,1.688,0,0,1,12.907,12.462Z"/></svg>',download:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" points="14,10 9.5,14.5 5,10"/><rect x="3" y="17" width="13" height="1"/><line fill="none" stroke="#000" x1="9.5" y1="13.91" x2="9.5" y2="3"/></svg>',dribbble:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="#000" stroke-width="1.4" d="M1.3,8.9c0,0,5,0.1,8.6-1c1.4-0.4,2.6-0.9,4-1.9 c1.4-1.1,2.5-2.5,2.5-2.5"/><path fill="none" stroke="#000" stroke-width="1.4" d="M3.9,16.6c0,0,1.7-2.8,3.5-4.2 c1.8-1.3,4-2,5.7-2.2C16,10,19,10.6,19,10.6"/><path fill="none" stroke="#000" stroke-width="1.4" d="M6.9,1.6c0,0,3.3,4.6,4.2,6.8 c0.4,0.9,1.3,3.1,1.9,5.2c0.6,2,0.9,4.4,0.9,4.4"/><circle fill="none" stroke="#000" stroke-width="1.4" cx="10" cy="10" r="9"/></svg>',etsy:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><path d="M8,4.26C8,4.07,8,4,8.31,4h4.46c.79,0,1.22.67,1.53,1.91l.25,1h.76c.14-2.82.26-4,.26-4S13.65,3,12.52,3H6.81L3.75,2.92v.84l1,.2c.73.11.9.27,1,1,0,0,.06,2,.06,5.17s-.06,5.14-.06,5.14c0,.59-.23.81-1,.94l-1,.2v.84l3.06-.1h5.11c1.15,0,3.82.1,3.82.1,0-.7.45-3.88.51-4.22h-.73l-.76,1.69a2.25,2.25,0,0,1-2.45,1.47H9.4c-1,0-1.44-.4-1.44-1.24V10.44s2.16,0,2.86.06c.55,0,.85.19,1.06,1l.23,1H13L12.9,9.94,13,7.41h-.85l-.28,1.13c-.16.74-.28.84-1,1-1,.1-2.89.09-2.89.09Z"/></svg>',expand:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polygon points="13 2 18 2 18 7 17 7 17 3 13 3"/><polygon points="2 13 3 13 3 17 7 17 7 18 2 18"/><path fill="none" stroke="#000" stroke-width="1.1" d="M11,9 L17,3"/><path fill="none" stroke="#000" stroke-width="1.1" d="M3,17 L9,11"/></svg>',"eye-slash":'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><path fill="none" stroke="#000" d="m7.56,7.56c.62-.62,1.49-1.01,2.44-1.01,1.91,0,3.45,1.54,3.45,3.45,0,.95-.39,1.82-1.01,2.44"/><path fill="none" stroke="#000" d="m19.5,10c-2.4,3.66-5.26,7-9.5,7h0,0,0c-4.24,0-7.1-3.34-9.49-7C2.89,6.34,5.75,3,9.99,3h0,0,0c4.25,0,7.11,3.34,9.5,7Z"/><line fill="none" stroke="#000" x1="2.5" y1="2.5" x2="17.5" y2="17.5"/></svg>',eye:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><circle fill="none" stroke="#000" cx="10" cy="10" r="3.45"/><path fill="none" stroke="#000" d="m19.5,10c-2.4,3.66-5.26,7-9.5,7h0,0,0c-4.24,0-7.1-3.34-9.49-7C2.89,6.34,5.75,3,9.99,3h0,0,0c4.25,0,7.11,3.34,9.5,7Z"/></svg>',facebook:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11,10h2.6l0.4-3H11V5.3c0-0.9,0.2-1.5,1.5-1.5H14V1.1c-0.3,0-1-0.1-2.1-0.1C9.6,1,8,2.4,8,5v2H5.5v3H8v8h3V10z"/></svg>',"file-edit":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="#000" d="M18.65,1.68 C18.41,1.45 18.109,1.33 17.81,1.33 C17.499,1.33 17.209,1.45 16.98,1.68 L8.92,9.76 L8,12.33 L10.55,11.41 L18.651,3.34 C19.12,2.87 19.12,2.15 18.65,1.68 L18.65,1.68 L18.65,1.68 Z"/><polyline fill="none" stroke="#000" points="16.5 8.482 16.5 18.5 3.5 18.5 3.5 1.5 14.211 1.5"/></svg>',"file-pdf":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><rect fill="none" stroke="#000" width="13" height="17" x="3.5" y="1.5"/><path d="M14.65 11.67c-.48.3-1.37-.19-1.79-.37a4.65 4.65 0 0 1 1.49.06c.35.1.36.28.3.31zm-6.3.06l.43-.79a14.7 14.7 0 0 0 .75-1.64 5.48 5.48 0 0 0 1.25 1.55l.2.15a16.36 16.36 0 0 0-2.63.73zM9.5 5.32c.2 0 .32.5.32.97a1.99 1.99 0 0 1-.23 1.04 5.05 5.05 0 0 1-.17-1.3s0-.71.08-.71zm-3.9 9a4.35 4.35 0 0 1 1.21-1.46l.24-.22a4.35 4.35 0 0 1-1.46 1.68zm9.23-3.3a2.05 2.05 0 0 0-1.32-.3 11.07 11.07 0 0 0-1.58.11 4.09 4.09 0 0 1-.74-.5 5.39 5.39 0 0 1-1.32-2.06 10.37 10.37 0 0 0 .28-2.62 1.83 1.83 0 0 0-.07-.25.57.57 0 0 0-.52-.4H9.4a.59.59 0 0 0-.6.38 6.95 6.95 0 0 0 .37 3.14c-.26.63-1 2.12-1 2.12-.3.58-.57 1.08-.82 1.5l-.8.44A3.11 3.11 0 0 0 5 14.16a.39.39 0 0 0 .15.42l.24.13c1.15.56 2.28-1.74 2.66-2.42a23.1 23.1 0 0 1 3.59-.85 4.56 4.56 0 0 0 2.91.8.5.5 0 0 0 .3-.21 1.1 1.1 0 0 0 .12-.75.84.84 0 0 0-.14-.25z"/></svg>',"file-text":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><rect fill="none" stroke="#000" width="13" height="17" x="3.5" y="1.5"/><line fill="none" stroke="#000" x1="6" x2="12" y1="12.5" y2="12.5"/><line fill="none" stroke="#000" x1="6" x2="14" y1="8.5" y2="8.5"/><line fill="none" stroke="#000" x1="6" x2="14" y1="6.5" y2="6.5"/><line fill="none" stroke="#000" x1="6" x2="14" y1="10.5" y2="10.5"/></svg>',file:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><rect fill="none" stroke="#000" x="3.5" y="1.5" width="13" height="17"/></svg>',flickr:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="5.5" cy="9.5" r="3.5"/><circle cx="14.5" cy="9.5" r="3.5"/></svg>',folder:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polygon fill="none" stroke="#000" points="9.5 5.5 8.5 3.5 1.5 3.5 1.5 16.5 18.5 16.5 18.5 5.5"/></svg>',forward:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.47,13.11 C4.02,10.02 6.27,7.85 9.04,6.61 C9.48,6.41 10.27,6.13 11,5.91 L11,2 L18.89,9 L11,16 L11,12.13 C9.25,12.47 7.58,13.19 6.02,14.25 C3.03,16.28 1.63,18.54 1.63,18.54 C1.63,18.54 1.38,15.28 2.47,13.11 L2.47,13.11 Z M5.3,13.53 C6.92,12.4 9.04,11.4 12,10.92 L12,13.63 L17.36,9 L12,4.25 L12,6.8 C11.71,6.86 10.86,7.02 9.67,7.49 C6.79,8.65 4.58,10.96 3.49,13.08 C3.18,13.7 2.68,14.87 2.49,16 C3.28,15.05 4.4,14.15 5.3,13.53 L5.3,13.53 Z"/></svg>',foursquare:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.23,2 C15.96,2 16.4,2.41 16.5,2.86 C16.57,3.15 16.56,3.44 16.51,3.73 C16.46,4.04 14.86,11.72 14.75,12.03 C14.56,12.56 14.16,12.82 13.61,12.83 C13.03,12.84 11.09,12.51 10.69,13 C10.38,13.38 7.79,16.39 6.81,17.53 C6.61,17.76 6.4,17.96 6.08,17.99 C5.68,18.04 5.29,17.87 5.17,17.45 C5.12,17.28 5.1,17.09 5.1,16.91 C5.1,12.4 4.86,7.81 5.11,3.31 C5.17,2.5 5.81,2.12 6.53,2 L15.23,2 L15.23,2 Z M9.76,11.42 C9.94,11.19 10.17,11.1 10.45,11.1 L12.86,11.1 C13.12,11.1 13.31,10.94 13.36,10.69 C13.37,10.64 13.62,9.41 13.74,8.83 C13.81,8.52 13.53,8.28 13.27,8.28 C12.35,8.29 11.42,8.28 10.5,8.28 C9.84,8.28 9.83,7.69 9.82,7.21 C9.8,6.85 10.13,6.55 10.5,6.55 C11.59,6.56 12.67,6.55 13.76,6.55 C14.03,6.55 14.23,6.4 14.28,6.14 C14.34,5.87 14.67,4.29 14.67,4.29 C14.67,4.29 14.82,3.74 14.19,3.74 L7.34,3.74 C7,3.75 6.84,4.02 6.84,4.33 C6.84,7.58 6.85,14.95 6.85,14.99 C6.87,15 8.89,12.51 9.76,11.42 L9.76,11.42 Z"/></svg>',future:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polyline points="19 2 18 2 18 6 14 6 14 7 19 7 19 2"/><path fill="none" stroke="#000" stroke-width="1.1" d="M18,6.548 C16.709,3.29 13.354,1 9.6,1 C4.6,1 0.6,5 0.6,10 C0.6,15 4.6,19 9.6,19 C14.6,19 18.6,15 18.6,10"/><rect x="9" y="4" width="1" height="7"/><path d="M13.018,14.197 L9.445,10.625" fill="none" stroke="#000" stroke-width="1.1"/></svg>',"git-branch":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle fill="none" stroke="#000" stroke-width="1.2" cx="7" cy="3" r="2"/><circle fill="none" stroke="#000" stroke-width="1.2" cx="14" cy="6" r="2"/><circle fill="none" stroke="#000" stroke-width="1.2" cx="7" cy="17" r="2"/><path fill="none" stroke="#000" stroke-width="2" d="M14,8 C14,10.41 12.43,10.87 10.56,11.25 C9.09,11.54 7,12.06 7,15 L7,5"/></svg>',"git-fork":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle fill="none" stroke="#000" stroke-width="1.2" cx="5.79" cy="2.79" r="1.79"/><circle fill="none" stroke="#000" stroke-width="1.2" cx="14.19" cy="2.79" r="1.79"/><circle fill="none" stroke="#000" stroke-width="1.2" cx="10.03" cy="16.79" r="1.79"/><path fill="none" stroke="#000" stroke-width="2" d="M5.79,4.57 L5.79,6.56 C5.79,9.19 10.03,10.22 10.03,13.31 C10.03,14.86 10.04,14.55 10.04,14.55 C10.04,14.37 10.04,14.86 10.04,13.31 C10.04,10.22 14.2,9.19 14.2,6.56 L14.2,4.57"/></svg>',"github-alt":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10,0.5 C4.75,0.5 0.5,4.76 0.5,10.01 C0.5,15.26 4.75,19.51 10,19.51 C15.24,19.51 19.5,15.26 19.5,10.01 C19.5,4.76 15.25,0.5 10,0.5 L10,0.5 Z M12.81,17.69 C12.81,17.69 12.81,17.7 12.79,17.69 C12.47,17.75 12.35,17.59 12.35,17.36 L12.35,16.17 C12.35,15.45 12.09,14.92 11.58,14.56 C12.2,14.51 12.77,14.39 13.26,14.21 C13.87,13.98 14.36,13.69 14.74,13.29 C15.42,12.59 15.76,11.55 15.76,10.17 C15.76,9.25 15.45,8.46 14.83,7.8 C15.1,7.08 15.07,6.29 14.75,5.44 L14.51,5.42 C14.34,5.4 14.06,5.46 13.67,5.61 C13.25,5.78 12.79,6.03 12.31,6.35 C11.55,6.16 10.81,6.05 10.09,6.05 C9.36,6.05 8.61,6.15 7.88,6.35 C7.28,5.96 6.75,5.68 6.26,5.54 C6.07,5.47 5.9,5.44 5.78,5.44 L5.42,5.44 C5.06,6.29 5.04,7.08 5.32,7.8 C4.7,8.46 4.4,9.25 4.4,10.17 C4.4,11.94 4.96,13.16 6.08,13.84 C6.53,14.13 7.05,14.32 7.69,14.43 C8.03,14.5 8.32,14.54 8.55,14.55 C8.07,14.89 7.82,15.42 7.82,16.16 L7.82,17.51 C7.8,17.69 7.7,17.8 7.51,17.8 C4.21,16.74 1.82,13.65 1.82,10.01 C1.82,5.5 5.49,1.83 10,1.83 C14.5,1.83 18.17,5.5 18.17,10.01 C18.18,13.53 15.94,16.54 12.81,17.69 L12.81,17.69 Z"/></svg>',github:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10,1 C5.03,1 1,5.03 1,10 C1,13.98 3.58,17.35 7.16,18.54 C7.61,18.62 7.77,18.34 7.77,18.11 C7.77,17.9 7.76,17.33 7.76,16.58 C5.26,17.12 4.73,15.37 4.73,15.37 C4.32,14.33 3.73,14.05 3.73,14.05 C2.91,13.5 3.79,13.5 3.79,13.5 C4.69,13.56 5.17,14.43 5.17,14.43 C5.97,15.8 7.28,15.41 7.79,15.18 C7.87,14.6 8.1,14.2 8.36,13.98 C6.36,13.75 4.26,12.98 4.26,9.53 C4.26,8.55 4.61,7.74 5.19,7.11 C5.1,6.88 4.79,5.97 5.28,4.73 C5.28,4.73 6.04,4.49 7.75,5.65 C8.47,5.45 9.24,5.35 10,5.35 C10.76,5.35 11.53,5.45 12.25,5.65 C13.97,4.48 14.72,4.73 14.72,4.73 C15.21,5.97 14.9,6.88 14.81,7.11 C15.39,7.74 15.73,8.54 15.73,9.53 C15.73,12.99 13.63,13.75 11.62,13.97 C11.94,14.25 12.23,14.8 12.23,15.64 C12.23,16.84 12.22,17.81 12.22,18.11 C12.22,18.35 12.38,18.63 12.84,18.54 C16.42,17.35 19,13.98 19,10 C19,5.03 14.97,1 10,1 L10,1 Z"/></svg>',gitter:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><rect x="3.5" y="1" width="1.531" height="11.471"/><rect x="7.324" y="4.059" width="1.529" height="15.294"/><rect x="11.148" y="4.059" width="1.527" height="15.294"/><rect x="14.971" y="4.059" width="1.529" height="8.412"/></svg>',google:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17.86,9.09 C18.46,12.12 17.14,16.05 13.81,17.56 C9.45,19.53 4.13,17.68 2.47,12.87 C0.68,7.68 4.22,2.42 9.5,2.03 C11.57,1.88 13.42,2.37 15.05,3.65 C15.22,3.78 15.37,3.93 15.61,4.14 C14.9,4.81 14.23,5.45 13.5,6.14 C12.27,5.08 10.84,4.72 9.28,4.98 C8.12,5.17 7.16,5.76 6.37,6.63 C4.88,8.27 4.62,10.86 5.76,12.82 C6.95,14.87 9.17,15.8 11.57,15.25 C13.27,14.87 14.76,13.33 14.89,11.75 L10.51,11.75 L10.51,9.09 L17.86,9.09 L17.86,9.09 Z"/></svg>',grid:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><rect x="2" y="2" width="3" height="3"/><rect x="8" y="2" width="3" height="3"/><rect x="14" y="2" width="3" height="3"/><rect x="2" y="8" width="3" height="3"/><rect x="8" y="8" width="3" height="3"/><rect x="14" y="8" width="3" height="3"/><rect x="2" y="14" width="3" height="3"/><rect x="8" y="14" width="3" height="3"/><rect x="14" y="14" width="3" height="3"/></svg>',happy:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="13" cy="7" r="1"/><circle cx="7" cy="7" r="1"/><circle fill="none" stroke="#000" cx="10" cy="10" r="8.5"/><path fill="none" stroke="#000" d="M14.6,11.4 C13.9,13.3 12.1,14.5 10,14.5 C7.9,14.5 6.1,13.3 5.4,11.4"/></svg>',hashtag:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.431,8 L15.661,7 L12.911,7 L13.831,3 L12.901,3 L11.98,7 L9.29,7 L10.21,3 L9.281,3 L8.361,7 L5.23,7 L5,8 L8.13,8 L7.21,12 L4.23,12 L4,13 L6.98,13 L6.061,17 L6.991,17 L7.911,13 L10.601,13 L9.681,17 L10.611,17 L11.531,13 L14.431,13 L14.661,12 L11.76,12 L12.681,8 L15.431,8 Z M10.831,12 L8.141,12 L9.061,8 L11.75,8 L10.831,12 Z"/></svg>',heart:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="#000" stroke-width="1.03" d="M10,4 C10,4 8.1,2 5.74,2 C3.38,2 1,3.55 1,6.73 C1,8.84 2.67,10.44 2.67,10.44 L10,18 L17.33,10.44 C17.33,10.44 19,8.84 19,6.73 C19,3.55 16.62,2 14.26,2 C11.9,2 10,4 10,4 L10,4 Z"/></svg>',history:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polyline fill="#000" points="1 2 2 2 2 6 6 6 6 7 1 7 1 2"/><path fill="none" stroke="#000" stroke-width="1.1" d="M2.1,6.548 C3.391,3.29 6.746,1 10.5,1 C15.5,1 19.5,5 19.5,10 C19.5,15 15.5,19 10.5,19 C5.5,19 1.5,15 1.5,10"/><rect x="9" y="4" width="1" height="7"/><path fill="none" stroke="#000" stroke-width="1.1" d="M13.018,14.197 L9.445,10.625"/></svg>',home:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polygon points="18.65 11.35 10 2.71 1.35 11.35 0.65 10.65 10 1.29 19.35 10.65"/><polygon points="15 4 18 4 18 7 17 7 17 5 15 5"/><polygon points="3 11 4 11 4 18 7 18 7 12 12 12 12 18 16 18 16 11 17 11 17 19 11 19 11 13 8 13 8 19 3 19"/></svg>',image:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="16.1" cy="6.1" r="1.1"/><rect fill="none" stroke="#000" x=".5" y="2.5" width="19" height="15"/><polyline fill="none" stroke="#000" stroke-width="1.01" points="4,13 8,9 13,14"/><polyline fill="none" stroke="#000" stroke-width="1.01" points="11,12 12.5,10.5 16,14"/></svg>',info:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.13,11.59 C11.97,12.84 10.35,14.12 9.1,14.16 C6.17,14.2 9.89,9.46 8.74,8.37 C9.3,8.16 10.62,7.83 10.62,8.81 C10.62,9.63 10.12,10.55 9.88,11.32 C8.66,15.16 12.13,11.15 12.14,11.18 C12.16,11.21 12.16,11.35 12.13,11.59 C12.08,11.95 12.16,11.35 12.13,11.59 L12.13,11.59 Z M11.56,5.67 C11.56,6.67 9.36,7.15 9.36,6.03 C9.36,5 11.56,4.54 11.56,5.67 L11.56,5.67 Z"/><circle fill="none" stroke="#000" stroke-width="1.1" cx="10" cy="10" r="9"/></svg>',instagram:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M13.55,1H6.46C3.45,1,1,3.44,1,6.44v7.12c0,3,2.45,5.44,5.46,5.44h7.08c3.02,0,5.46-2.44,5.46-5.44V6.44 C19.01,3.44,16.56,1,13.55,1z M17.5,14c0,1.93-1.57,3.5-3.5,3.5H6c-1.93,0-3.5-1.57-3.5-3.5V6c0-1.93,1.57-3.5,3.5-3.5h8 c1.93,0,3.5,1.57,3.5,3.5V14z"/><circle cx="14.87" cy="5.26" r="1.09"/><path d="M10.03,5.45c-2.55,0-4.63,2.06-4.63,4.6c0,2.55,2.07,4.61,4.63,4.61c2.56,0,4.63-2.061,4.63-4.61 C14.65,7.51,12.58,5.45,10.03,5.45L10.03,5.45L10.03,5.45z M10.08,13c-1.66,0-3-1.34-3-2.99c0-1.65,1.34-2.99,3-2.99s3,1.34,3,2.99 C13.08,11.66,11.74,13,10.08,13L10.08,13L10.08,13z"/></svg>',italic:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.63,5.48 L10.15,14.52 C10,15.08 10.37,15.25 11.92,15.3 L11.72,16 L6,16 L6.2,15.31 C7.78,15.26 8.19,15.09 8.34,14.53 L10.82,5.49 C10.97,4.92 10.63,4.76 9.09,4.71 L9.28,4 L15,4 L14.81,4.69 C13.23,4.75 12.78,4.91 12.63,5.48 L12.63,5.48 Z"/></svg>',joomla:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.8,13.4l1.7-1.7L5.9,8c-0.6-0.5-0.6-1.5,0-2c0.6-0.6,1.4-0.6,2,0l1.7-1.7c-1-1-2.3-1.3-3.6-1C5.8,2.2,4.8,1.4,3.7,1.4 c-1.3,0-2.3,1-2.3,2.3c0,1.1,0.8,2,1.8,2.3c-0.4,1.3-0.1,2.8,1,3.8L7.8,13.4L7.8,13.4z"/><path d="M10.2,4.3c1-1,2.5-1.4,3.8-1c0.2-1.1,1.1-2,2.3-2c1.3,0,2.3,1,2.3,2.3c0,1.2-0.9,2.2-2,2.3c0.4,1.3,0,2.8-1,3.8L13.9,8 c0.6-0.5,0.6-1.5,0-2c-0.5-0.6-1.5-0.6-2,0L8.2,9.7L6.5,8"/><path d="M14.1,16.8c-1.3,0.4-2.8,0.1-3.8-1l1.7-1.7c0.6,0.6,1.5,0.6,2,0c0.5-0.6,0.6-1.5,0-2l-3.7-3.7L12,6.7l3.7,3.7 c1,1,1.3,2.4,1,3.6c1.1,0.2,2,1.1,2,2.3c0,1.3-1,2.3-2.3,2.3C15.2,18.6,14.3,17.8,14.1,16.8"/><path d="M13.2,12.2l-3.7,3.7c-1,1-2.4,1.3-3.6,1c-0.2,1-1.2,1.8-2.2,1.8c-1.3,0-2.3-1-2.3-2.3c0-1.1,0.8-2,1.8-2.3 c-0.3-1.3,0-2.7,1-3.7l1.7,1.7c-0.6,0.6-0.6,1.5,0,2c0.6,0.6,1.4,0.6,2,0l3.7-3.7"/></svg>',laptop:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><rect y="16" width="20" height="1"/><rect fill="none" stroke="#000" x="2.5" y="4.5" width="15" height="10"/></svg>',lifesaver:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><circle fill="none" stroke="#000" cx="10" cy="10" r="9"/><circle fill="none" stroke="#000" cx="10" cy="10" r="5"/><line fill="none" stroke="#000" stroke-width="1.1" x1="5.17" y1="2.39" x2="8.11" y2="5.33"/><line fill="none" stroke="#000" stroke-width="1.1" x1="5.33" y1="8.11" x2="2.39" y2="5.17"/><line fill="none" stroke="#000" stroke-width="1.1" x1="14.83" y1="17.61" x2="11.89" y2="14.67"/><line fill="none" stroke="#000" stroke-width="1.1" x1="14.67" y1="11.89" x2="17.61" y2="14.83"/><line fill="none" stroke="#000" stroke-width="1.1" x1="17.61" y1="5.17" x2="14.67" y2="8.11"/><line fill="none" stroke="#000" stroke-width="1.1" x1="11.89" y1="5.33" x2="14.83" y2="2.39"/><line fill="none" stroke="#000" stroke-width="1.1" x1="8.11" y1="14.67" x2="5.17" y2="17.61"/><line fill="none" stroke="#000" stroke-width="1.1" x1="2.39" y1="14.83" x2="5.33" y2="11.89"/></svg>',link:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="#000" stroke-width="1.1" d="M10.625,12.375 L7.525,15.475 C6.825,16.175 5.925,16.175 5.225,15.475 L4.525,14.775 C3.825,14.074 3.825,13.175 4.525,12.475 L7.625,9.375"/><path fill="none" stroke="#000" stroke-width="1.1" d="M9.325,7.375 L12.425,4.275 C13.125,3.575 14.025,3.575 14.724,4.275 L15.425,4.975 C16.125,5.675 16.125,6.575 15.425,7.275 L12.325,10.375"/><path fill="none" stroke="#000" stroke-width="1.1" d="M7.925,11.875 L11.925,7.975"/></svg>',linkedin:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.77,17.89 L5.77,7.17 L2.21,7.17 L2.21,17.89 L5.77,17.89 L5.77,17.89 Z M3.99,5.71 C5.23,5.71 6.01,4.89 6.01,3.86 C5.99,2.8 5.24,2 4.02,2 C2.8,2 2,2.8 2,3.85 C2,4.88 2.77,5.7 3.97,5.7 L3.99,5.7 L3.99,5.71 L3.99,5.71 Z"/><path d="M7.75,17.89 L11.31,17.89 L11.31,11.9 C11.31,11.58 11.33,11.26 11.43,11.03 C11.69,10.39 12.27,9.73 13.26,9.73 C14.55,9.73 15.06,10.71 15.06,12.15 L15.06,17.89 L18.62,17.89 L18.62,11.74 C18.62,8.45 16.86,6.92 14.52,6.92 C12.6,6.92 11.75,7.99 11.28,8.73 L11.3,8.73 L11.3,7.17 L7.75,7.17 C7.79,8.17 7.75,17.89 7.75,17.89 L7.75,17.89 L7.75,17.89 Z"/></svg>',list:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><rect x="6" y="4" width="12" height="1"/><rect x="6" y="9" width="12" height="1"/><rect x="6" y="14" width="12" height="1"/><rect x="2" y="4" width="2" height="1"/><rect x="2" y="9" width="2" height="1"/><rect x="2" y="14" width="2" height="1"/></svg>',location:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="#000" stroke-width="1.01" d="M10,0.5 C6.41,0.5 3.5,3.39 3.5,6.98 C3.5,11.83 10,19 10,19 C10,19 16.5,11.83 16.5,6.98 C16.5,3.39 13.59,0.5 10,0.5 L10,0.5 Z"/><circle fill="none" stroke="#000" cx="10" cy="6.8" r="2.3"/></svg>',lock:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><rect fill="none" stroke="#000" height="10" width="13" y="8.5" x="3.5"/><path fill="none" stroke="#000" d="M6.5,8 L6.5,4.88 C6.5,3.01 8.07,1.5 10,1.5 C11.93,1.5 13.5,3.01 13.5,4.88 L13.5,8"/></svg>',mail:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" points="1.4,6.5 10,11 18.6,6.5"/><path d="M 1,4 1,16 19,16 19,4 1,4 Z M 18,15 2,15 2,5 18,5 18,15 Z"/></svg>',menu:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><rect x="2" y="4" width="16" height="1"/><rect x="2" y="9" width="16" height="1"/><rect x="2" y="14" width="16" height="1"/></svg>',microphone:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><line fill="none" stroke="#000" x1="10" x2="10" y1="16.44" y2="18.5"/><line fill="none" stroke="#000" x1="7" x2="13" y1="18.5" y2="18.5"/><path fill="none" stroke="#000" stroke-width="1.1" d="M13.5 4.89v5.87a3.5 3.5 0 0 1-7 0V4.89a3.5 3.5 0 0 1 7 0z"/><path fill="none" stroke="#000" stroke-width="1.1" d="M15.5 10.36V11a5.5 5.5 0 0 1-11 0v-.6"/></svg>',"minus-circle":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle fill="none" stroke="#000" stroke-width="1.1" cx="9.5" cy="9.5" r="9"/><line fill="none" stroke="#000" x1="5" y1="9.5" x2="14" y2="9.5"/></svg>',minus:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><rect height="1" width="18" y="9" x="1"/></svg>',"more-vertical":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="10" cy="3" r="2"/><circle cx="10" cy="10" r="2"/><circle cx="10" cy="17" r="2"/></svg>',more:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="3" cy="10" r="2"/><circle cx="10" cy="10" r="2"/><circle cx="17" cy="10" r="2"/></svg>',move:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polygon points="4,5 1,5 1,9 2,9 2,6 4,6"/><polygon points="1,16 2,16 2,18 4,18 4,19 1,19"/><polygon points="14,16 14,19 11,19 11,18 13,18 13,16"/><rect fill="none" stroke="#000" x="5.5" y="1.5" width="13" height="13"/><rect x="1" y="11" width="1" height="3"/><rect x="6" y="18" width="3" height="1"/></svg>',nut:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polygon fill="none" stroke="#000" points="2.5,5.7 10,1.3 17.5,5.7 17.5,14.3 10,18.7 2.5,14.3"/><circle fill="none" stroke="#000" cx="10" cy="10" r="3.5"/></svg>',pagekit:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polygon points="3,1 17,1 17,16 10,16 10,13 14,13 14,4 6,4 6,16 10,16 10,19 3,19"/></svg>',"paint-bucket":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="#000" stroke-width="1.1" d="m6.42,2.16l5.28,5.28"/><path d="m18.49,11.83s1.51,2.06,1.51,3.36c0,.92-.76,1.64-1.51,1.64h0c-.75,0-1.49-.72-1.49-1.64,0-1.3,1.49-3.36,1.49-3.36h0Z"/><line fill="none" stroke="#000" x1="1.26" y1="10.5" x2="16" y2="10.5"/><polygon fill="none" stroke="#000" stroke-width="1.1" points="10.2 1.55 17.6 8.93 8.08 18.45 .7 11.07 10.2 1.55"/></svg>',pencil:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="#000" d="M17.25,6.01 L7.12,16.1 L3.82,17.2 L5.02,13.9 L15.12,3.88 C15.71,3.29 16.66,3.29 17.25,3.88 C17.83,4.47 17.83,5.42 17.25,6.01 L17.25,6.01 Z"/><path fill="none" stroke="#000" d="M15.98,7.268 L13.851,5.148"/></svg>',"phone-landscape":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="#000" d="M17,5.5 C17.8,5.5 18.5,6.2 18.5,7 L18.5,14 C18.5,14.8 17.8,15.5 17,15.5 L3,15.5 C2.2,15.5 1.5,14.8 1.5,14 L1.5,7 C1.5,6.2 2.2,5.5 3,5.5 L17,5.5 L17,5.5 L17,5.5 Z"/><circle cx="3.8" cy="10.5" r=".8"/></svg>',phone:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="#000" d="M15.5,17 C15.5,17.8 14.8,18.5 14,18.5 L7,18.5 C6.2,18.5 5.5,17.8 5.5,17 L5.5,3 C5.5,2.2 6.2,1.5 7,1.5 L14,1.5 C14.8,1.5 15.5,2.2 15.5,3 L15.5,17 L15.5,17 L15.5,17 Z"/><circle cx="10.5" cy="16.5" r=".8"/></svg>',pinterest:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.21,1 C5.5,1 3,4.16 3,7.61 C3,9.21 3.85,11.2 5.22,11.84 C5.43,11.94 5.54,11.89 5.58,11.69 C5.62,11.54 5.8,10.8 5.88,10.45 C5.91,10.34 5.89,10.24 5.8,10.14 C5.36,9.59 5,8.58 5,7.65 C5,5.24 6.82,2.91 9.93,2.91 C12.61,2.91 14.49,4.74 14.49,7.35 C14.49,10.3 13,12.35 11.06,12.35 C9.99,12.35 9.19,11.47 9.44,10.38 C9.75,9.08 10.35,7.68 10.35,6.75 C10.35,5.91 9.9,5.21 8.97,5.21 C7.87,5.21 6.99,6.34 6.99,7.86 C6.99,8.83 7.32,9.48 7.32,9.48 C7.32,9.48 6.24,14.06 6.04,14.91 C5.7,16.35 6.08,18.7 6.12,18.9 C6.14,19.01 6.26,19.05 6.33,18.95 C6.44,18.81 7.74,16.85 8.11,15.44 C8.24,14.93 8.79,12.84 8.79,12.84 C9.15,13.52 10.19,14.09 11.29,14.09 C14.58,14.09 16.96,11.06 16.96,7.3 C16.94,3.7 14,1 10.21,1"/></svg>',"play-circle":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polygon fill="none" stroke="#000" stroke-width="1.1" points="8.5 7 13.5 10 8.5 13"/><circle fill="none" stroke="#000" stroke-width="1.1" cx="10" cy="10" r="9"/></svg>',play:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polygon fill="none" stroke="#000" points="6.5,5 14.5,10 6.5,15"/></svg>',"plus-circle":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle fill="none" stroke="#000" stroke-width="1.1" cx="9.5" cy="9.5" r="9"/><line fill="none" stroke="#000" x1="9.5" y1="5" x2="9.5" y2="14"/><line fill="none" stroke="#000" x1="5" y1="9.5" x2="14" y2="9.5"/></svg>',plus:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><rect x="9" y="1" width="1" height="17"/><rect x="1" y="9" width="17" height="1"/></svg>',print:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" points="4.5 13.5 1.5 13.5 1.5 6.5 18.5 6.5 18.5 13.5 15.5 13.5"/><polyline fill="none" stroke="#000" points="15.5 6.5 15.5 2.5 4.5 2.5 4.5 6.5"/><rect fill="none" stroke="#000" width="11" height="6" x="4.5" y="11.5"/><rect width="8" height="1" x="6" y="13"/><rect width="8" height="1" x="6" y="15"/></svg>',pull:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polygon points="6.85,8 9.5,10.6 12.15,8 12.85,8.7 9.5,12 6.15,8.7"/><line fill="none" stroke="#000" x1="9.5" y1="11" x2="9.5" y2="2"/><polyline fill="none" stroke="#000" points="6,5.5 3.5,5.5 3.5,18.5 15.5,18.5 15.5,5.5 13,5.5"/></svg>',push:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polygon points="12.15,4 9.5,1.4 6.85,4 6.15,3.3 9.5,0 12.85,3.3"/><line fill="none" stroke="#000" x1="9.5" y1="10" x2="9.5" y2="1"/><polyline fill="none" stroke="#000" points="6 5.5 3.5 5.5 3.5 18.5 15.5 18.5 15.5 5.5 13 5.5"/></svg>',question:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle fill="none" stroke="#000" stroke-width="1.1" cx="10" cy="10" r="9"/><circle cx="10.44" cy="14.42" r="1.05"/><path fill="none" stroke="#000" stroke-width="1.2" d="M8.17,7.79 C8.17,4.75 12.72,4.73 12.72,7.72 C12.72,8.67 11.81,9.15 11.23,9.75 C10.75,10.24 10.51,10.73 10.45,11.4 C10.44,11.53 10.43,11.64 10.43,11.75"/></svg>',"quote-right":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17.27,7.79 C17.27,9.45 16.97,10.43 15.99,12.02 C14.98,13.64 13,15.23 11.56,15.97 L11.1,15.08 C12.34,14.2 13.14,13.51 14.02,11.82 C14.27,11.34 14.41,10.92 14.49,10.54 C14.3,10.58 14.09,10.6 13.88,10.6 C12.06,10.6 10.59,9.12 10.59,7.3 C10.59,5.48 12.06,4 13.88,4 C15.39,4 16.67,5.02 17.05,6.42 C17.19,6.82 17.27,7.27 17.27,7.79 L17.27,7.79 Z"/><path d="M8.68,7.79 C8.68,9.45 8.38,10.43 7.4,12.02 C6.39,13.64 4.41,15.23 2.97,15.97 L2.51,15.08 C3.75,14.2 4.55,13.51 5.43,11.82 C5.68,11.34 5.82,10.92 5.9,10.54 C5.71,10.58 5.5,10.6 5.29,10.6 C3.47,10.6 2,9.12 2,7.3 C2,5.48 3.47,4 5.29,4 C6.8,4 8.08,5.02 8.46,6.42 C8.6,6.82 8.68,7.27 8.68,7.79 L8.68,7.79 Z"/></svg>',receiver:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="#000" stroke-width="1.01" d="M6.189,13.611C8.134,15.525 11.097,18.239 13.867,18.257C16.47,18.275 18.2,16.241 18.2,16.241L14.509,12.551L11.539,13.639L6.189,8.29L7.313,5.355L3.76,1.8C3.76,1.8 1.732,3.537 1.7,6.092C1.667,8.809 4.347,11.738 6.189,13.611"/></svg>',reddit:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9.05a2.56 2.56 0 0 0-2.56-2.56 2.59 2.59 0 0 0-1.88.82 10.63 10.63 0 0 0-4.14-1v-.08c.58-1.62 1.58-3.89 2.7-4.1.38-.08.77.12 1.19.57a1.15 1.15 0 0 0-.06.37 1.48 1.48 0 1 0 1.51-1.45 1.43 1.43 0 0 0-.76.19A2.29 2.29 0 0 0 12.91 1c-2.11.43-3.39 4.38-3.63 5.19 0 0 0 .11-.06.11a10.65 10.65 0 0 0-3.75 1A2.56 2.56 0 0 0 1 9.05a2.42 2.42 0 0 0 .72 1.76A5.18 5.18 0 0 0 1.24 13c0 3.66 3.92 6.64 8.73 6.64s8.74-3 8.74-6.64a5.23 5.23 0 0 0-.46-2.13A2.58 2.58 0 0 0 19 9.05zm-16.88 0a1.44 1.44 0 0 1 2.27-1.19 7.68 7.68 0 0 0-2.07 1.91 1.33 1.33 0 0 1-.2-.72zM10 18.4c-4.17 0-7.55-2.4-7.55-5.4S5.83 7.53 10 7.53 17.5 10 17.5 13s-3.38 5.4-7.5 5.4zm7.69-8.61a7.62 7.62 0 0 0-2.09-1.91 1.41 1.41 0 0 1 .84-.28 1.47 1.47 0 0 1 1.44 1.45 1.34 1.34 0 0 1-.21.72z"/><path d="M6.69 12.58a1.39 1.39 0 1 1 1.39-1.39 1.38 1.38 0 0 1-1.38 1.39z"/><path d="M14.26 11.2a1.39 1.39 0 1 1-1.39-1.39 1.39 1.39 0 0 1 1.39 1.39z"/><path d="M13.09 14.88a.54.54 0 0 1-.09.77 5.3 5.3 0 0 1-3.26 1.19 5.61 5.61 0 0 1-3.4-1.22.55.55 0 1 1 .73-.83 4.09 4.09 0 0 0 5.25 0 .56.56 0 0 1 .77.09z"/></svg>',refresh:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="#000" stroke-width="1.1" d="M17.08,11.15 C17.09,11.31 17.1,11.47 17.1,11.64 C17.1,15.53 13.94,18.69 10.05,18.69 C6.16,18.68 3,15.53 3,11.63 C3,7.74 6.16,4.58 10.05,4.58 C10.9,4.58 11.71,4.73 12.46,5"/><polyline fill="none" stroke="#000" points="9.9 2 12.79 4.89 9.79 7.9"/></svg>',reply:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17.7,13.11 C16.12,10.02 13.84,7.85 11.02,6.61 C10.57,6.41 9.75,6.13 9,5.91 L9,2 L1,9 L9,16 L9,12.13 C10.78,12.47 12.5,13.19 14.09,14.25 C17.13,16.28 18.56,18.54 18.56,18.54 C18.56,18.54 18.81,15.28 17.7,13.11 L17.7,13.11 Z M14.82,13.53 C13.17,12.4 11.01,11.4 8,10.92 L8,13.63 L2.55,9 L8,4.25 L8,6.8 C8.3,6.86 9.16,7.02 10.37,7.49 C13.3,8.65 15.54,10.96 16.65,13.08 C16.97,13.7 17.48,14.86 17.68,16 C16.87,15.05 15.73,14.15 14.82,13.53 L14.82,13.53 Z"/></svg>',rss:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="3.12" cy="16.8" r="1.85"/><path fill="none" stroke="#000" stroke-width="1.1" d="M1.5,8.2 C1.78,8.18 2.06,8.16 2.35,8.16 C7.57,8.16 11.81,12.37 11.81,17.57 C11.81,17.89 11.79,18.19 11.76,18.5"/><path fill="none" stroke="#000" stroke-width="1.1" d="M1.5,2.52 C1.78,2.51 2.06,2.5 2.35,2.5 C10.72,2.5 17.5,9.24 17.5,17.57 C17.5,17.89 17.49,18.19 17.47,18.5"/></svg>',search:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle fill="none" stroke="#000" stroke-width="1.1" cx="9" cy="9" r="7"/><path fill="none" stroke="#000" stroke-width="1.1" d="M14,14 L18,18 L14,14 Z"/></svg>',server:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><rect x="3" y="3" width="1" height="2"/><rect x="5" y="3" width="1" height="2"/><rect x="7" y="3" width="1" height="2"/><rect x="16" y="3" width="1" height="1"/><rect x="16" y="10" width="1" height="1"/><circle fill="none" stroke="#000" cx="9.9" cy="17.4" r="1.4"/><rect x="3" y="10" width="1" height="2"/><rect x="5" y="10" width="1" height="2"/><rect x="9.5" y="14" width="1" height="2"/><rect x="3" y="17" width="6" height="1"/><rect x="11" y="17" width="6" height="1"/><rect fill="none" stroke="#000" x="1.5" y="1.5" width="17" height="5"/><rect fill="none" stroke="#000" x="1.5" y="8.5" width="17" height="5"/></svg>',settings:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><ellipse fill="none" stroke="#000" cx="6.11" cy="3.55" rx="2.11" ry="2.15"/><ellipse fill="none" stroke="#000" cx="6.11" cy="15.55" rx="2.11" ry="2.15"/><circle fill="none" stroke="#000" cx="13.15" cy="9.55" r="2.15"/><rect x="1" y="3" width="3" height="1"/><rect x="10" y="3" width="8" height="1"/><rect x="1" y="9" width="8" height="1"/><rect x="15" y="9" width="3" height="1"/><rect x="1" y="15" width="3" height="1"/><rect x="10" y="15" width="8" height="1"/></svg>',shrink:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polygon points="11 4 12 4 12 8 16 8 16 9 11 9"/><polygon points="4 11 9 11 9 16 8 16 8 12 4 12"/><path fill="none" stroke="#000" stroke-width="1.1" d="M12,8 L18,2"/><path fill="none" stroke="#000" stroke-width="1.1" d="M2,18 L8,12"/></svg>',"sign-in":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polygon points="7 2 17 2 17 17 7 17 7 16 16 16 16 3 7 3"/><polygon points="9.1 13.4 8.5 12.8 11.28 10 4 10 4 9 11.28 9 8.5 6.2 9.1 5.62 13 9.5"/></svg>',"sign-out":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polygon points="13.1 13.4 12.5 12.8 15.28 10 8 10 8 9 15.28 9 12.5 6.2 13.1 5.62 17 9.5"/><polygon points="13 2 3 2 3 17 13 17 13 16 4 16 4 3 13 3"/></svg>',social:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><line fill="none" stroke="#000" stroke-width="1.1" x1="13.4" y1="14" x2="6.3" y2="10.7"/><line fill="none" stroke="#000" stroke-width="1.1" x1="13.5" y1="5.5" x2="6.5" y2="8.8"/><circle fill="none" stroke="#000" stroke-width="1.1" cx="15.5" cy="4.6" r="2.3"/><circle fill="none" stroke="#000" stroke-width="1.1" cx="15.5" cy="14.8" r="2.3"/><circle fill="none" stroke="#000" stroke-width="1.1" cx="4.5" cy="9.8" r="2.3"/></svg>',soundcloud:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17.2,9.4c-0.4,0-0.8,0.1-1.101,0.2c-0.199-2.5-2.399-4.5-5-4.5c-0.6,0-1.2,0.1-1.7,0.3C9.2,5.5,9.1,5.6,9.1,5.6V15h8 c1.601,0,2.801-1.2,2.801-2.8C20,10.7,18.7,9.4,17.2,9.4L17.2,9.4z"/><rect x="6" y="6.5" width="1.5" height="8.5"/><rect x="3" y="8" width="1.5" height="7"/><rect y="10" width="1.5" height="5"/></svg>',star:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polygon fill="none" stroke="#000" stroke-width="1.01" points="10 2 12.63 7.27 18.5 8.12 14.25 12.22 15.25 18 10 15.27 4.75 18 5.75 12.22 1.5 8.12 7.37 7.27"/></svg>',strikethrough:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6,13.02 L6.65,13.02 C7.64,15.16 8.86,16.12 10.41,16.12 C12.22,16.12 12.92,14.93 12.92,13.89 C12.92,12.55 11.99,12.03 9.74,11.23 C8.05,10.64 6.23,10.11 6.23,7.83 C6.23,5.5 8.09,4.09 10.4,4.09 C11.44,4.09 12.13,4.31 12.72,4.54 L13.33,4 L13.81,4 L13.81,7.59 L13.16,7.59 C12.55,5.88 11.52,4.89 10.07,4.89 C8.84,4.89 7.89,5.69 7.89,7.03 C7.89,8.29 8.89,8.78 10.88,9.45 C12.57,10.03 14.38,10.6 14.38,12.91 C14.38,14.75 13.27,16.93 10.18,16.93 C9.18,16.93 8.17,16.69 7.46,16.39 L6.52,17 L6,17 L6,13.02 L6,13.02 Z"/><rect x="3" y="10" width="15" height="1"/></svg>',table:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><rect x="1" y="3" width="18" height="1"/><rect x="1" y="7" width="18" height="1"/><rect x="1" y="11" width="18" height="1"/><rect x="1" y="15" width="18" height="1"/></svg>',"tablet-landscape":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="#000" d="M1.5,5 C1.5,4.2 2.2,3.5 3,3.5 L17,3.5 C17.8,3.5 18.5,4.2 18.5,5 L18.5,16 C18.5,16.8 17.8,17.5 17,17.5 L3,17.5 C2.2,17.5 1.5,16.8 1.5,16 L1.5,5 L1.5,5 L1.5,5 Z"/><circle cx="3.7" cy="10.5" r=".8"/></svg>',tablet:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="#000" d="M5,18.5 C4.2,18.5 3.5,17.8 3.5,17 L3.5,3 C3.5,2.2 4.2,1.5 5,1.5 L16,1.5 C16.8,1.5 17.5,2.2 17.5,3 L17.5,17 C17.5,17.8 16.8,18.5 16,18.5 L5,18.5 L5,18.5 L5,18.5 Z"/><circle cx="10.5" cy="16.3" r=".8"/></svg>',tag:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="#000" stroke-width="1.1" d="M17.5,3.71 L17.5,7.72 C17.5,7.96 17.4,8.2 17.21,8.39 L8.39,17.2 C7.99,17.6 7.33,17.6 6.93,17.2 L2.8,13.07 C2.4,12.67 2.4,12.01 2.8,11.61 L11.61,2.8 C11.81,2.6 12.08,2.5 12.34,2.5 L16.19,2.5 C16.52,2.5 16.86,2.63 17.11,2.88 C17.35,3.11 17.48,3.4 17.5,3.71 L17.5,3.71 Z"/><circle cx="14" cy="6" r="1"/></svg>',thumbnails:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><rect fill="none" stroke="#000" x="3.5" y="3.5" width="5" height="5"/><rect fill="none" stroke="#000" x="11.5" y="3.5" width="5" height="5"/><rect fill="none" stroke="#000" x="11.5" y="11.5" width="5" height="5"/><rect fill="none" stroke="#000" x="3.5" y="11.5" width="5" height="5"/></svg>',tiktok:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17.24,6V8.82a6.79,6.79,0,0,1-4-1.28v5.81A5.26,5.26,0,1,1,8,8.1a4.36,4.36,0,0,1,.72.05v2.9A2.57,2.57,0,0,0,7.64,11a2.4,2.4,0,1,0,2.77,2.38V2h2.86a4,4,0,0,0,1.84,3.38A4,4,0,0,0,17.24,6Z"/></svg>',trash:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" points="6.5 3 6.5 1.5 13.5 1.5 13.5 3"/><polyline fill="none" stroke="#000" points="4.5 4 4.5 18.5 15.5 18.5 15.5 4"/><rect x="8" y="7" width="1" height="9"/><rect x="11" y="7" width="1" height="9"/><rect x="2" y="3" width="16" height="1"/></svg>',"triangle-down":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polygon points="5 7 15 7 10 12"/></svg>',"triangle-left":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polygon points="12 5 7 10 12 15"/></svg>',"triangle-right":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polygon points="8 5 13 10 8 15"/></svg>',"triangle-up":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polygon points="5 13 10 8 15 13"/></svg>',tripadvisor:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19.021,7.866C19.256,6.862,20,5.854,20,5.854h-3.346C14.781,4.641,12.504,4,9.98,4C7.363,4,4.999,4.651,3.135,5.876H0	c0,0,0.738,0.987,0.976,1.988c-0.611,0.837-0.973,1.852-0.973,2.964c0,2.763,2.249,5.009,5.011,5.009	c1.576,0,2.976-0.737,3.901-1.879l1.063,1.599l1.075-1.615c0.475,0.611,1.1,1.111,1.838,1.451c1.213,0.547,2.574,0.612,3.825,0.15	c2.589-0.963,3.913-3.852,2.964-6.439c-0.175-0.463-0.4-0.876-0.675-1.238H19.021z M16.38,14.594	c-1.002,0.371-2.088,0.328-3.06-0.119c-0.688-0.317-1.252-0.817-1.657-1.438c-0.164-0.25-0.313-0.52-0.417-0.811	c-0.124-0.328-0.186-0.668-0.217-1.014c-0.063-0.689,0.037-1.396,0.339-2.043c0.448-0.971,1.251-1.71,2.25-2.079	c2.075-0.765,4.375,0.3,5.14,2.366c0.762,2.066-0.301,4.37-2.363,5.134L16.38,14.594L16.38,14.594z M8.322,13.066	c-0.72,1.059-1.935,1.76-3.309,1.76c-2.207,0-4.001-1.797-4.001-3.996c0-2.203,1.795-4.002,4.001-4.002	c2.204,0,3.999,1.8,3.999,4.002c0,0.137-0.024,0.261-0.04,0.396c-0.067,0.678-0.284,1.313-0.648,1.853v-0.013H8.322z M2.472,10.775	c0,1.367,1.112,2.479,2.476,2.479c1.363,0,2.472-1.11,2.472-2.479c0-1.359-1.11-2.468-2.472-2.468	C3.584,8.306,2.473,9.416,2.472,10.775L2.472,10.775z M12.514,10.775c0,1.367,1.104,2.479,2.471,2.479	c1.363,0,2.474-1.108,2.474-2.479c0-1.359-1.11-2.468-2.474-2.468c-1.364,0-2.477,1.109-2.477,2.468H12.514z M3.324,10.775	c0-0.893,0.726-1.618,1.614-1.618c0.889,0,1.625,0.727,1.625,1.618c0,0.898-0.725,1.627-1.625,1.627	c-0.901,0-1.625-0.729-1.625-1.627H3.324z M13.354,10.775c0-0.893,0.726-1.618,1.627-1.618c0.886,0,1.61,0.727,1.61,1.618	c0,0.898-0.726,1.627-1.626,1.627s-1.625-0.729-1.625-1.627H13.354z M9.977,4.875c1.798,0,3.425,0.324,4.849,0.968	c-0.535,0.015-1.061,0.108-1.586,0.3c-1.264,0.463-2.264,1.388-2.815,2.604c-0.262,0.551-0.398,1.133-0.448,1.72	C9.79,7.905,7.677,5.873,5.076,5.82C6.501,5.208,8.153,4.875,9.94,4.875H9.977z"/></svg>',tumblr:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.885,8.598c0,0,0,3.393,0,4.996c0,0.282,0,0.66,0.094,0.942c0.377,1.509,1.131,2.545,2.545,3.11 c1.319,0.472,2.356,0.472,3.676,0c0.565-0.188,1.132-0.659,1.132-0.659l-0.849-2.263c0,0-1.036,0.378-1.603,0.283 c-0.565-0.094-1.226-0.66-1.226-1.508c0-1.603,0-4.902,0-4.902h2.828V5.771h-2.828V2H8.205c0,0-0.094,0.66-0.188,0.942 C7.828,3.791,7.262,4.733,6.603,5.394C5.848,6.147,5,6.43,5,6.43v2.168H6.885z"/></svg>',tv:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><rect x="7" y="16" width="6" height="1"/><rect fill="none" stroke="#000" x=".5" y="3.5" width="19" height="11"/></svg>',twitch:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.23,1,2,4.23V15.85H5.88v3.23L9.1,15.85h2.59L17.5,10V1Zm11,8.4L13.62,12H11L8.78,14.24V12H5.88V2.29H16.21Z"/><rect x="12.98" y="4.55" width="1.29" height="3.88"/><rect x="9.43" y="4.55" width="1.29" height="3.88"/></svg>',twitter:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19,4.74 C18.339,5.029 17.626,5.229 16.881,5.32 C17.644,4.86 18.227,4.139 18.503,3.28 C17.79,3.7 17.001,4.009 16.159,4.17 C15.485,3.45 14.526,3 13.464,3 C11.423,3 9.771,4.66 9.771,6.7 C9.771,6.99 9.804,7.269 9.868,7.539 C6.795,7.38 4.076,5.919 2.254,3.679 C1.936,4.219 1.754,4.86 1.754,5.539 C1.754,6.82 2.405,7.95 3.397,8.61 C2.79,8.589 2.22,8.429 1.723,8.149 L1.723,8.189 C1.723,9.978 2.997,11.478 4.686,11.82 C4.376,11.899 4.049,11.939 3.713,11.939 C3.475,11.939 3.245,11.919 3.018,11.88 C3.49,13.349 4.852,14.419 6.469,14.449 C5.205,15.429 3.612,16.019 1.882,16.019 C1.583,16.019 1.29,16.009 1,15.969 C2.635,17.019 4.576,17.629 6.662,17.629 C13.454,17.629 17.17,12 17.17,7.129 C17.17,6.969 17.166,6.809 17.157,6.649 C17.879,6.129 18.504,5.478 19,4.74"/></svg>',uikit:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polygon points="14.4,3.1 11.3,5.1 15,7.3 15,12.9 10,15.7 5,12.9 5,8.5 2,6.8 2,14.8 9.9,19.5 18,14.8 18,5.3"/><polygon points="9.8,4.2 6.7,2.4 9.8,0.4 12.9,2.3"/></svg>',unlock:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><rect fill="none" stroke="#000" x="3.5" y="8.5" width="13" height="10"/><path fill="none" stroke="#000" d="M6.5,8.5 L6.5,4.9 C6.5,3 8.1,1.5 10,1.5 C11.9,1.5 13.5,3 13.5,4.9"/></svg>',upload:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" points="5 8 9.5 3.5 14 8"/><rect x="3" y="17" width="13" height="1"/><line fill="none" stroke="#000" x1="9.5" y1="15" x2="9.5" y2="4"/></svg>',user:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle fill="none" stroke="#000" stroke-width="1.1" cx="9.9" cy="6.4" r="4.4"/><path fill="none" stroke="#000" stroke-width="1.1" d="M1.5,19 C2.3,14.5 5.8,11.2 10,11.2 C14.2,11.2 17.7,14.6 18.5,19.2"/></svg>',users:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle fill="none" stroke="#000" stroke-width="1.1" cx="7.7" cy="8.6" r="3.5"/><path fill="none" stroke="#000" stroke-width="1.1" d="M1,18.1 C1.7,14.6 4.4,12.1 7.6,12.1 C10.9,12.1 13.7,14.8 14.3,18.3"/><path fill="none" stroke="#000" stroke-width="1.1" d="M11.4,4 C12.8,2.4 15.4,2.8 16.3,4.7 C17.2,6.6 15.7,8.9 13.6,8.9 C16.5,8.9 18.8,11.3 19.2,14.1"/></svg>',"video-camera":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polygon fill="none" stroke="#000" points="19.5 5.9 19.5 14.1 14.5 10.4 14.5 15.5 .5 15.5 .5 4.5 14.5 4.5 14.5 9.6 19.5 5.9"/></svg>',vimeo:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.065,7.59C1.84,7.367,1.654,7.082,1.468,6.838c-0.332-0.42-0.137-0.411,0.274-0.772c1.026-0.91,2.004-1.896,3.127-2.688 c1.017-0.713,2.365-1.173,3.286-0.039c0.849,1.045,0.869,2.629,1.084,3.891c0.215,1.309,0.421,2.648,0.88,3.901 c0.127,0.352,0.37,1.018,0.81,1.074c0.567,0.078,1.145-0.917,1.408-1.289c0.684-0.987,1.611-2.317,1.494-3.587 c-0.115-1.349-1.572-1.095-2.482-0.773c0.146-1.514,1.555-3.216,2.912-3.792c1.439-0.597,3.579-0.587,4.302,1.036 c0.772,1.759,0.078,3.802-0.763,5.396c-0.918,1.731-2.1,3.333-3.363,4.829c-1.114,1.329-2.432,2.787-4.093,3.422 c-1.897,0.723-3.021-0.686-3.667-2.318c-0.705-1.777-1.056-3.771-1.565-5.621C4.898,8.726,4.644,7.836,4.136,7.191 C3.473,6.358,2.72,7.141,2.065,7.59C1.977,7.502,2.115,7.551,2.065,7.59L2.065,7.59z"/></svg>',warning:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="10" cy="14" r="1"/><circle fill="none" stroke="#000" stroke-width="1.1" cx="10" cy="10" r="9"/><path d="M10.97,7.72 C10.85,9.54 10.56,11.29 10.56,11.29 C10.51,11.87 10.27,12 9.99,12 C9.69,12 9.49,11.87 9.43,11.29 C9.43,11.29 9.16,9.54 9.03,7.72 C8.96,6.54 9.03,6 9.03,6 C9.03,5.45 9.46,5.02 9.99,5 C10.53,5.01 10.97,5.44 10.97,6 C10.97,6 11.04,6.54 10.97,7.72 L10.97,7.72 Z"/></svg>',whatsapp:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M16.7,3.3c-1.8-1.8-4.1-2.8-6.7-2.8c-5.2,0-9.4,4.2-9.4,9.4c0,1.7,0.4,3.3,1.3,4.7l-1.3,4.9l5-1.3c1.4,0.8,2.9,1.2,4.5,1.2 l0,0l0,0c5.2,0,9.4-4.2,9.4-9.4C19.5,7.4,18.5,5,16.7,3.3 M10.1,17.7L10.1,17.7c-1.4,0-2.8-0.4-4-1.1l-0.3-0.2l-3,0.8l0.8-2.9 l-0.2-0.3c-0.8-1.2-1.2-2.7-1.2-4.2c0-4.3,3.5-7.8,7.8-7.8c2.1,0,4.1,0.8,5.5,2.3c1.5,1.5,2.3,3.4,2.3,5.5 C17.9,14.2,14.4,17.7,10.1,17.7 M14.4,11.9c-0.2-0.1-1.4-0.7-1.6-0.8c-0.2-0.1-0.4-0.1-0.5,0.1c-0.2,0.2-0.6,0.8-0.8,0.9 c-0.1,0.2-0.3,0.2-0.5,0.1c-0.2-0.1-1-0.4-1.9-1.2c-0.7-0.6-1.2-1.4-1.3-1.6c-0.1-0.2,0-0.4,0.1-0.5C8,8.8,8.1,8.7,8.2,8.5 c0.1-0.1,0.2-0.2,0.2-0.4c0.1-0.2,0-0.3,0-0.4C8.4,7.6,7.9,6.5,7.7,6C7.5,5.5,7.3,5.6,7.2,5.6c-0.1,0-0.3,0-0.4,0 c-0.2,0-0.4,0.1-0.6,0.3c-0.2,0.2-0.8,0.8-0.8,2c0,1.2,0.8,2.3,1,2.4c0.1,0.2,1.7,2.5,4,3.5c0.6,0.2,1,0.4,1.3,0.5 c0.6,0.2,1.1,0.2,1.5,0.1c0.5-0.1,1.4-0.6,1.6-1.1c0.2-0.5,0.2-1,0.1-1.1C14.8,12.1,14.6,12,14.4,11.9"/></svg>',wordpress:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10,0.5c-5.2,0-9.5,4.3-9.5,9.5s4.3,9.5,9.5,9.5c5.2,0,9.5-4.3,9.5-9.5S15.2,0.5,10,0.5L10,0.5L10,0.5z M15.6,3.9h-0.1 c-0.8,0-1.4,0.7-1.4,1.5c0,0.7,0.4,1.3,0.8,1.9c0.3,0.6,0.7,1.3,0.7,2.3c0,0.7-0.3,1.5-0.6,2.7L14.1,15l-3-8.9 c0.5,0,0.9-0.1,0.9-0.1C12.5,6,12.5,5.3,12,5.4c0,0-1.3,0.1-2.2,0.1C9,5.5,7.7,5.4,7.7,5.4C7.2,5.3,7.2,6,7.6,6c0,0,0.4,0.1,0.9,0.1 l1.3,3.5L8,15L5,6.1C5.5,6.1,5.9,6,5.9,6C6.4,6,6.3,5.3,5.9,5.4c0,0-1.3,0.1-2.2,0.1c-0.2,0-0.3,0-0.5,0c1.5-2.2,4-3.7,6.9-3.7 C12.2,1.7,14.1,2.6,15.6,3.9L15.6,3.9L15.6,3.9z M2.5,6.6l3.9,10.8c-2.7-1.3-4.6-4.2-4.6-7.4C1.8,8.8,2,7.6,2.5,6.6L2.5,6.6L2.5,6.6 z M10.2,10.7l2.5,6.9c0,0,0,0.1,0.1,0.1C11.9,18,11,18.2,10,18.2c-0.8,0-1.6-0.1-2.3-0.3L10.2,10.7L10.2,10.7L10.2,10.7z M14.2,17.1 l2.5-7.3c0.5-1.2,0.6-2.1,0.6-2.9c0-0.3,0-0.6-0.1-0.8c0.6,1.2,1,2.5,1,4C18.3,13,16.6,15.7,14.2,17.1L14.2,17.1L14.2,17.1z"/></svg>',world:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="#000" d="M1,10.5 L19,10.5"/><path fill="none" stroke="#000" d="M2.35,15.5 L17.65,15.5"/><path fill="none" stroke="#000" d="M2.35,5.5 L17.523,5.5"/><path fill="none" stroke="#000" d="M10,19.46 L9.98,19.46 C7.31,17.33 5.61,14.141 5.61,10.58 C5.61,7.02 7.33,3.83 10,1.7 C10.01,1.7 9.99,1.7 10,1.7 L10,1.7 C12.67,3.83 14.4,7.02 14.4,10.58 C14.4,14.141 12.67,17.33 10,19.46 L10,19.46 L10,19.46 L10,19.46 Z"/><circle fill="none" stroke="#000" cx="10" cy="10.5" r="9"/></svg>',xing:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M4.4,4.56 C4.24,4.56 4.11,4.61 4.05,4.72 C3.98,4.83 3.99,4.97 4.07,5.12 L5.82,8.16 L5.82,8.17 L3.06,13.04 C2.99,13.18 2.99,13.33 3.06,13.44 C3.12,13.55 3.24,13.62 3.4,13.62 L6,13.62 C6.39,13.62 6.57,13.36 6.71,13.12 C6.71,13.12 9.41,8.35 9.51,8.16 C9.49,8.14 7.72,5.04 7.72,5.04 C7.58,4.81 7.39,4.56 6.99,4.56 L4.4,4.56 L4.4,4.56 Z"/><path d="M15.3,1 C14.91,1 14.74,1.25 14.6,1.5 C14.6,1.5 9.01,11.42 8.82,11.74 C8.83,11.76 12.51,18.51 12.51,18.51 C12.64,18.74 12.84,19 13.23,19 L15.82,19 C15.98,19 16.1,18.94 16.16,18.83 C16.23,18.72 16.23,18.57 16.16,18.43 L12.5,11.74 L12.5,11.72 L18.25,1.56 C18.32,1.42 18.32,1.27 18.25,1.16 C18.21,1.06 18.08,1 17.93,1 L15.3,1 L15.3,1 Z"/></svg>',yelp:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17.175,14.971c-0.112,0.77-1.686,2.767-2.406,3.054c-0.246,0.1-0.487,0.076-0.675-0.069	c-0.122-0.096-2.446-3.859-2.446-3.859c-0.194-0.293-0.157-0.682,0.083-0.978c0.234-0.284,0.581-0.393,0.881-0.276	c0.016,0.01,4.21,1.394,4.332,1.482c0.178,0.148,0.263,0.379,0.225,0.646L17.175,14.971L17.175,14.971z M11.464,10.789	c-0.203-0.307-0.199-0.666,0.009-0.916c0,0,2.625-3.574,2.745-3.657c0.203-0.135,0.452-0.141,0.69-0.025	c0.691,0.335,2.085,2.405,2.167,3.199v0.027c0.024,0.271-0.082,0.491-0.273,0.623c-0.132,0.083-4.43,1.155-4.43,1.155	c-0.322,0.096-0.68-0.06-0.882-0.381L11.464,10.789z M9.475,9.563C9.32,9.609,8.848,9.757,8.269,8.817c0,0-3.916-6.16-4.007-6.351	c-0.057-0.212,0.011-0.455,0.202-0.65C5.047,1.211,8.21,0.327,9.037,0.529c0.27,0.069,0.457,0.238,0.522,0.479	c0.047,0.266,0.433,5.982,0.488,7.264C10.098,9.368,9.629,9.517,9.475,9.563z M9.927,19.066c-0.083,0.225-0.273,0.373-0.54,0.421	c-0.762,0.13-3.15-0.751-3.647-1.342c-0.096-0.131-0.155-0.262-0.167-0.394c-0.011-0.095,0-0.189,0.036-0.272	c0.061-0.155,2.917-3.538,2.917-3.538c0.214-0.272,0.595-0.355,0.952-0.213c0.345,0.13,0.56,0.428,0.536,0.749	C10.014,14.479,9.977,18.923,9.927,19.066z M3.495,13.912c-0.235-0.009-0.444-0.148-0.568-0.382c-0.089-0.17-0.151-0.453-0.19-0.794	C2.63,11.701,2.761,10.144,3.07,9.648c0.145-0.226,0.357-0.345,0.592-0.336c0.154,0,4.255,1.667,4.255,1.667	c0.321,0.118,0.521,0.453,0.5,0.833c-0.023,0.37-0.236,0.655-0.551,0.738L3.495,13.912z"/></svg>',youtube:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15,4.1c1,0.1,2.3,0,3,0.8c0.8,0.8,0.9,2.1,0.9,3.1C19,9.2,19,10.9,19,12c-0.1,1.1,0,2.4-0.5,3.4c-0.5,1.1-1.4,1.5-2.5,1.6 c-1.2,0.1-8.6,0.1-11,0c-1.1-0.1-2.4-0.1-3.2-1c-0.7-0.8-0.7-2-0.8-3C1,11.8,1,10.1,1,8.9c0-1.1,0-2.4,0.5-3.4C2,4.5,3,4.3,4.1,4.2 C5.3,4.1,12.6,4,15,4.1z M8,7.5v6l5.5-3L8,7.5z"/></svg>'})}return typeof window<"u"&&window.UIkit&&window.UIkit.use(M),M})})(_y);const xy=X1(gy);xy.mount("#root");
